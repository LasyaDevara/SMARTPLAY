function sv(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var _t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ov(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var bp={exports:{}},Ta={},jp={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oi=Symbol.for("react.element"),av=Symbol.for("react.portal"),lv=Symbol.for("react.fragment"),cv=Symbol.for("react.strict_mode"),uv=Symbol.for("react.profiler"),dv=Symbol.for("react.provider"),hv=Symbol.for("react.context"),fv=Symbol.for("react.forward_ref"),mv=Symbol.for("react.suspense"),pv=Symbol.for("react.memo"),gv=Symbol.for("react.lazy"),xh=Symbol.iterator;function yv(e){return e===null||typeof e!="object"?null:(e=xh&&e[xh]||e["@@iterator"],typeof e=="function"?e:null)}var kp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sp=Object.assign,Np={};function gs(e,t,n){this.props=e,this.context=t,this.refs=Np,this.updater=n||kp}gs.prototype.isReactComponent={};gs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _p(){}_p.prototype=gs.prototype;function Au(e,t,n){this.props=e,this.context=t,this.refs=Np,this.updater=n||kp}var Mu=Au.prototype=new _p;Mu.constructor=Au;Sp(Mu,gs.prototype);Mu.isPureReactComponent=!0;var vh=Array.isArray,Cp=Object.prototype.hasOwnProperty,Ru={current:null},Pp={key:!0,ref:!0,__self:!0,__source:!0};function Tp(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Cp.call(t,r)&&!Pp.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Oi,type:e,key:i,ref:o,props:s,_owner:Ru.current}}function xv(e,t){return{$$typeof:Oi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Iu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oi}function vv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wh=/\/+/g;function dl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vv(""+e.key):t.toString(36)}function Mo(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Oi:case av:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+dl(o,0):r,vh(s)?(n="",e!=null&&(n=e.replace(wh,"$&/")+"/"),Mo(s,t,n,"",function(u){return u})):s!=null&&(Iu(s)&&(s=xv(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",vh(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+dl(i,l);o+=Mo(i,t,n,c,s)}else if(c=yv(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+dl(i,l++),o+=Mo(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function so(e,t,n){if(e==null)return e;var r=[],s=0;return Mo(e,r,"","",function(i){return t.call(n,i,s++)}),r}function wv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},Ro={transition:null},bv={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:Ro,ReactCurrentOwner:Ru};function Ep(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:so,forEach:function(e,t,n){so(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return so(e,function(){t++}),t},toArray:function(e){return so(e,function(t){return t})||[]},only:function(e){if(!Iu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=gs;ne.Fragment=lv;ne.Profiler=uv;ne.PureComponent=Au;ne.StrictMode=cv;ne.Suspense=mv;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bv;ne.act=Ep;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Sp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ru.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Cp.call(t,c)&&!Pp.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Oi,type:e.type,key:s,ref:i,props:r,_owner:o}};ne.createContext=function(e){return e={$$typeof:hv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dv,_context:e},e.Consumer=e};ne.createElement=Tp;ne.createFactory=function(e){var t=Tp.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:fv,render:e}};ne.isValidElement=Iu;ne.lazy=function(e){return{$$typeof:gv,_payload:{_status:-1,_result:e},_init:wv}};ne.memo=function(e,t){return{$$typeof:pv,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Ro.transition;Ro.transition={};try{e()}finally{Ro.transition=t}};ne.unstable_act=Ep;ne.useCallback=function(e,t){return Ze.current.useCallback(e,t)};ne.useContext=function(e){return Ze.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Ze.current.useEffect(e,t)};ne.useId=function(){return Ze.current.useId()};ne.useImperativeHandle=function(e,t,n){return Ze.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Ze.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return Ze.current.useReducer(e,t,n)};ne.useRef=function(e){return Ze.current.useRef(e)};ne.useState=function(e){return Ze.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return Ze.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return Ze.current.useTransition()};ne.version="18.3.1";jp.exports=ne;var v=jp.exports;const ci=iv(v),jv=sv({__proto__:null,default:ci},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv=v,Sv=Symbol.for("react.element"),Nv=Symbol.for("react.fragment"),_v=Object.prototype.hasOwnProperty,Cv=kv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pv={key:!0,ref:!0,__self:!0,__source:!0};function Ap(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)_v.call(t,r)&&!Pv.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Sv,type:e,key:i,ref:o,props:s,_owner:Cv.current}}Ta.Fragment=Nv;Ta.jsx=Ap;Ta.jsxs=Ap;bp.exports=Ta;var a=bp.exports,Mp={exports:{}},yt={},Rp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,F){var A=E.length;E.push(F);e:for(;0<A;){var z=A-1>>>1,Y=E[z];if(0<s(Y,F))E[z]=F,E[A]=Y,A=z;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var F=E[0],A=E.pop();if(A!==F){E[0]=A;e:for(var z=0,Y=E.length,M=Y>>>1;z<M;){var q=2*(z+1)-1,pe=E[q],N=q+1,O=E[N];if(0>s(pe,A))N<Y&&0>s(O,pe)?(E[z]=O,E[N]=A,z=N):(E[z]=pe,E[q]=A,z=q);else if(N<Y&&0>s(O,A))E[z]=O,E[N]=A,z=N;else break e}}return F}function s(E,F){var A=E.sortIndex-F.sortIndex;return A!==0?A:E.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,g=!1,x=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(E){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=E)r(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function k(E){if(w=!1,y(E),!x)if(n(c)!==null)x=!0,ue(b);else{var F=n(u);F!==null&&B(k,F.startTime-E)}}function b(E,F){x=!1,w&&(w=!1,m(P),P=-1),g=!0;var A=f;try{for(y(F),h=n(c);h!==null&&(!(h.expirationTime>F)||E&&!G());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var Y=z(h.expirationTime<=F);F=e.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(c)&&r(c),y(F)}else r(c);h=n(c)}if(h!==null)var M=!0;else{var q=n(u);q!==null&&B(k,q.startTime-F),M=!1}return M}finally{h=null,f=A,g=!1}}var S=!1,_=null,P=-1,$=5,T=-1;function G(){return!(e.unstable_now()-T<$)}function K(){if(_!==null){var E=e.unstable_now();T=E;var F=!0;try{F=_(!0,E)}finally{F?oe():(S=!1,_=null)}}else S=!1}var oe;if(typeof p=="function")oe=function(){p(K)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,se=W.port2;W.port1.onmessage=K,oe=function(){se.postMessage(null)}}else oe=function(){j(K,0)};function ue(E){_=E,S||(S=!0,oe())}function B(E,F){P=j(function(){E(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,ue(b))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var A=f;f=F;try{return E()}finally{f=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,F){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var A=f;f=E;try{return F()}finally{f=A}},e.unstable_scheduleCallback=function(E,F,A){var z=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?z+A:z):A=z,E){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=A+Y,E={id:d++,callback:F,priorityLevel:E,startTime:A,expirationTime:Y,sortIndex:-1},A>z?(E.sortIndex=A,t(u,E),n(c)===null&&E===n(u)&&(w?(m(P),P=-1):w=!0,B(k,A-z))):(E.sortIndex=Y,t(c,E),x||g||(x=!0,ue(b))),E},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(E){var F=f;return function(){var A=f;f=F;try{return E.apply(this,arguments)}finally{f=A}}}})(Ip);Rp.exports=Ip;var Tv=Rp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev=v,mt=Tv;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lp=new Set,ui={};function wr(e,t){rs(e,t),rs(e+"Capture",t)}function rs(e,t){for(ui[e]=t,e=0;e<t.length;e++)Lp.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oc=Object.prototype.hasOwnProperty,Av=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bh={},jh={};function Mv(e){return oc.call(jh,e)?!0:oc.call(bh,e)?!1:Av.test(e)?jh[e]=!0:(bh[e]=!0,!1)}function Rv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Iv(e,t,n,r){if(t===null||typeof t>"u"||Rv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ze[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ze[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ze[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ze[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ze[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ze[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ze[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ze[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ze[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lu=/[\-:]([a-z])/g;function Ou(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lu,Ou);ze[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lu,Ou);ze[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lu,Ou);ze[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ze[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});ze.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ze[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function Du(e,t,n,r){var s=ze.hasOwnProperty(t)?ze[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Iv(t,n,s,r)&&(n=null),r||s===null?Mv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yn=Ev.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,io=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Ir=Symbol.for("react.fragment"),Fu=Symbol.for("react.strict_mode"),ac=Symbol.for("react.profiler"),Op=Symbol.for("react.provider"),Dp=Symbol.for("react.context"),$u=Symbol.for("react.forward_ref"),lc=Symbol.for("react.suspense"),cc=Symbol.for("react.suspense_list"),Bu=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),Fp=Symbol.for("react.offscreen"),kh=Symbol.iterator;function _s(e){return e===null||typeof e!="object"?null:(e=kh&&e[kh]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,hl;function Os(e){if(hl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hl=t&&t[1]||""}return`
`+hl+e}var fl=!1;function ml(e,t){if(!e||fl)return"";fl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{fl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Os(e):""}function Lv(e){switch(e.tag){case 5:return Os(e.type);case 16:return Os("Lazy");case 13:return Os("Suspense");case 19:return Os("SuspenseList");case 0:case 2:case 15:return e=ml(e.type,!1),e;case 11:return e=ml(e.type.render,!1),e;case 1:return e=ml(e.type,!0),e;default:return""}}function uc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ir:return"Fragment";case Rr:return"Portal";case ac:return"Profiler";case Fu:return"StrictMode";case lc:return"Suspense";case cc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dp:return(e.displayName||"Context")+".Consumer";case Op:return(e._context.displayName||"Context")+".Provider";case $u:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bu:return t=e.displayName||null,t!==null?t:uc(e.type)||"Memo";case jn:t=e._payload,e=e._init;try{return uc(e(t))}catch{}}return null}function Ov(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uc(t);case 8:return t===Fu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $p(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dv(e){var t=$p(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oo(e){e._valueTracker||(e._valueTracker=Dv(e))}function Bp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$p(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ko(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dc(e,t){var n=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Up(e,t){t=t.checked,t!=null&&Du(e,"checked",t,!1)}function hc(e,t){Up(e,t);var n=Bn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fc(e,t.type,n):t.hasOwnProperty("defaultValue")&&fc(e,t.type,Bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fc(e,t,n){(t!=="number"||Ko(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ds=Array.isArray;function Yr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function mc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _h(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Ds(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bn(n)}}function zp(e,t){var n=Bn(t.value),r=Bn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ch(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ao,Wp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ao=ao||document.createElement("div"),ao.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ao.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function di(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fv=["Webkit","ms","Moz","O"];Object.keys(Ws).forEach(function(e){Fv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ws[t]=Ws[e]})});function Hp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ws.hasOwnProperty(e)&&Ws[e]?(""+t).trim():t+"px"}function qp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Hp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var $v=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gc(e,t){if(t){if($v[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function yc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xc=null;function Uu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vc=null,Jr=null,Xr=null;function Ph(e){if(e=$i(e)){if(typeof vc!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Ia(t),vc(e.stateNode,e.type,t))}}function Gp(e){Jr?Xr?Xr.push(e):Xr=[e]:Jr=e}function Kp(){if(Jr){var e=Jr,t=Xr;if(Xr=Jr=null,Ph(e),t)for(e=0;e<t.length;e++)Ph(t[e])}}function Qp(e,t){return e(t)}function Yp(){}var pl=!1;function Jp(e,t,n){if(pl)return e(t,n);pl=!0;try{return Qp(e,t,n)}finally{pl=!1,(Jr!==null||Xr!==null)&&(Yp(),Kp())}}function hi(e,t){var n=e.stateNode;if(n===null)return null;var r=Ia(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var wc=!1;if(dn)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){wc=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{wc=!1}function Bv(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Hs=!1,Qo=null,Yo=!1,bc=null,Uv={onError:function(e){Hs=!0,Qo=e}};function zv(e,t,n,r,s,i,o,l,c){Hs=!1,Qo=null,Bv.apply(Uv,arguments)}function Vv(e,t,n,r,s,i,o,l,c){if(zv.apply(this,arguments),Hs){if(Hs){var u=Qo;Hs=!1,Qo=null}else throw Error(L(198));Yo||(Yo=!0,bc=u)}}function br(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Xp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Th(e){if(br(e)!==e)throw Error(L(188))}function Wv(e){var t=e.alternate;if(!t){if(t=br(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Th(s),e;if(i===r)return Th(s),t;i=i.sibling}throw Error(L(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Zp(e){return e=Wv(e),e!==null?e0(e):null}function e0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=e0(e);if(t!==null)return t;e=e.sibling}return null}var t0=mt.unstable_scheduleCallback,Eh=mt.unstable_cancelCallback,Hv=mt.unstable_shouldYield,qv=mt.unstable_requestPaint,Te=mt.unstable_now,Gv=mt.unstable_getCurrentPriorityLevel,zu=mt.unstable_ImmediatePriority,n0=mt.unstable_UserBlockingPriority,Jo=mt.unstable_NormalPriority,Kv=mt.unstable_LowPriority,r0=mt.unstable_IdlePriority,Ea=null,Kt=null;function Qv(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Ea,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Xv,Yv=Math.log,Jv=Math.LN2;function Xv(e){return e>>>=0,e===0?32:31-(Yv(e)/Jv|0)|0}var lo=64,co=4194304;function Fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Fs(l):(i&=o,i!==0&&(r=Fs(i)))}else o=n&~s,o!==0?r=Fs(o):i!==0&&(r=Fs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dt(t),s=1<<n,r|=e[n],t&=~s;return r}function Zv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ew(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Dt(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=Zv(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function jc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function s0(){var e=lo;return lo<<=1,!(lo&4194240)&&(lo=64),e}function gl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Di(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=n}function tw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Dt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Vu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ce=0;function i0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var o0,Wu,a0,l0,c0,kc=!1,uo=[],Mn=null,Rn=null,In=null,fi=new Map,mi=new Map,_n=[],nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ah(e,t){switch(e){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":fi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mi.delete(t.pointerId)}}function Ps(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=$i(t),t!==null&&Wu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function rw(e,t,n,r,s){switch(t){case"focusin":return Mn=Ps(Mn,e,t,n,r,s),!0;case"dragenter":return Rn=Ps(Rn,e,t,n,r,s),!0;case"mouseover":return In=Ps(In,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return fi.set(i,Ps(fi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,mi.set(i,Ps(mi.get(i)||null,e,t,n,r,s)),!0}return!1}function u0(e){var t=or(e.target);if(t!==null){var n=br(t);if(n!==null){if(t=n.tag,t===13){if(t=Xp(n),t!==null){e.blockedOn=t,c0(e.priority,function(){a0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Io(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xc=r,n.target.dispatchEvent(r),xc=null}else return t=$i(n),t!==null&&Wu(t),e.blockedOn=n,!1;t.shift()}return!0}function Mh(e,t,n){Io(e)&&n.delete(t)}function sw(){kc=!1,Mn!==null&&Io(Mn)&&(Mn=null),Rn!==null&&Io(Rn)&&(Rn=null),In!==null&&Io(In)&&(In=null),fi.forEach(Mh),mi.forEach(Mh)}function Ts(e,t){e.blockedOn===t&&(e.blockedOn=null,kc||(kc=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,sw)))}function pi(e){function t(s){return Ts(s,e)}if(0<uo.length){Ts(uo[0],e);for(var n=1;n<uo.length;n++){var r=uo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mn!==null&&Ts(Mn,e),Rn!==null&&Ts(Rn,e),In!==null&&Ts(In,e),fi.forEach(t),mi.forEach(t),n=0;n<_n.length;n++)r=_n[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_n.length&&(n=_n[0],n.blockedOn===null);)u0(n),n.blockedOn===null&&_n.shift()}var Zr=yn.ReactCurrentBatchConfig,Zo=!0;function iw(e,t,n,r){var s=ce,i=Zr.transition;Zr.transition=null;try{ce=1,Hu(e,t,n,r)}finally{ce=s,Zr.transition=i}}function ow(e,t,n,r){var s=ce,i=Zr.transition;Zr.transition=null;try{ce=4,Hu(e,t,n,r)}finally{ce=s,Zr.transition=i}}function Hu(e,t,n,r){if(Zo){var s=Sc(e,t,n,r);if(s===null)_l(e,t,r,ea,n),Ah(e,r);else if(rw(s,e,t,n,r))r.stopPropagation();else if(Ah(e,r),t&4&&-1<nw.indexOf(e)){for(;s!==null;){var i=$i(s);if(i!==null&&o0(i),i=Sc(e,t,n,r),i===null&&_l(e,t,r,ea,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else _l(e,t,r,null,n)}}var ea=null;function Sc(e,t,n,r){if(ea=null,e=Uu(r),e=or(e),e!==null)if(t=br(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Xp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ea=e,null}function d0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gv()){case zu:return 1;case n0:return 4;case Jo:case Kv:return 16;case r0:return 536870912;default:return 16}default:return 16}}var Tn=null,qu=null,Lo=null;function h0(){if(Lo)return Lo;var e,t=qu,n=t.length,r,s="value"in Tn?Tn.value:Tn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Lo=s.slice(e,1<r?1-r:void 0)}function Oo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ho(){return!0}function Rh(){return!1}function xt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ho:Rh,this.isPropagationStopped=Rh,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),t}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gu=xt(ys),Fi=Se({},ys,{view:0,detail:0}),aw=xt(Fi),yl,xl,Es,Aa=Se({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ku,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(yl=e.screenX-Es.screenX,xl=e.screenY-Es.screenY):xl=yl=0,Es=e),yl)},movementY:function(e){return"movementY"in e?e.movementY:xl}}),Ih=xt(Aa),lw=Se({},Aa,{dataTransfer:0}),cw=xt(lw),uw=Se({},Fi,{relatedTarget:0}),vl=xt(uw),dw=Se({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),hw=xt(dw),fw=Se({},ys,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mw=xt(fw),pw=Se({},ys,{data:0}),Lh=xt(pw),gw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xw[e])?!!t[e]:!1}function Ku(){return vw}var ww=Se({},Fi,{key:function(e){if(e.key){var t=gw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ku,charCode:function(e){return e.type==="keypress"?Oo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bw=xt(ww),jw=Se({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oh=xt(jw),kw=Se({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ku}),Sw=xt(kw),Nw=Se({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),_w=xt(Nw),Cw=Se({},Aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pw=xt(Cw),Tw=[9,13,27,32],Qu=dn&&"CompositionEvent"in window,qs=null;dn&&"documentMode"in document&&(qs=document.documentMode);var Ew=dn&&"TextEvent"in window&&!qs,f0=dn&&(!Qu||qs&&8<qs&&11>=qs),Dh=" ",Fh=!1;function m0(e,t){switch(e){case"keyup":return Tw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lr=!1;function Aw(e,t){switch(e){case"compositionend":return p0(t);case"keypress":return t.which!==32?null:(Fh=!0,Dh);case"textInput":return e=t.data,e===Dh&&Fh?null:e;default:return null}}function Mw(e,t){if(Lr)return e==="compositionend"||!Qu&&m0(e,t)?(e=h0(),Lo=qu=Tn=null,Lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return f0&&t.locale!=="ko"?null:t.data;default:return null}}var Rw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $h(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rw[e.type]:t==="textarea"}function g0(e,t,n,r){Gp(r),t=ta(t,"onChange"),0<t.length&&(n=new Gu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gs=null,gi=null;function Iw(e){C0(e,0)}function Ma(e){var t=Fr(e);if(Bp(t))return e}function Lw(e,t){if(e==="change")return t}var y0=!1;if(dn){var wl;if(dn){var bl="oninput"in document;if(!bl){var Bh=document.createElement("div");Bh.setAttribute("oninput","return;"),bl=typeof Bh.oninput=="function"}wl=bl}else wl=!1;y0=wl&&(!document.documentMode||9<document.documentMode)}function Uh(){Gs&&(Gs.detachEvent("onpropertychange",x0),gi=Gs=null)}function x0(e){if(e.propertyName==="value"&&Ma(gi)){var t=[];g0(t,gi,e,Uu(e)),Jp(Iw,t)}}function Ow(e,t,n){e==="focusin"?(Uh(),Gs=t,gi=n,Gs.attachEvent("onpropertychange",x0)):e==="focusout"&&Uh()}function Dw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ma(gi)}function Fw(e,t){if(e==="click")return Ma(t)}function $w(e,t){if(e==="input"||e==="change")return Ma(t)}function Bw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:Bw;function yi(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!oc.call(t,s)||!Bt(e[s],t[s]))return!1}return!0}function zh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vh(e,t){var n=zh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zh(n)}}function v0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?v0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function w0(){for(var e=window,t=Ko();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ko(e.document)}return t}function Yu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Uw(e){var t=w0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&v0(n.ownerDocument.documentElement,n)){if(r!==null&&Yu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Vh(n,i);var o=Vh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zw=dn&&"documentMode"in document&&11>=document.documentMode,Or=null,Nc=null,Ks=null,_c=!1;function Wh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_c||Or==null||Or!==Ko(r)||(r=Or,"selectionStart"in r&&Yu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ks&&yi(Ks,r)||(Ks=r,r=ta(Nc,"onSelect"),0<r.length&&(t=new Gu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Or)))}function fo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dr={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionend:fo("Transition","TransitionEnd")},jl={},b0={};dn&&(b0=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function Ra(e){if(jl[e])return jl[e];if(!Dr[e])return e;var t=Dr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in b0)return jl[e]=t[n];return e}var j0=Ra("animationend"),k0=Ra("animationiteration"),S0=Ra("animationstart"),N0=Ra("transitionend"),_0=new Map,Hh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(e,t){_0.set(e,t),wr(t,[e])}for(var kl=0;kl<Hh.length;kl++){var Sl=Hh[kl],Vw=Sl.toLowerCase(),Ww=Sl[0].toUpperCase()+Sl.slice(1);Wn(Vw,"on"+Ww)}Wn(j0,"onAnimationEnd");Wn(k0,"onAnimationIteration");Wn(S0,"onAnimationStart");Wn("dblclick","onDoubleClick");Wn("focusin","onFocus");Wn("focusout","onBlur");Wn(N0,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hw=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function qh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Vv(r,t,void 0,e),e.currentTarget=null}function C0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;qh(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;qh(s,l,u),i=c}}}if(Yo)throw e=bc,Yo=!1,bc=null,e}function ye(e,t){var n=t[Ac];n===void 0&&(n=t[Ac]=new Set);var r=e+"__bubble";n.has(r)||(P0(t,e,2,!1),n.add(r))}function Nl(e,t,n){var r=0;t&&(r|=4),P0(n,e,r,t)}var mo="_reactListening"+Math.random().toString(36).slice(2);function xi(e){if(!e[mo]){e[mo]=!0,Lp.forEach(function(n){n!=="selectionchange"&&(Hw.has(n)||Nl(n,!1,e),Nl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mo]||(t[mo]=!0,Nl("selectionchange",!1,t))}}function P0(e,t,n,r){switch(d0(t)){case 1:var s=iw;break;case 4:s=ow;break;default:s=Hu}n=s.bind(null,t,n,e),s=void 0,!wc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function _l(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=or(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Jp(function(){var u=i,d=Uu(n),h=[];e:{var f=_0.get(e);if(f!==void 0){var g=Gu,x=e;switch(e){case"keypress":if(Oo(n)===0)break e;case"keydown":case"keyup":g=bw;break;case"focusin":x="focus",g=vl;break;case"focusout":x="blur",g=vl;break;case"beforeblur":case"afterblur":g=vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=cw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Sw;break;case j0:case k0:case S0:g=hw;break;case N0:g=_w;break;case"scroll":g=aw;break;case"wheel":g=Pw;break;case"copy":case"cut":case"paste":g=mw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Oh}var w=(t&4)!==0,j=!w&&e==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var p=u,y;p!==null;){y=p;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,m!==null&&(k=hi(p,m),k!=null&&w.push(vi(p,k,y)))),j)break;p=p.return}0<w.length&&(f=new g(f,x,null,n,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==xc&&(x=n.relatedTarget||n.fromElement)&&(or(x)||x[hn]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?or(x):null,x!==null&&(j=br(x),x!==j||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(w=Ih,k="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=Oh,k="onPointerLeave",m="onPointerEnter",p="pointer"),j=g==null?f:Fr(g),y=x==null?f:Fr(x),f=new w(k,p+"leave",g,n,d),f.target=j,f.relatedTarget=y,k=null,or(d)===u&&(w=new w(m,p+"enter",x,n,d),w.target=y,w.relatedTarget=j,k=w),j=k,g&&x)t:{for(w=g,m=x,p=0,y=w;y;y=Nr(y))p++;for(y=0,k=m;k;k=Nr(k))y++;for(;0<p-y;)w=Nr(w),p--;for(;0<y-p;)m=Nr(m),y--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=Nr(w),m=Nr(m)}w=null}else w=null;g!==null&&Gh(h,f,g,w,!1),x!==null&&j!==null&&Gh(h,j,x,w,!0)}}e:{if(f=u?Fr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var b=Lw;else if($h(f))if(y0)b=$w;else{b=Dw;var S=Ow}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=Fw);if(b&&(b=b(e,u))){g0(h,b,n,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&fc(f,"number",f.value)}switch(S=u?Fr(u):window,e){case"focusin":($h(S)||S.contentEditable==="true")&&(Or=S,Nc=u,Ks=null);break;case"focusout":Ks=Nc=Or=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,Wh(h,n,d);break;case"selectionchange":if(zw)break;case"keydown":case"keyup":Wh(h,n,d)}var _;if(Qu)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Lr?m0(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(f0&&n.locale!=="ko"&&(Lr||P!=="onCompositionStart"?P==="onCompositionEnd"&&Lr&&(_=h0()):(Tn=d,qu="value"in Tn?Tn.value:Tn.textContent,Lr=!0)),S=ta(u,P),0<S.length&&(P=new Lh(P,e,null,n,d),h.push({event:P,listeners:S}),_?P.data=_:(_=p0(n),_!==null&&(P.data=_)))),(_=Ew?Aw(e,n):Mw(e,n))&&(u=ta(u,"onBeforeInput"),0<u.length&&(d=new Lh("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=_))}C0(h,t)})}function vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ta(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=hi(e,n),i!=null&&r.unshift(vi(e,i,s)),i=hi(e,t),i!=null&&r.push(vi(e,i,s))),e=e.return}return r}function Nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=hi(n,i),c!=null&&o.unshift(vi(n,c,l))):s||(c=hi(n,i),c!=null&&o.push(vi(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var qw=/\r\n?/g,Gw=/\u0000|\uFFFD/g;function Kh(e){return(typeof e=="string"?e:""+e).replace(qw,`
`).replace(Gw,"")}function po(e,t,n){if(t=Kh(t),Kh(e)!==t&&n)throw Error(L(425))}function na(){}var Cc=null,Pc=null;function Tc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ec=typeof setTimeout=="function"?setTimeout:void 0,Kw=typeof clearTimeout=="function"?clearTimeout:void 0,Qh=typeof Promise=="function"?Promise:void 0,Qw=typeof queueMicrotask=="function"?queueMicrotask:typeof Qh<"u"?function(e){return Qh.resolve(null).then(e).catch(Yw)}:Ec;function Yw(e){setTimeout(function(){throw e})}function Cl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),pi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);pi(t)}function Ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xs=Math.random().toString(36).slice(2),Gt="__reactFiber$"+xs,wi="__reactProps$"+xs,hn="__reactContainer$"+xs,Ac="__reactEvents$"+xs,Jw="__reactListeners$"+xs,Xw="__reactHandles$"+xs;function or(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yh(e);e!==null;){if(n=e[Gt])return n;e=Yh(e)}return t}e=n,n=e.parentNode}return null}function $i(e){return e=e[Gt]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Ia(e){return e[wi]||null}var Mc=[],$r=-1;function Hn(e){return{current:e}}function xe(e){0>$r||(e.current=Mc[$r],Mc[$r]=null,$r--)}function me(e,t){$r++,Mc[$r]=e.current,e.current=t}var Un={},Qe=Hn(Un),it=Hn(!1),mr=Un;function ss(e,t){var n=e.type.contextTypes;if(!n)return Un;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ot(e){return e=e.childContextTypes,e!=null}function ra(){xe(it),xe(Qe)}function Jh(e,t,n){if(Qe.current!==Un)throw Error(L(168));me(Qe,t),me(it,n)}function T0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(L(108,Ov(e)||"Unknown",s));return Se({},n,r)}function sa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Un,mr=Qe.current,me(Qe,e),me(it,it.current),!0}function Xh(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=T0(e,t,mr),r.__reactInternalMemoizedMergedChildContext=e,xe(it),xe(Qe),me(Qe,e)):xe(it),me(it,n)}var rn=null,La=!1,Pl=!1;function E0(e){rn===null?rn=[e]:rn.push(e)}function Zw(e){La=!0,E0(e)}function qn(){if(!Pl&&rn!==null){Pl=!0;var e=0,t=ce;try{var n=rn;for(ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rn=null,La=!1}catch(s){throw rn!==null&&(rn=rn.slice(e+1)),t0(zu,qn),s}finally{ce=t,Pl=!1}}return null}var Br=[],Ur=0,ia=null,oa=0,jt=[],kt=0,pr=null,sn=1,on="";function er(e,t){Br[Ur++]=oa,Br[Ur++]=ia,ia=e,oa=t}function A0(e,t,n){jt[kt++]=sn,jt[kt++]=on,jt[kt++]=pr,pr=e;var r=sn;e=on;var s=32-Dt(r)-1;r&=~(1<<s),n+=1;var i=32-Dt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,sn=1<<32-Dt(t)+s|n<<s|r,on=i+e}else sn=1<<i|n<<s|r,on=e}function Ju(e){e.return!==null&&(er(e,1),A0(e,1,0))}function Xu(e){for(;e===ia;)ia=Br[--Ur],Br[Ur]=null,oa=Br[--Ur],Br[Ur]=null;for(;e===pr;)pr=jt[--kt],jt[kt]=null,on=jt[--kt],jt[kt]=null,sn=jt[--kt],jt[kt]=null}var ht=null,dt=null,we=!1,Ot=null;function M0(e,t){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Zh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ht=e,dt=Ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ht=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pr!==null?{id:sn,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ht=e,dt=null,!0):!1;default:return!1}}function Rc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ic(e){if(we){var t=dt;if(t){var n=t;if(!Zh(e,t)){if(Rc(e))throw Error(L(418));t=Ln(n.nextSibling);var r=ht;t&&Zh(e,t)?M0(r,n):(e.flags=e.flags&-4097|2,we=!1,ht=e)}}else{if(Rc(e))throw Error(L(418));e.flags=e.flags&-4097|2,we=!1,ht=e}}}function ef(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ht=e}function go(e){if(e!==ht)return!1;if(!we)return ef(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Tc(e.type,e.memoizedProps)),t&&(t=dt)){if(Rc(e))throw R0(),Error(L(418));for(;t;)M0(e,t),t=Ln(t.nextSibling)}if(ef(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dt=Ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ht?Ln(e.stateNode.nextSibling):null;return!0}function R0(){for(var e=dt;e;)e=Ln(e.nextSibling)}function is(){dt=ht=null,we=!1}function Zu(e){Ot===null?Ot=[e]:Ot.push(e)}var e1=yn.ReactCurrentBatchConfig;function As(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tf(e){var t=e._init;return t(e._payload)}function I0(e){function t(m,p){if(e){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=$n(m,p),m.index=0,m.sibling=null,m}function i(m,p,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,y,k){return p===null||p.tag!==6?(p=Ll(y,m.mode,k),p.return=m,p):(p=s(p,y),p.return=m,p)}function c(m,p,y,k){var b=y.type;return b===Ir?d(m,p,y.props.children,k,y.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===jn&&tf(b)===p.type)?(k=s(p,y.props),k.ref=As(m,p,y),k.return=m,k):(k=Vo(y.type,y.key,y.props,null,m.mode,k),k.ref=As(m,p,y),k.return=m,k)}function u(m,p,y,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Ol(y,m.mode,k),p.return=m,p):(p=s(p,y.children||[]),p.return=m,p)}function d(m,p,y,k,b){return p===null||p.tag!==7?(p=dr(y,m.mode,k,b),p.return=m,p):(p=s(p,y),p.return=m,p)}function h(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ll(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case io:return y=Vo(p.type,p.key,p.props,null,m.mode,y),y.ref=As(m,null,p),y.return=m,y;case Rr:return p=Ol(p,m.mode,y),p.return=m,p;case jn:var k=p._init;return h(m,k(p._payload),y)}if(Ds(p)||_s(p))return p=dr(p,m.mode,y,null),p.return=m,p;yo(m,p)}return null}function f(m,p,y,k){var b=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:l(m,p,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case io:return y.key===b?c(m,p,y,k):null;case Rr:return y.key===b?u(m,p,y,k):null;case jn:return b=y._init,f(m,p,b(y._payload),k)}if(Ds(y)||_s(y))return b!==null?null:d(m,p,y,k,null);yo(m,y)}return null}function g(m,p,y,k,b){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(y)||null,l(p,m,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case io:return m=m.get(k.key===null?y:k.key)||null,c(p,m,k,b);case Rr:return m=m.get(k.key===null?y:k.key)||null,u(p,m,k,b);case jn:var S=k._init;return g(m,p,y,S(k._payload),b)}if(Ds(k)||_s(k))return m=m.get(y)||null,d(p,m,k,b,null);yo(p,k)}return null}function x(m,p,y,k){for(var b=null,S=null,_=p,P=p=0,$=null;_!==null&&P<y.length;P++){_.index>P?($=_,_=null):$=_.sibling;var T=f(m,_,y[P],k);if(T===null){_===null&&(_=$);break}e&&_&&T.alternate===null&&t(m,_),p=i(T,p,P),S===null?b=T:S.sibling=T,S=T,_=$}if(P===y.length)return n(m,_),we&&er(m,P),b;if(_===null){for(;P<y.length;P++)_=h(m,y[P],k),_!==null&&(p=i(_,p,P),S===null?b=_:S.sibling=_,S=_);return we&&er(m,P),b}for(_=r(m,_);P<y.length;P++)$=g(_,m,P,y[P],k),$!==null&&(e&&$.alternate!==null&&_.delete($.key===null?P:$.key),p=i($,p,P),S===null?b=$:S.sibling=$,S=$);return e&&_.forEach(function(G){return t(m,G)}),we&&er(m,P),b}function w(m,p,y,k){var b=_s(y);if(typeof b!="function")throw Error(L(150));if(y=b.call(y),y==null)throw Error(L(151));for(var S=b=null,_=p,P=p=0,$=null,T=y.next();_!==null&&!T.done;P++,T=y.next()){_.index>P?($=_,_=null):$=_.sibling;var G=f(m,_,T.value,k);if(G===null){_===null&&(_=$);break}e&&_&&G.alternate===null&&t(m,_),p=i(G,p,P),S===null?b=G:S.sibling=G,S=G,_=$}if(T.done)return n(m,_),we&&er(m,P),b;if(_===null){for(;!T.done;P++,T=y.next())T=h(m,T.value,k),T!==null&&(p=i(T,p,P),S===null?b=T:S.sibling=T,S=T);return we&&er(m,P),b}for(_=r(m,_);!T.done;P++,T=y.next())T=g(_,m,P,T.value,k),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?P:T.key),p=i(T,p,P),S===null?b=T:S.sibling=T,S=T);return e&&_.forEach(function(K){return t(m,K)}),we&&er(m,P),b}function j(m,p,y,k){if(typeof y=="object"&&y!==null&&y.type===Ir&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case io:e:{for(var b=y.key,S=p;S!==null;){if(S.key===b){if(b=y.type,b===Ir){if(S.tag===7){n(m,S.sibling),p=s(S,y.props.children),p.return=m,m=p;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===jn&&tf(b)===S.type){n(m,S.sibling),p=s(S,y.props),p.ref=As(m,S,y),p.return=m,m=p;break e}n(m,S);break}else t(m,S);S=S.sibling}y.type===Ir?(p=dr(y.props.children,m.mode,k,y.key),p.return=m,m=p):(k=Vo(y.type,y.key,y.props,null,m.mode,k),k.ref=As(m,p,y),k.return=m,m=k)}return o(m);case Rr:e:{for(S=y.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=s(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=Ol(y,m.mode,k),p.return=m,m=p}return o(m);case jn:return S=y._init,j(m,p,S(y._payload),k)}if(Ds(y))return x(m,p,y,k);if(_s(y))return w(m,p,y,k);yo(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,y),p.return=m,m=p):(n(m,p),p=Ll(y,m.mode,k),p.return=m,m=p),o(m)):n(m,p)}return j}var os=I0(!0),L0=I0(!1),aa=Hn(null),la=null,zr=null,ed=null;function td(){ed=zr=la=null}function nd(e){var t=aa.current;xe(aa),e._currentValue=t}function Lc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function es(e,t){la=e,ed=zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(ed!==e)if(e={context:e,memoizedValue:t,next:null},zr===null){if(la===null)throw Error(L(308));zr=e,la.dependencies={lanes:0,firstContext:e}}else zr=zr.next=e;return t}var ar=null;function rd(e){ar===null?ar=[e]:ar.push(e)}function O0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,rd(t)):(n.next=s.next,s.next=n),t.interleaved=n,fn(e,r)}function fn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kn=!1;function sd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function On(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,fn(e,n)}return s=r.interleaved,s===null?(t.next=t,rd(r)):(t.next=s.next,s.next=t),r.interleaved=t,fn(e,n)}function Do(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vu(e,n)}}function nf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ca(e,t,n,r){var s=e.updateQueue;kn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,g=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,w=l;switch(f=t,g=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){h=x.call(g,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,f=typeof x=="function"?x.call(g,h,f):x,f==null)break e;h=Se({},h,f);break e;case 2:kn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);yr|=o,e.lanes=o,e.memoizedState=h}}function rf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(L(191,s));s.call(r)}}}var Bi={},Qt=Hn(Bi),bi=Hn(Bi),ji=Hn(Bi);function lr(e){if(e===Bi)throw Error(L(174));return e}function id(e,t){switch(me(ji,t),me(bi,e),me(Qt,Bi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pc(t,e)}xe(Qt),me(Qt,t)}function as(){xe(Qt),xe(bi),xe(ji)}function F0(e){lr(ji.current);var t=lr(Qt.current),n=pc(t,e.type);t!==n&&(me(bi,e),me(Qt,n))}function od(e){bi.current===e&&(xe(Qt),xe(bi))}var be=Hn(0);function ua(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tl=[];function ad(){for(var e=0;e<Tl.length;e++)Tl[e]._workInProgressVersionPrimary=null;Tl.length=0}var Fo=yn.ReactCurrentDispatcher,El=yn.ReactCurrentBatchConfig,gr=0,ke=null,Re=null,Oe=null,da=!1,Qs=!1,ki=0,t1=0;function We(){throw Error(L(321))}function ld(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function cd(e,t,n,r,s,i){if(gr=i,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fo.current=e===null||e.memoizedState===null?i1:o1,e=n(r,s),Qs){i=0;do{if(Qs=!1,ki=0,25<=i)throw Error(L(301));i+=1,Oe=Re=null,t.updateQueue=null,Fo.current=a1,e=n(r,s)}while(Qs)}if(Fo.current=ha,t=Re!==null&&Re.next!==null,gr=0,Oe=Re=ke=null,da=!1,t)throw Error(L(300));return e}function ud(){var e=ki!==0;return ki=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?ke.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Pt(){if(Re===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Oe===null?ke.memoizedState:Oe.next;if(t!==null)Oe=t,Re=e;else{if(e===null)throw Error(L(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Oe===null?ke.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Si(e,t){return typeof t=="function"?t(e):t}function Al(e){var t=Pt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=Re,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((gr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,ke.lanes|=d,yr|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Bt(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ke.lanes|=i,yr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ml(e){var t=Pt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Bt(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function $0(){}function B0(e,t){var n=ke,r=Pt(),s=t(),i=!Bt(r.memoizedState,s);if(i&&(r.memoizedState=s,st=!0),r=r.queue,dd(V0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,Ni(9,z0.bind(null,n,r,s,t),void 0,null),De===null)throw Error(L(349));gr&30||U0(n,t,s)}return s}function U0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function z0(e,t,n,r){t.value=n,t.getSnapshot=r,W0(t)&&H0(e)}function V0(e,t,n){return n(function(){W0(t)&&H0(e)})}function W0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function H0(e){var t=fn(e,1);t!==null&&Ft(t,e,1,-1)}function sf(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:e},t.queue=e,e=e.dispatch=s1.bind(null,ke,e),[t.memoizedState,e]}function Ni(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function q0(){return Pt().memoizedState}function $o(e,t,n,r){var s=qt();ke.flags|=e,s.memoizedState=Ni(1|t,n,void 0,r===void 0?null:r)}function Oa(e,t,n,r){var s=Pt();r=r===void 0?null:r;var i=void 0;if(Re!==null){var o=Re.memoizedState;if(i=o.destroy,r!==null&&ld(r,o.deps)){s.memoizedState=Ni(t,n,i,r);return}}ke.flags|=e,s.memoizedState=Ni(1|t,n,i,r)}function of(e,t){return $o(8390656,8,e,t)}function dd(e,t){return Oa(2048,8,e,t)}function G0(e,t){return Oa(4,2,e,t)}function K0(e,t){return Oa(4,4,e,t)}function Q0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Y0(e,t,n){return n=n!=null?n.concat([e]):null,Oa(4,4,Q0.bind(null,t,e),n)}function hd(){}function J0(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ld(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function X0(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ld(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Z0(e,t,n){return gr&21?(Bt(n,t)||(n=s0(),ke.lanes|=n,yr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function n1(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var r=El.transition;El.transition={};try{e(!1),t()}finally{ce=n,El.transition=r}}function eg(){return Pt().memoizedState}function r1(e,t,n){var r=Fn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tg(e))ng(t,n);else if(n=O0(e,t,n,r),n!==null){var s=Xe();Ft(n,e,r,s),rg(n,t,r)}}function s1(e,t,n){var r=Fn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tg(e))ng(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Bt(l,o)){var c=t.interleaved;c===null?(s.next=s,rd(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=O0(e,t,s,r),n!==null&&(s=Xe(),Ft(n,e,r,s),rg(n,t,r))}}function tg(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function ng(e,t){Qs=da=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vu(e,n)}}var ha={readContext:Ct,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},i1={readContext:Ct,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:of,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$o(4194308,4,Q0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $o(4194308,4,e,t)},useInsertionEffect:function(e,t){return $o(4,2,e,t)},useMemo:function(e,t){var n=qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=r1.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:sf,useDebugValue:hd,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=sf(!1),t=e[0];return e=n1.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,s=qt();if(we){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),De===null)throw Error(L(349));gr&30||U0(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,of(V0.bind(null,r,i,e),[e]),r.flags|=2048,Ni(9,z0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=qt(),t=De.identifierPrefix;if(we){var n=on,r=sn;n=(r&~(1<<32-Dt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ki++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=t1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},o1={readContext:Ct,useCallback:J0,useContext:Ct,useEffect:dd,useImperativeHandle:Y0,useInsertionEffect:G0,useLayoutEffect:K0,useMemo:X0,useReducer:Al,useRef:q0,useState:function(){return Al(Si)},useDebugValue:hd,useDeferredValue:function(e){var t=Pt();return Z0(t,Re.memoizedState,e)},useTransition:function(){var e=Al(Si)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:$0,useSyncExternalStore:B0,useId:eg,unstable_isNewReconciler:!1},a1={readContext:Ct,useCallback:J0,useContext:Ct,useEffect:dd,useImperativeHandle:Y0,useInsertionEffect:G0,useLayoutEffect:K0,useMemo:X0,useReducer:Ml,useRef:q0,useState:function(){return Ml(Si)},useDebugValue:hd,useDeferredValue:function(e){var t=Pt();return Re===null?t.memoizedState=e:Z0(t,Re.memoizedState,e)},useTransition:function(){var e=Ml(Si)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:$0,useSyncExternalStore:B0,useId:eg,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Oc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Da={isMounted:function(e){return(e=e._reactInternals)?br(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xe(),s=Fn(e),i=ln(r,s);i.payload=t,n!=null&&(i.callback=n),t=On(e,i,s),t!==null&&(Ft(t,e,s,r),Do(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xe(),s=Fn(e),i=ln(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=On(e,i,s),t!==null&&(Ft(t,e,s,r),Do(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),r=Fn(e),s=ln(n,r);s.tag=2,t!=null&&(s.callback=t),t=On(e,s,r),t!==null&&(Ft(t,e,r,n),Do(t,e,r))}};function af(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!yi(n,r)||!yi(s,i):!0}function sg(e,t,n){var r=!1,s=Un,i=t.contextType;return typeof i=="object"&&i!==null?i=Ct(i):(s=ot(t)?mr:Qe.current,r=t.contextTypes,i=(r=r!=null)?ss(e,s):Un),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Da,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function lf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Da.enqueueReplaceState(t,t.state,null)}function Dc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},sd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ct(i):(i=ot(t)?mr:Qe.current,s.context=ss(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Oc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Da.enqueueReplaceState(s,s.state,null),ca(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ls(e,t){try{var n="",r=t;do n+=Lv(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Rl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var l1=typeof WeakMap=="function"?WeakMap:Map;function ig(e,t,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ma||(ma=!0,Kc=r),Fc(e,t)},n}function og(e,t,n){n=ln(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Fc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Fc(e,t),typeof r!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function cf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new l1;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=j1.bind(null,e,t,n),t.then(e,e))}function uf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function df(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ln(-1,1),t.tag=2,On(n,t,1))),n.lanes|=1),e)}var c1=yn.ReactCurrentOwner,st=!1;function Je(e,t,n,r){t.child=e===null?L0(t,null,n,r):os(t,e.child,n,r)}function hf(e,t,n,r,s){n=n.render;var i=t.ref;return es(t,s),r=cd(e,t,n,r,i,s),n=ud(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mn(e,t,s)):(we&&n&&Ju(t),t.flags|=1,Je(e,t,r,s),t.child)}function ff(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!wd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ag(e,t,i,r,s)):(e=Vo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:yi,n(o,r)&&e.ref===t.ref)return mn(e,t,s)}return t.flags|=1,e=$n(i,r),e.ref=t.ref,e.return=t,t.child=e}function ag(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(yi(i,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,mn(e,t,s)}return $c(e,t,n,r,s)}function lg(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Wr,ut),ut|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(Wr,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,me(Wr,ut),ut|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,me(Wr,ut),ut|=r;return Je(e,t,s,n),t.child}function cg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $c(e,t,n,r,s){var i=ot(n)?mr:Qe.current;return i=ss(t,i),es(t,s),n=cd(e,t,n,r,i,s),r=ud(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mn(e,t,s)):(we&&r&&Ju(t),t.flags|=1,Je(e,t,n,s),t.child)}function mf(e,t,n,r,s){if(ot(n)){var i=!0;sa(t)}else i=!1;if(es(t,s),t.stateNode===null)Bo(e,t),sg(t,n,r),Dc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ct(u):(u=ot(n)?mr:Qe.current,u=ss(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&lf(t,o,r,u),kn=!1;var f=t.memoizedState;o.state=f,ca(t,r,o,s),c=t.memoizedState,l!==r||f!==c||it.current||kn?(typeof d=="function"&&(Oc(t,n,d,r),c=t.memoizedState),(l=kn||af(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,D0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Rt(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ct(c):(c=ot(n)?mr:Qe.current,c=ss(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&lf(t,o,r,c),kn=!1,f=t.memoizedState,o.state=f,ca(t,r,o,s);var x=t.memoizedState;l!==h||f!==x||it.current||kn?(typeof g=="function"&&(Oc(t,n,g,r),x=t.memoizedState),(u=kn||af(t,n,u,r,f,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Bc(e,t,n,r,i,s)}function Bc(e,t,n,r,s,i){cg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Xh(t,n,!1),mn(e,t,i);r=t.stateNode,c1.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=os(t,e.child,null,i),t.child=os(t,null,l,i)):Je(e,t,l,i),t.memoizedState=r.state,s&&Xh(t,n,!0),t.child}function ug(e){var t=e.stateNode;t.pendingContext?Jh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jh(e,t.context,!1),id(e,t.containerInfo)}function pf(e,t,n,r,s){return is(),Zu(s),t.flags|=256,Je(e,t,n,r),t.child}var Uc={dehydrated:null,treeContext:null,retryLane:0};function zc(e){return{baseLanes:e,cachePool:null,transitions:null}}function dg(e,t,n){var r=t.pendingProps,s=be.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),me(be,s&1),e===null)return Ic(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ba(o,r,0,null),e=dr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=zc(n),t.memoizedState=Uc,e):fd(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return u1(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=$n(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=$n(l,i):(i=dr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?zc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Uc,r}return i=e.child,e=i.sibling,r=$n(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fd(e,t){return t=Ba({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xo(e,t,n,r){return r!==null&&Zu(r),os(t,e.child,null,n),e=fd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function u1(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Rl(Error(L(422))),xo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ba({mode:"visible",children:r.children},s,0,null),i=dr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&os(t,e.child,null,o),t.child.memoizedState=zc(o),t.memoizedState=Uc,i);if(!(t.mode&1))return xo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(L(419)),r=Rl(i,r,void 0),xo(e,t,o,r)}if(l=(o&e.childLanes)!==0,st||l){if(r=De,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fn(e,s),Ft(r,e,s,-1))}return vd(),r=Rl(Error(L(421))),xo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=k1.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,dt=Ln(s.nextSibling),ht=t,we=!0,Ot=null,e!==null&&(jt[kt++]=sn,jt[kt++]=on,jt[kt++]=pr,sn=e.id,on=e.overflow,pr=t),t=fd(t,r.children),t.flags|=4096,t)}function gf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Lc(e.return,t,n)}function Il(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function hg(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Je(e,t,r.children,n),r=be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gf(e,n,t);else if(e.tag===19)gf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(me(be,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ua(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Il(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ua(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Il(t,!0,n,null,i);break;case"together":Il(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=$n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function d1(e,t,n){switch(t.tag){case 3:ug(t),is();break;case 5:F0(t);break;case 1:ot(t.type)&&sa(t);break;case 4:id(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;me(aa,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(me(be,be.current&1),t.flags|=128,null):n&t.child.childLanes?dg(e,t,n):(me(be,be.current&1),e=mn(e,t,n),e!==null?e.sibling:null);me(be,be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return hg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(be,be.current),r)break;return null;case 22:case 23:return t.lanes=0,lg(e,t,n)}return mn(e,t,n)}var fg,Vc,mg,pg;fg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vc=function(){};mg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,lr(Qt.current);var i=null;switch(n){case"input":s=dc(e,s),r=dc(e,r),i=[];break;case"select":s=Se({},s,{value:void 0}),r=Se({},r,{value:void 0}),i=[];break;case"textarea":s=mc(e,s),r=mc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=na)}gc(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ui.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ui.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ye("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};pg=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ms(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function h1(e,t,n){var r=t.pendingProps;switch(Xu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return ot(t.type)&&ra(),He(t),null;case 3:return r=t.stateNode,as(),xe(it),xe(Qe),ad(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(go(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&(Jc(Ot),Ot=null))),Vc(e,t),He(t),null;case 5:od(t);var s=lr(ji.current);if(n=t.type,e!==null&&t.stateNode!=null)mg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return He(t),null}if(e=lr(Qt.current),go(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Gt]=t,r[wi]=i,e=(t.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(s=0;s<$s.length;s++)ye($s[s],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":Sh(r,i),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ye("invalid",r);break;case"textarea":_h(r,i),ye("invalid",r)}gc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&po(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&po(r.textContent,l,e),s=["children",""+l]):ui.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ye("scroll",r)}switch(n){case"input":oo(r),Nh(r,i,!0);break;case"textarea":oo(r),Ch(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=na)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Gt]=t,e[wi]=r,fg(e,t,!1,!1),t.stateNode=e;e:{switch(o=yc(n,r),n){case"dialog":ye("cancel",e),ye("close",e),s=r;break;case"iframe":case"object":case"embed":ye("load",e),s=r;break;case"video":case"audio":for(s=0;s<$s.length;s++)ye($s[s],e);s=r;break;case"source":ye("error",e),s=r;break;case"img":case"image":case"link":ye("error",e),ye("load",e),s=r;break;case"details":ye("toggle",e),s=r;break;case"input":Sh(e,r),s=dc(e,r),ye("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Se({},r,{value:void 0}),ye("invalid",e);break;case"textarea":_h(e,r),s=mc(e,r),ye("invalid",e);break;default:s=r}gc(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?qp(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Wp(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&di(e,c):typeof c=="number"&&di(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ui.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ye("scroll",e):c!=null&&Du(e,i,c,o))}switch(n){case"input":oo(e),Nh(e,r,!1);break;case"textarea":oo(e),Ch(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Yr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Yr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=na)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)pg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=lr(ji.current),lr(Qt.current),go(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gt]=t,(i=r.nodeValue!==n)&&(e=ht,e!==null))switch(e.tag){case 3:po(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&po(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=t,t.stateNode=r}return He(t),null;case 13:if(xe(be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&dt!==null&&t.mode&1&&!(t.flags&128))R0(),is(),t.flags|=98560,i=!1;else if(i=go(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[Gt]=t}else is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),i=!1}else Ot!==null&&(Jc(Ot),Ot=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Ie===0&&(Ie=3):vd())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return as(),Vc(e,t),e===null&&xi(t.stateNode.containerInfo),He(t),null;case 10:return nd(t.type._context),He(t),null;case 17:return ot(t.type)&&ra(),He(t),null;case 19:if(xe(be),i=t.memoizedState,i===null)return He(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ms(i,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ua(e),o!==null){for(t.flags|=128,Ms(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return me(be,be.current&1|2),t.child}e=e.sibling}i.tail!==null&&Te()>cs&&(t.flags|=128,r=!0,Ms(i,!1),t.lanes=4194304)}else{if(!r)if(e=ua(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ms(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!we)return He(t),null}else 2*Te()-i.renderingStartTime>cs&&n!==1073741824&&(t.flags|=128,r=!0,Ms(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,n=be.current,me(be,r?n&1|2:n&1),t):(He(t),null);case 22:case 23:return xd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ut&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function f1(e,t){switch(Xu(t),t.tag){case 1:return ot(t.type)&&ra(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return as(),xe(it),xe(Qe),ad(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return od(t),null;case 13:if(xe(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(be),null;case 4:return as(),null;case 10:return nd(t.type._context),null;case 22:case 23:return xd(),null;case 24:return null;default:return null}}var vo=!1,Ge=!1,m1=typeof WeakSet=="function"?WeakSet:Set,V=null;function Vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function Wc(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var yf=!1;function p1(e,t){if(Cc=Zo,e=w0(),Yu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pc={focusedElem:e,selectionRange:n},Zo=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,j=x.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:Rt(t.type,w),j);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(k){Ce(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return x=yf,yf=!1,x}function Ys(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wc(t,n,i)}s=s.next}while(s!==r)}}function Fa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Hc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gg(e){var t=e.alternate;t!==null&&(e.alternate=null,gg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[wi],delete t[Ac],delete t[Jw],delete t[Xw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yg(e){return e.tag===5||e.tag===3||e.tag===4}function xf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=na));else if(r!==4&&(e=e.child,e!==null))for(qc(e,t,n),e=e.sibling;e!==null;)qc(e,t,n),e=e.sibling}function Gc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Gc(e,t,n),e=e.sibling;e!==null;)Gc(e,t,n),e=e.sibling}var $e=null,It=!1;function vn(e,t,n){for(n=n.child;n!==null;)xg(e,t,n),n=n.sibling}function xg(e,t,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Ea,n)}catch{}switch(n.tag){case 5:Ge||Vr(n,t);case 6:var r=$e,s=It;$e=null,vn(e,t,n),$e=r,It=s,$e!==null&&(It?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(It?(e=$e,n=n.stateNode,e.nodeType===8?Cl(e.parentNode,n):e.nodeType===1&&Cl(e,n),pi(e)):Cl($e,n.stateNode));break;case 4:r=$e,s=It,$e=n.stateNode.containerInfo,It=!0,vn(e,t,n),$e=r,It=s;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wc(n,t,o),s=s.next}while(s!==r)}vn(e,t,n);break;case 1:if(!Ge&&(Vr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ce(n,t,l)}vn(e,t,n);break;case 21:vn(e,t,n);break;case 22:n.mode&1?(Ge=(r=Ge)||n.memoizedState!==null,vn(e,t,n),Ge=r):vn(e,t,n);break;default:vn(e,t,n)}}function vf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new m1),t.forEach(function(r){var s=S1.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:$e=l.stateNode,It=!1;break e;case 3:$e=l.stateNode.containerInfo,It=!0;break e;case 4:$e=l.stateNode.containerInfo,It=!0;break e}l=l.return}if($e===null)throw Error(L(160));xg(i,o,s),$e=null,It=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ce(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vg(t,e),t=t.sibling}function vg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),Ht(e),r&4){try{Ys(3,e,e.return),Fa(3,e)}catch(w){Ce(e,e.return,w)}try{Ys(5,e,e.return)}catch(w){Ce(e,e.return,w)}}break;case 1:Et(t,e),Ht(e),r&512&&n!==null&&Vr(n,n.return);break;case 5:if(Et(t,e),Ht(e),r&512&&n!==null&&Vr(n,n.return),e.flags&32){var s=e.stateNode;try{di(s,"")}catch(w){Ce(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Up(s,i),yc(l,o);var u=yc(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?qp(s,h):d==="dangerouslySetInnerHTML"?Wp(s,h):d==="children"?di(s,h):Du(s,d,h,u)}switch(l){case"input":hc(s,i);break;case"textarea":zp(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Yr(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Yr(s,!!i.multiple,i.defaultValue,!0):Yr(s,!!i.multiple,i.multiple?[]:"",!1))}s[wi]=i}catch(w){Ce(e,e.return,w)}}break;case 6:if(Et(t,e),Ht(e),r&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Ce(e,e.return,w)}}break;case 3:if(Et(t,e),Ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pi(t.containerInfo)}catch(w){Ce(e,e.return,w)}break;case 4:Et(t,e),Ht(e);break;case 13:Et(t,e),Ht(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gd=Te())),r&4&&vf(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(u=Ge)||d,Et(t,e),Ge=u):Et(t,e),Ht(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(V=e,d=e.child;d!==null;){for(h=V=d;V!==null;){switch(f=V,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ys(4,f,f.return);break;case 1:Vr(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){Ce(r,n,w)}}break;case 5:Vr(f,f.return);break;case 22:if(f.memoizedState!==null){bf(h);continue}}g!==null?(g.return=f,V=g):bf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Hp("display",o))}catch(w){Ce(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Ce(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Et(t,e),Ht(e),r&4&&vf(e);break;case 21:break;default:Et(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yg(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(di(s,""),r.flags&=-33);var i=xf(e);Gc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=xf(e);qc(e,l,o);break;default:throw Error(L(161))}}catch(c){Ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function g1(e,t,n){V=e,wg(e)}function wg(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var s=V,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vo;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ge;l=vo;var u=Ge;if(vo=o,(Ge=c)&&!u)for(V=s;V!==null;)o=V,c=o.child,o.tag===22&&o.memoizedState!==null?jf(s):c!==null?(c.return=o,V=c):jf(s);for(;i!==null;)V=i,wg(i),i=i.sibling;V=s,vo=l,Ge=u}wf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,V=i):wf(e)}}function wf(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||Fa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ge)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Rt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&rf(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rf(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&pi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ge||t.flags&512&&Hc(t)}catch(f){Ce(t,t.return,f)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function bf(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function jf(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fa(4,t)}catch(c){Ce(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Ce(t,s,c)}}var i=t.return;try{Hc(t)}catch(c){Ce(t,i,c)}break;case 5:var o=t.return;try{Hc(t)}catch(c){Ce(t,o,c)}}}catch(c){Ce(t,t.return,c)}if(t===e){V=null;break}var l=t.sibling;if(l!==null){l.return=t.return,V=l;break}V=t.return}}var y1=Math.ceil,fa=yn.ReactCurrentDispatcher,md=yn.ReactCurrentOwner,Nt=yn.ReactCurrentBatchConfig,le=0,De=null,Ee=null,Ue=0,ut=0,Wr=Hn(0),Ie=0,_i=null,yr=0,$a=0,pd=0,Js=null,nt=null,gd=0,cs=1/0,tn=null,ma=!1,Kc=null,Dn=null,wo=!1,En=null,pa=0,Xs=0,Qc=null,Uo=-1,zo=0;function Xe(){return le&6?Te():Uo!==-1?Uo:Uo=Te()}function Fn(e){return e.mode&1?le&2&&Ue!==0?Ue&-Ue:e1.transition!==null?(zo===0&&(zo=s0()),zo):(e=ce,e!==0||(e=window.event,e=e===void 0?16:d0(e.type)),e):1}function Ft(e,t,n,r){if(50<Xs)throw Xs=0,Qc=null,Error(L(185));Di(e,n,r),(!(le&2)||e!==De)&&(e===De&&(!(le&2)&&($a|=n),Ie===4&&Cn(e,Ue)),at(e,r),n===1&&le===0&&!(t.mode&1)&&(cs=Te()+500,La&&qn()))}function at(e,t){var n=e.callbackNode;ew(e,t);var r=Xo(e,e===De?Ue:0);if(r===0)n!==null&&Eh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Eh(n),t===1)e.tag===0?Zw(kf.bind(null,e)):E0(kf.bind(null,e)),Qw(function(){!(le&6)&&qn()}),n=null;else{switch(i0(r)){case 1:n=zu;break;case 4:n=n0;break;case 16:n=Jo;break;case 536870912:n=r0;break;default:n=Jo}n=Pg(n,bg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bg(e,t){if(Uo=-1,zo=0,le&6)throw Error(L(327));var n=e.callbackNode;if(ts()&&e.callbackNode!==n)return null;var r=Xo(e,e===De?Ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ga(e,r);else{t=r;var s=le;le|=2;var i=kg();(De!==e||Ue!==t)&&(tn=null,cs=Te()+500,ur(e,t));do try{w1();break}catch(l){jg(e,l)}while(!0);td(),fa.current=i,le=s,Ee!==null?t=0:(De=null,Ue=0,t=Ie)}if(t!==0){if(t===2&&(s=jc(e),s!==0&&(r=s,t=Yc(e,s))),t===1)throw n=_i,ur(e,0),Cn(e,r),at(e,Te()),n;if(t===6)Cn(e,r);else{if(s=e.current.alternate,!(r&30)&&!x1(s)&&(t=ga(e,r),t===2&&(i=jc(e),i!==0&&(r=i,t=Yc(e,i))),t===1))throw n=_i,ur(e,0),Cn(e,r),at(e,Te()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:tr(e,nt,tn);break;case 3:if(Cn(e,r),(r&130023424)===r&&(t=gd+500-Te(),10<t)){if(Xo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Xe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ec(tr.bind(null,e,nt,tn),t);break}tr(e,nt,tn);break;case 4:if(Cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Dt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*y1(r/1960))-r,10<r){e.timeoutHandle=Ec(tr.bind(null,e,nt,tn),r);break}tr(e,nt,tn);break;case 5:tr(e,nt,tn);break;default:throw Error(L(329))}}}return at(e,Te()),e.callbackNode===n?bg.bind(null,e):null}function Yc(e,t){var n=Js;return e.current.memoizedState.isDehydrated&&(ur(e,t).flags|=256),e=ga(e,t),e!==2&&(t=nt,nt=n,t!==null&&Jc(t)),e}function Jc(e){nt===null?nt=e:nt.push.apply(nt,e)}function x1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Bt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cn(e,t){for(t&=~pd,t&=~$a,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dt(t),r=1<<n;e[n]=-1,t&=~r}}function kf(e){if(le&6)throw Error(L(327));ts();var t=Xo(e,0);if(!(t&1))return at(e,Te()),null;var n=ga(e,t);if(e.tag!==0&&n===2){var r=jc(e);r!==0&&(t=r,n=Yc(e,r))}if(n===1)throw n=_i,ur(e,0),Cn(e,t),at(e,Te()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,tr(e,nt,tn),at(e,Te()),null}function yd(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(cs=Te()+500,La&&qn())}}function xr(e){En!==null&&En.tag===0&&!(le&6)&&ts();var t=le;le|=1;var n=Nt.transition,r=ce;try{if(Nt.transition=null,ce=1,e)return e()}finally{ce=r,Nt.transition=n,le=t,!(le&6)&&qn()}}function xd(){ut=Wr.current,xe(Wr)}function ur(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Kw(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(Xu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ra();break;case 3:as(),xe(it),xe(Qe),ad();break;case 5:od(r);break;case 4:as();break;case 13:xe(be);break;case 19:xe(be);break;case 10:nd(r.type._context);break;case 22:case 23:xd()}n=n.return}if(De=e,Ee=e=$n(e.current,null),Ue=ut=t,Ie=0,_i=null,pd=$a=yr=0,nt=Js=null,ar!==null){for(t=0;t<ar.length;t++)if(n=ar[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ar=null}return e}function jg(e,t){do{var n=Ee;try{if(td(),Fo.current=ha,da){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}da=!1}if(gr=0,Oe=Re=ke=null,Qs=!1,ki=0,md.current=null,n===null||n.return===null){Ie=1,_i=t,Ee=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Ue,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=uf(o);if(g!==null){g.flags&=-257,df(g,o,l,i,t),g.mode&1&&cf(i,u,t),t=g,c=u;var x=t.updateQueue;if(x===null){var w=new Set;w.add(c),t.updateQueue=w}else x.add(c);break e}else{if(!(t&1)){cf(i,u,t),vd();break e}c=Error(L(426))}}else if(we&&l.mode&1){var j=uf(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),df(j,o,l,i,t),Zu(ls(c,l));break e}}i=c=ls(c,l),Ie!==4&&(Ie=2),Js===null?Js=[i]:Js.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=ig(i,c,t);nf(i,m);break e;case 1:l=c;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Dn===null||!Dn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=og(i,l,t);nf(i,k);break e}}i=i.return}while(i!==null)}Ng(n)}catch(b){t=b,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function kg(){var e=fa.current;return fa.current=ha,e===null?ha:e}function vd(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),De===null||!(yr&268435455)&&!($a&268435455)||Cn(De,Ue)}function ga(e,t){var n=le;le|=2;var r=kg();(De!==e||Ue!==t)&&(tn=null,ur(e,t));do try{v1();break}catch(s){jg(e,s)}while(!0);if(td(),le=n,fa.current=r,Ee!==null)throw Error(L(261));return De=null,Ue=0,Ie}function v1(){for(;Ee!==null;)Sg(Ee)}function w1(){for(;Ee!==null&&!Hv();)Sg(Ee)}function Sg(e){var t=Cg(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?Ng(e):Ee=t,md.current=null}function Ng(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=f1(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,Ee=null;return}}else if(n=h1(n,t,ut),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Ie===0&&(Ie=5)}function tr(e,t,n){var r=ce,s=Nt.transition;try{Nt.transition=null,ce=1,b1(e,t,n,r)}finally{Nt.transition=s,ce=r}return null}function b1(e,t,n,r){do ts();while(En!==null);if(le&6)throw Error(L(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(tw(e,i),e===De&&(Ee=De=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wo||(wo=!0,Pg(Jo,function(){return ts(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Nt.transition,Nt.transition=null;var o=ce;ce=1;var l=le;le|=4,md.current=null,p1(e,n),vg(n,e),Uw(Pc),Zo=!!Cc,Pc=Cc=null,e.current=n,g1(n),qv(),le=l,ce=o,Nt.transition=i}else e.current=n;if(wo&&(wo=!1,En=e,pa=s),i=e.pendingLanes,i===0&&(Dn=null),Qv(n.stateNode),at(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ma)throw ma=!1,e=Kc,Kc=null,e;return pa&1&&e.tag!==0&&ts(),i=e.pendingLanes,i&1?e===Qc?Xs++:(Xs=0,Qc=e):Xs=0,qn(),null}function ts(){if(En!==null){var e=i0(pa),t=Nt.transition,n=ce;try{if(Nt.transition=null,ce=16>e?16:e,En===null)var r=!1;else{if(e=En,En=null,pa=0,le&6)throw Error(L(331));var s=le;for(le|=4,V=e.current;V!==null;){var i=V,o=i.child;if(V.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(V=u;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:Ys(8,d,i)}var h=d.child;if(h!==null)h.return=d,V=h;else for(;V!==null;){d=V;var f=d.sibling,g=d.return;if(gg(d),d===u){V=null;break}if(f!==null){f.return=g,V=f;break}V=g}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}V=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,V=o;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ys(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,V=m;break e}V=i.return}}var p=e.current;for(V=p;V!==null;){o=V;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,V=y;else e:for(o=p;V!==null;){if(l=V,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fa(9,l)}}catch(b){Ce(l,l.return,b)}if(l===o){V=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,V=k;break e}V=l.return}}if(le=s,qn(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Ea,e)}catch{}r=!0}return r}finally{ce=n,Nt.transition=t}}return!1}function Sf(e,t,n){t=ls(n,t),t=ig(e,t,1),e=On(e,t,1),t=Xe(),e!==null&&(Di(e,1,t),at(e,t))}function Ce(e,t,n){if(e.tag===3)Sf(e,e,n);else for(;t!==null;){if(t.tag===3){Sf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dn===null||!Dn.has(r))){e=ls(n,e),e=og(t,e,1),t=On(t,e,1),e=Xe(),t!==null&&(Di(t,1,e),at(t,e));break}}t=t.return}}function j1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&n,De===e&&(Ue&n)===n&&(Ie===4||Ie===3&&(Ue&130023424)===Ue&&500>Te()-gd?ur(e,0):pd|=n),at(e,t)}function _g(e,t){t===0&&(e.mode&1?(t=co,co<<=1,!(co&130023424)&&(co=4194304)):t=1);var n=Xe();e=fn(e,t),e!==null&&(Di(e,t,n),at(e,n))}function k1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_g(e,n)}function S1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),_g(e,n)}var Cg;Cg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,d1(e,t,n);st=!!(e.flags&131072)}else st=!1,we&&t.flags&1048576&&A0(t,oa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bo(e,t),e=t.pendingProps;var s=ss(t,Qe.current);es(t,n),s=cd(null,t,r,e,s,n);var i=ud();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(r)?(i=!0,sa(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sd(t),s.updater=Da,t.stateNode=s,s._reactInternals=t,Dc(t,r,e,n),t=Bc(null,t,r,!0,i,n)):(t.tag=0,we&&i&&Ju(t),Je(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=_1(r),e=Rt(r,e),s){case 0:t=$c(null,t,r,e,n);break e;case 1:t=mf(null,t,r,e,n);break e;case 11:t=hf(null,t,r,e,n);break e;case 14:t=ff(null,t,r,Rt(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),$c(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),mf(e,t,r,s,n);case 3:e:{if(ug(t),e===null)throw Error(L(387));r=t.pendingProps,i=t.memoizedState,s=i.element,D0(e,t),ca(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ls(Error(L(423)),t),t=pf(e,t,r,n,s);break e}else if(r!==s){s=ls(Error(L(424)),t),t=pf(e,t,r,n,s);break e}else for(dt=Ln(t.stateNode.containerInfo.firstChild),ht=t,we=!0,Ot=null,n=L0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(is(),r===s){t=mn(e,t,n);break e}Je(e,t,r,n)}t=t.child}return t;case 5:return F0(t),e===null&&Ic(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Tc(r,s)?o=null:i!==null&&Tc(r,i)&&(t.flags|=32),cg(e,t),Je(e,t,o,n),t.child;case 6:return e===null&&Ic(t),null;case 13:return dg(e,t,n);case 4:return id(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=os(t,null,r,n):Je(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),hf(e,t,r,s,n);case 7:return Je(e,t,t.pendingProps,n),t.child;case 8:return Je(e,t,t.pendingProps.children,n),t.child;case 12:return Je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,me(aa,r._currentValue),r._currentValue=o,i!==null)if(Bt(i.value,o)){if(i.children===s.children&&!it.current){t=mn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ln(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Lc(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(L(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Je(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,es(t,n),s=Ct(s),r=r(s),t.flags|=1,Je(e,t,r,n),t.child;case 14:return r=t.type,s=Rt(r,t.pendingProps),s=Rt(r.type,s),ff(e,t,r,s,n);case 15:return ag(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),Bo(e,t),t.tag=1,ot(r)?(e=!0,sa(t)):e=!1,es(t,n),sg(t,r,s),Dc(t,r,s,n),Bc(null,t,r,!0,e,n);case 19:return hg(e,t,n);case 22:return lg(e,t,n)}throw Error(L(156,t.tag))};function Pg(e,t){return t0(e,t)}function N1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,r){return new N1(e,t,n,r)}function wd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _1(e){if(typeof e=="function")return wd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$u)return 11;if(e===Bu)return 14}return 2}function $n(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")wd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ir:return dr(n.children,s,i,t);case Fu:o=8,s|=8;break;case ac:return e=St(12,n,t,s|2),e.elementType=ac,e.lanes=i,e;case lc:return e=St(13,n,t,s),e.elementType=lc,e.lanes=i,e;case cc:return e=St(19,n,t,s),e.elementType=cc,e.lanes=i,e;case Fp:return Ba(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Op:o=10;break e;case Dp:o=9;break e;case $u:o=11;break e;case Bu:o=14;break e;case jn:o=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=St(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function dr(e,t,n,r){return e=St(7,e,r,t),e.lanes=n,e}function Ba(e,t,n,r){return e=St(22,e,r,t),e.elementType=Fp,e.lanes=n,e.stateNode={isHidden:!1},e}function Ll(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function Ol(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function C1(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gl(0),this.expirationTimes=gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function bd(e,t,n,r,s,i,o,l,c){return e=new C1(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=St(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sd(i),e}function P1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Tg(e){if(!e)return Un;e=e._reactInternals;e:{if(br(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(ot(n))return T0(e,n,t)}return t}function Eg(e,t,n,r,s,i,o,l,c){return e=bd(n,r,!0,e,s,i,o,l,c),e.context=Tg(null),n=e.current,r=Xe(),s=Fn(n),i=ln(r,s),i.callback=t??null,On(n,i,s),e.current.lanes=s,Di(e,s,r),at(e,r),e}function Ua(e,t,n,r){var s=t.current,i=Xe(),o=Fn(s);return n=Tg(n),t.context===null?t.context=n:t.pendingContext=n,t=ln(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=On(s,t,o),e!==null&&(Ft(e,s,o,i),Do(e,s,o)),o}function ya(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jd(e,t){Nf(e,t),(e=e.alternate)&&Nf(e,t)}function T1(){return null}var Ag=typeof reportError=="function"?reportError:function(e){console.error(e)};function kd(e){this._internalRoot=e}za.prototype.render=kd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Ua(e,t,null,null)};za.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xr(function(){Ua(null,e,null,null)}),t[hn]=null}};function za(e){this._internalRoot=e}za.prototype.unstable_scheduleHydration=function(e){if(e){var t=l0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_n.length&&t!==0&&t<_n[n].priority;n++);_n.splice(n,0,e),n===0&&u0(e)}};function Sd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Va(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _f(){}function E1(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ya(o);i.call(u)}}var o=Eg(t,r,e,0,null,!1,!1,"",_f);return e._reactRootContainer=o,e[hn]=o.current,xi(e.nodeType===8?e.parentNode:e),xr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ya(c);l.call(u)}}var c=bd(e,0,!1,null,null,!1,!1,"",_f);return e._reactRootContainer=c,e[hn]=c.current,xi(e.nodeType===8?e.parentNode:e),xr(function(){Ua(t,c,n,r)}),c}function Wa(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=ya(o);l.call(c)}}Ua(t,o,e,s)}else o=E1(n,t,e,s,r);return ya(o)}o0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fs(t.pendingLanes);n!==0&&(Vu(t,n|1),at(t,Te()),!(le&6)&&(cs=Te()+500,qn()))}break;case 13:xr(function(){var r=fn(e,1);if(r!==null){var s=Xe();Ft(r,e,1,s)}}),jd(e,1)}};Wu=function(e){if(e.tag===13){var t=fn(e,134217728);if(t!==null){var n=Xe();Ft(t,e,134217728,n)}jd(e,134217728)}};a0=function(e){if(e.tag===13){var t=Fn(e),n=fn(e,t);if(n!==null){var r=Xe();Ft(n,e,t,r)}jd(e,t)}};l0=function(){return ce};c0=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};vc=function(e,t,n){switch(t){case"input":if(hc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ia(r);if(!s)throw Error(L(90));Bp(r),hc(r,s)}}}break;case"textarea":zp(e,n);break;case"select":t=n.value,t!=null&&Yr(e,!!n.multiple,t,!1)}};Qp=yd;Yp=xr;var A1={usingClientEntryPoint:!1,Events:[$i,Fr,Ia,Gp,Kp,yd]},Rs={findFiberByHostInstance:or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M1={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zp(e),e===null?null:e.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||T1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bo.isDisabled&&bo.supportsFiber)try{Ea=bo.inject(M1),Kt=bo}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A1;yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sd(t))throw Error(L(200));return P1(e,t,null,n)};yt.createRoot=function(e,t){if(!Sd(e))throw Error(L(299));var n=!1,r="",s=Ag;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=bd(e,1,!1,null,null,n,!1,r,s),e[hn]=t.current,xi(e.nodeType===8?e.parentNode:e),new kd(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Zp(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return xr(e)};yt.hydrate=function(e,t,n){if(!Va(t))throw Error(L(200));return Wa(null,e,t,!0,n)};yt.hydrateRoot=function(e,t,n){if(!Sd(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ag;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Eg(t,null,e,1,n??null,s,!1,i,o),e[hn]=t.current,xi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new za(t)};yt.render=function(e,t,n){if(!Va(t))throw Error(L(200));return Wa(null,e,t,!1,n)};yt.unmountComponentAtNode=function(e){if(!Va(e))throw Error(L(40));return e._reactRootContainer?(xr(function(){Wa(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};yt.unstable_batchedUpdates=yd;yt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Va(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Wa(e,t,n,!1,r)};yt.version="18.3.1-next-f1338f8080-20240426";function Mg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mg)}catch(e){console.error(e)}}Mg(),Mp.exports=yt;var R1=Mp.exports,Rg,Cf=R1;Rg=Cf.createRoot,Cf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ci.apply(this,arguments)}var An;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(An||(An={}));const Pf="popstate";function I1(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return Xc("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Lg(s)}return O1(t,n,null,e)}function Ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ig(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function L1(){return Math.random().toString(36).substr(2,8)}function Tf(e,t){return{usr:e.state,key:e.key,idx:t}}function Xc(e,t,n,r){return n===void 0&&(n=null),Ci({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vs(t):t,{state:n,key:t&&t.key||r||L1()})}function Lg(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function vs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function O1(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=An.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ci({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=An.Pop;let j=d(),m=j==null?null:j-u;u=j,c&&c({action:l,location:w.location,delta:m})}function f(j,m){l=An.Push;let p=Xc(w.location,j,m);u=d()+1;let y=Tf(p,u),k=w.createHref(p);try{o.pushState(y,"",k)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(k)}i&&c&&c({action:l,location:w.location,delta:1})}function g(j,m){l=An.Replace;let p=Xc(w.location,j,m);u=d();let y=Tf(p,u),k=w.createHref(p);o.replaceState(y,"",k),i&&c&&c({action:l,location:w.location,delta:0})}function x(j){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof j=="string"?j:Lg(j);return p=p.replace(/ $/,"%20"),Ae(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let w={get action(){return l},get location(){return e(s,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Pf,h),c=j,()=>{s.removeEventListener(Pf,h),c=null}},createHref(j){return t(s,j)},createURL:x,encodeLocation(j){let m=x(j);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(j){return o.go(j)}};return w}var Ef;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ef||(Ef={}));function D1(e,t,n){return n===void 0&&(n="/"),F1(e,t,n,!1)}function F1(e,t,n,r){let s=typeof t=="string"?vs(t):t,i=Fg(s.pathname||"/",n);if(i==null)return null;let o=Og(e);$1(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Y1(i);l=K1(o[c],u,r)}return l}function Og(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ae(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=hr([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Ae(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Og(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:q1(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Dg(i.path))s(i,o,c)}),t}function Dg(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Dg(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function $1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:G1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const B1=/^:[\w-]+$/,U1=3,z1=2,V1=1,W1=10,H1=-2,Af=e=>e==="*";function q1(e,t){let n=e.split("/"),r=n.length;return n.some(Af)&&(r+=H1),t&&(r+=z1),n.filter(s=>!Af(s)).reduce((s,i)=>s+(B1.test(i)?U1:i===""?V1:W1),r)}function G1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function K1(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Mf({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Mf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:hr([i,h.pathname]),pathnameBase:eb(hr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=hr([i,h.pathnameBase]))}return o}function Mf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Q1(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let w=l[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const x=l[h];return g&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Q1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ig(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Y1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ig(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function J1(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?vs(e):e;return{pathname:n?n.startsWith("/")?n:X1(n,t):t,search:tb(r),hash:nb(s)}}function X1(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Dl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $g(e,t){let n=Z1(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Bg(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=vs(e):(s=Ci({},e),Ae(!s.pathname||!s.pathname.includes("?"),Dl("?","pathname","search",s)),Ae(!s.pathname||!s.pathname.includes("#"),Dl("#","pathname","hash",s)),Ae(!s.search||!s.search.includes("#"),Dl("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=J1(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const hr=e=>e.join("/").replace(/\/\/+/g,"/"),eb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ug=["post","put","patch","delete"];new Set(Ug);const sb=["get",...Ug];new Set(sb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pi.apply(this,arguments)}const Nd=v.createContext(null),ib=v.createContext(null),Ui=v.createContext(null),Ha=v.createContext(null),Gn=v.createContext({outlet:null,matches:[],isDataRoute:!1}),zg=v.createContext(null);function zi(){return v.useContext(Ha)!=null}function _d(){return zi()||Ae(!1),v.useContext(Ha).location}function Vg(e){v.useContext(Ui).static||v.useLayoutEffect(e)}function vt(){let{isDataRoute:e}=v.useContext(Gn);return e?vb():ob()}function ob(){zi()||Ae(!1);let e=v.useContext(Nd),{basename:t,future:n,navigator:r}=v.useContext(Ui),{matches:s}=v.useContext(Gn),{pathname:i}=_d(),o=JSON.stringify($g(s,n.v7_relativeSplatPath)),l=v.useRef(!1);return Vg(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=Bg(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:hr([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}function ab(){let{matches:e}=v.useContext(Gn),t=e[e.length-1];return t?t.params:{}}function lb(e,t){return cb(e,t)}function cb(e,t,n,r){zi()||Ae(!1);let{navigator:s}=v.useContext(Ui),{matches:i}=v.useContext(Gn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=_d(),d;if(t){var h;let j=typeof t=="string"?vs(t):t;c==="/"||(h=j.pathname)!=null&&h.startsWith(c)||Ae(!1),d=j}else d=u;let f=d.pathname||"/",g=f;if(c!=="/"){let j=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(j.length).join("/")}let x=D1(e,{pathname:g}),w=mb(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:hr([c,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:hr([c,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,n,r);return t&&w?v.createElement(Ha.Provider,{value:{location:Pi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:An.Pop}},w):w}function ub(){let e=xb(),t=rb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const db=v.createElement(ub,null);class hb extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Gn.Provider,{value:this.props.routeContext},v.createElement(zg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fb(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(Nd);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Gn.Provider,{value:t},r)}function mb(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Ae(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=n,x=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,x=!1,w=null,j=null;n&&(g=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||db,c&&(u<0&&f===0?(x=!0,j=null):u===f&&(x=!0,j=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),p=()=>{let y;return g?y=w:x?y=j:h.route.Component?y=v.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,v.createElement(fb,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(hb,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Wg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Wg||{}),xa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xa||{});function pb(e){let t=v.useContext(Nd);return t||Ae(!1),t}function gb(e){let t=v.useContext(ib);return t||Ae(!1),t}function yb(e){let t=v.useContext(Gn);return t||Ae(!1),t}function Hg(e){let t=yb(),n=t.matches[t.matches.length-1];return n.route.id||Ae(!1),n.route.id}function xb(){var e;let t=v.useContext(zg),n=gb(xa.UseRouteError),r=Hg(xa.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function vb(){let{router:e}=pb(Wg.UseNavigateStable),t=Hg(xa.UseNavigateStable),n=v.useRef(!1);return Vg(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Pi({fromRouteId:t},i)))},[e,t])}function wb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Cd(e){let{to:t,replace:n,state:r,relative:s}=e;zi()||Ae(!1);let{future:i,static:o}=v.useContext(Ui),{matches:l}=v.useContext(Gn),{pathname:c}=_d(),u=vt(),d=Bg(t,$g(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function lt(e){Ae(!1)}function bb(e){let{basename:t="/",children:n=null,location:r,navigationType:s=An.Pop,navigator:i,static:o=!1,future:l}=e;zi()&&Ae(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:o,future:Pi({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=vs(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:x="default"}=r,w=v.useMemo(()=>{let j=Fg(d,c);return j==null?null:{location:{pathname:j,search:h,hash:f,state:g,key:x},navigationType:s}},[c,d,h,f,g,x,s]);return w==null?null:v.createElement(Ui.Provider,{value:u},v.createElement(Ha.Provider,{children:n,value:w}))}function jb(e){let{children:t,location:n}=e;return lb(Zc(t),n)}new Promise(()=>{});function Zc(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let i=[...t,s];if(r.type===v.Fragment){n.push.apply(n,Zc(r.props.children,i));return}r.type!==lt&&Ae(!1),!r.props.index||!r.props.children||Ae(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zc(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const kb="6";try{window.__reactRouterVersion=kb}catch{}const Sb="startTransition",Rf=jv[Sb];function Nb(e){let{basename:t,children:n,future:r,window:s}=e,i=v.useRef();i.current==null&&(i.current=I1({window:s,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=v.useCallback(h=>{u&&Rf?Rf(()=>c(h)):c(h)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>wb(r),[r]),v.createElement(bb,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var If;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(If||(If={}));var Lf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lf||(Lf={}));const Pd=v.createContext({});function Td(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const qa=v.createContext(null),Ed=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class _b extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Cb({children:e,isPresent:t}){const n=v.useId(),r=v.useRef(null),s=v.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=v.useContext(Ed);return v.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),a.jsx(_b,{isPresent:t,childRef:r,sizeRef:s,children:v.cloneElement(e,{ref:r})})}const Pb=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=Td(Tb),c=v.useId(),u=v.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;r&&r()},[l,r]),d=v.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),u]:[n,u]);return v.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),v.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(Cb,{isPresent:n,children:e})),a.jsx(qa.Provider,{value:d,children:e})};function Tb(){return new Map}function qg(e=!0){const t=v.useContext(qa);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=v.useId();v.useEffect(()=>{e&&s(i)},[e]);const o=v.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const jo=e=>e.key||"";function Of(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const Ad=typeof window<"u",Gg=Ad?v.useLayoutEffect:v.useEffect,Tt=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=qg(o),u=v.useMemo(()=>Of(e),[e]),d=o&&!l?[]:u.map(jo),h=v.useRef(!0),f=v.useRef(u),g=Td(()=>new Map),[x,w]=v.useState(u),[j,m]=v.useState(u);Gg(()=>{h.current=!1,f.current=u;for(let k=0;k<j.length;k++){const b=jo(j[k]);d.includes(b)?g.delete(b):g.get(b)!==!0&&g.set(b,!1)}},[j,d.length,d.join("-")]);const p=[];if(u!==x){let k=[...u];for(let b=0;b<j.length;b++){const S=j[b],_=jo(S);d.includes(_)||(k.splice(b,0,S),p.push(S))}i==="wait"&&p.length&&(k=p),m(Of(k)),w(u);return}const{forceRender:y}=v.useContext(Pd);return a.jsx(a.Fragment,{children:j.map(k=>{const b=jo(k),S=o&&!l?!1:u===j||d.includes(b),_=()=>{if(g.has(b))g.set(b,!0);else return;let P=!0;g.forEach($=>{$||(P=!1)}),P&&(y==null||y(),m(f.current),o&&(c==null||c()),r&&r())};return a.jsx(Pb,{isPresent:S,initial:!h.current||n?void 0:!1,custom:S?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:S?void 0:_,children:k},b)})})},ft=e=>e;let eu=ft;function Md(e){let t;return()=>(t===void 0&&(t=e()),t)}const us=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},cn=e=>e*1e3,un=e=>e/1e3,Eb={skipAnimations:!1,useManualTiming:!1};function Ab(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,h=!1)=>{const g=h&&r?t:n;return d&&i.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const ko=["read","resolveKeyframes","update","preRender","render","postRender"],Mb=40;function Kg(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ko.reduce((m,p)=>(m[p]=Ab(i),m),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=o,g=()=>{const m=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(m-s.timestamp,Mb),1),s.timestamp=m,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(g))},x=()=>{n=!0,r=!0,s.isProcessing||e(g)};return{schedule:ko.reduce((m,p)=>{const y=o[p];return m[p]=(k,b=!1,S=!1)=>(n||x(),y.schedule(k,b,S)),m},{}),cancel:m=>{for(let p=0;p<ko.length;p++)o[ko[p]].cancel(m)},state:s,steps:o}}const{schedule:ve,cancel:zn,state:Be,steps:Fl}=Kg(typeof requestAnimationFrame<"u"?requestAnimationFrame:ft,!0),Qg=v.createContext({strict:!1}),Df={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ds={};for(const e in Df)ds[e]={isEnabled:t=>Df[e].some(n=>!!t[n])};function Rb(e){for(const t in e)ds[t]={...ds[t],...e[t]}}const Ib=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function va(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ib.has(e)}let Yg=e=>!va(e);function Lb(e){e&&(Yg=t=>t.startsWith("on")?!va(t):e(t))}try{Lb(require("@emotion/is-prop-valid").default)}catch{}function Ob(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Yg(s)||n===!0&&va(s)||!t&&!va(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Db(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Ga=v.createContext({});function Ti(e){return typeof e=="string"||Array.isArray(e)}function Ka(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Rd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Id=["initial",...Rd];function Qa(e){return Ka(e.animate)||Id.some(t=>Ti(e[t]))}function Jg(e){return!!(Qa(e)||e.variants)}function Fb(e,t){if(Qa(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ti(n)?n:void 0,animate:Ti(r)?r:void 0}}return e.inherit!==!1?t:{}}function $b(e){const{initial:t,animate:n}=Fb(e,v.useContext(Ga));return v.useMemo(()=>({initial:t,animate:n}),[Ff(t),Ff(n)])}function Ff(e){return Array.isArray(e)?e.join(" "):e}const Bb=Symbol.for("motionComponentSymbol");function Hr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ub(e,t,n){return v.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Hr(n)&&(n.current=r))},[t])}const Ld=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zb="framerAppearId",Xg="data-"+Ld(zb),{schedule:Od,cancel:AC}=Kg(queueMicrotask,!1),Zg=v.createContext({});function Vb(e,t,n,r,s){var i,o;const{visualElement:l}=v.useContext(Ga),c=v.useContext(Qg),u=v.useContext(qa),d=v.useContext(Ed).reducedMotion,h=v.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,g=v.useContext(Zg);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&Wb(h.current,n,s,g);const x=v.useRef(!1);v.useInsertionEffect(()=>{f&&x.current&&f.update(n,u)});const w=n[Xg],j=v.useRef(!!w&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return Gg(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Od.render(f.render),j.current&&f.animationState&&f.animationState.animateChanges())}),v.useEffect(()=>{f&&(!j.current&&f.animationState&&f.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,w)}),j.current=!1))}),f}function Wb(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ey(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Hr(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function ey(e){if(e)return e.options.allowProjection!==!1?e.projection:ey(e.parent)}function Hb({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,o;e&&Rb(e);function l(u,d){let h;const f={...v.useContext(Ed),...u,layoutId:qb(u)},{isStatic:g}=f,x=$b(u),w=r(u,g);if(!g&&Ad){Gb();const j=Kb(f);h=j.MeasureLayout,x.visualElement=Vb(s,w,f,t,j.ProjectionNode)}return a.jsxs(Ga.Provider,{value:x,children:[h&&x.visualElement?a.jsx(h,{visualElement:x.visualElement,...f}):null,n(s,u,Ub(w,x.visualElement,d),w,g,x.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const c=v.forwardRef(l);return c[Bb]=s,c}function qb({layoutId:e}){const t=v.useContext(Pd).id;return t&&e!==void 0?t+"-"+e:e}function Gb(e,t){v.useContext(Qg).strict}function Kb(e){const{drag:t,layout:n}=ds;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Qb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dd(e){return typeof e!="string"||e.includes("-")?!1:!!(Qb.indexOf(e)>-1||/[A-Z]/u.test(e))}function $f(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Fd(e,t,n,r){if(typeof t=="function"){const[s,i]=$f(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=$f(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const tu=e=>Array.isArray(e),Yb=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Jb=e=>tu(e)?e[e.length-1]||0:e,Ke=e=>!!(e&&e.getVelocity);function Wo(e){const t=Ke(e)?e.get():e;return Yb(t)?t.toValue():t}function Xb({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const o={latestValues:Zb(r,s,i,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const ty=e=>(t,n)=>{const r=v.useContext(Ga),s=v.useContext(qa),i=()=>Xb(e,t,r,s);return n?i():Td(i)};function Zb(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Wo(i[f]);let{initial:o,animate:l}=e;const c=Qa(e),u=Jg(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!Ka(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const x=Fd(e,f[g]);if(x){const{transitionEnd:w,transition:j,...m}=x;for(const p in m){let y=m[p];if(Array.isArray(y)){const k=d?y.length-1:0;y=y[k]}y!==null&&(s[p]=y)}for(const p in w)s[p]=w[p]}}}return s}const ws=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jr=new Set(ws),ny=e=>t=>typeof t=="string"&&t.startsWith(e),ry=ny("--"),ej=ny("var(--"),$d=e=>ej(e)?tj.test(e.split("/*")[0].trim()):!1,tj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sy=(e,t)=>t&&typeof e=="number"?t.transform(e):e,pn=(e,t,n)=>n>t?t:n<e?e:n,bs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ei={...bs,transform:e=>pn(0,1,e)},So={...bs,default:1},Vi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),wn=Vi("deg"),Yt=Vi("%"),J=Vi("px"),nj=Vi("vh"),rj=Vi("vw"),Bf={...Yt,parse:e=>Yt.parse(e)/100,transform:e=>Yt.transform(e*100)},sj={borderWidth:J,borderTopWidth:J,borderRightWidth:J,borderBottomWidth:J,borderLeftWidth:J,borderRadius:J,radius:J,borderTopLeftRadius:J,borderTopRightRadius:J,borderBottomRightRadius:J,borderBottomLeftRadius:J,width:J,maxWidth:J,height:J,maxHeight:J,top:J,right:J,bottom:J,left:J,padding:J,paddingTop:J,paddingRight:J,paddingBottom:J,paddingLeft:J,margin:J,marginTop:J,marginRight:J,marginBottom:J,marginLeft:J,backgroundPositionX:J,backgroundPositionY:J},ij={rotate:wn,rotateX:wn,rotateY:wn,rotateZ:wn,scale:So,scaleX:So,scaleY:So,scaleZ:So,skew:wn,skewX:wn,skewY:wn,distance:J,translateX:J,translateY:J,translateZ:J,x:J,y:J,z:J,perspective:J,transformPerspective:J,opacity:Ei,originX:Bf,originY:Bf,originZ:J},Uf={...bs,transform:Math.round},Bd={...sj,...ij,zIndex:Uf,size:J,fillOpacity:Ei,strokeOpacity:Ei,numOctaves:Uf},oj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aj=ws.length;function lj(e,t,n){let r="",s=!0;for(let i=0;i<aj;i++){const o=ws[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=sy(l,Bd[o]);if(!c){s=!1;const d=oj[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Ud(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(jr.has(c)){o=!0;continue}else if(ry(c)){s[c]=u;continue}else{const d=sy(u,Bd[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=lj(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const cj={offset:"stroke-dashoffset",array:"stroke-dasharray"},uj={offset:"strokeDashoffset",array:"strokeDasharray"};function dj(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?cj:uj;e[i.offset]=J.transform(-r);const o=J.transform(t),l=J.transform(n);e[i.array]=`${o} ${l}`}function zf(e,t,n){return typeof e=="string"?e:J.transform(t+n*e)}function hj(e,t,n){const r=zf(t,e.x,e.width),s=zf(n,e.y,e.height);return`${r} ${s}`}function zd(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(Ud(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:g,dimensions:x}=e;f.transform&&(x&&(g.transform=f.transform),delete f.transform),x&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=hj(x,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&dj(f,o,l,c,!1)}const Vd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),iy=()=>({...Vd(),attrs:{}}),Wd=e=>typeof e=="string"&&e.toLowerCase()==="svg";function oy(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const ay=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ly(e,t,n,r){oy(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(ay.has(s)?s:Ld(s),t.attrs[s])}const wa={};function fj(e){Object.assign(wa,e)}function cy(e,{layout:t,layoutId:n}){return jr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!wa[e]||e==="opacity")}function Hd(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(Ke(s[o])||t.style&&Ke(t.style[o])||cy(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function uy(e,t,n){const r=Hd(e,t,n);for(const s in e)if(Ke(e[s])||Ke(t[s])){const i=ws.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function mj(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Vf=["x","y","width","height","cx","cy","r"],pj={useVisualState:ty({scrapeMotionValuesFromProps:uy,createRenderState:iy,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const l in s)if(jr.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<Vf.length;l++){const c=Vf[l];e[c]!==t[c]&&(o=!0)}o&&ve.read(()=>{mj(n,r),ve.render(()=>{zd(r,s,Wd(n.tagName),e.transformTemplate),ly(n,r)})})}})},gj={useVisualState:ty({scrapeMotionValuesFromProps:Hd,createRenderState:Vd})};function dy(e,t,n){for(const r in t)!Ke(t[r])&&!cy(r,n)&&(e[r]=t[r])}function yj({transformTemplate:e},t){return v.useMemo(()=>{const n=Vd();return Ud(n,t,e),Object.assign({},n.vars,n.style)},[t])}function xj(e,t){const n=e.style||{},r={};return dy(r,n,e),Object.assign(r,yj(e,t)),r}function vj(e,t){const n={},r=xj(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function wj(e,t,n,r){const s=v.useMemo(()=>{const i=iy();return zd(i,t,Wd(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};dy(i,e.style,e),s.style={...i,...s.style}}return s}function bj(e=!1){return(n,r,s,{latestValues:i},o)=>{const c=(Dd(n)?wj:vj)(r,i,o,n),u=Ob(r,typeof n=="string",e),d=n!==v.Fragment?{...u,...c,ref:s}:{},{children:h}=r,f=v.useMemo(()=>Ke(h)?h.get():h,[h]);return v.createElement(n,{...d,children:f})}}function jj(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Dd(r)?pj:gj,preloadedFeatures:e,useRender:bj(s),createVisualElement:t,Component:r};return Hb(o)}}function hy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ya(e,t,n){const r=e.getProps();return Fd(r,t,n!==void 0?n:r.custom,e)}const kj=Md(()=>window.ScrollTimeline!==void 0);class Sj{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(kj()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Nj extends Sj{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function qd(e,t){return e?e[t]||e.default||e:void 0}const nu=2e4;function fy(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<nu;)t+=n,r=e.next(t);return t>=nu?1/0:t}function Gd(e){return typeof e=="function"}function Wf(e,t){e.timeline=t,e.onfinish=null}const Kd=e=>Array.isArray(e)&&typeof e[0]=="number",_j={linearEasing:void 0};function Cj(e,t){const n=Md(e);return()=>{var r;return(r=_j[t])!==null&&r!==void 0?r:n()}}const ba=Cj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),my=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(us(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function py(e){return!!(typeof e=="function"&&ba()||!e||typeof e=="string"&&(e in ru||ba())||Kd(e)||Array.isArray(e)&&e.every(py))}const Bs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,ru={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bs([0,.65,.55,1]),circOut:Bs([.55,0,1,.45]),backIn:Bs([.31,.01,.66,-.59]),backOut:Bs([.33,1.53,.69,.99])};function gy(e,t){if(e)return typeof e=="function"&&ba()?my(e,t):Kd(e)?Bs(e):Array.isArray(e)?e.map(n=>gy(n,t)||ru.easeOut):ru[e]}const Mt={x:!1,y:!1};function yy(){return Mt.x||Mt.y}function Pj(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function xy(e,t){const n=Pj(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Hf(e){return t=>{t.pointerType==="touch"||yy()||e(t)}}function Tj(e,t,n={}){const[r,s,i]=xy(e,n),o=Hf(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=Hf(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const vy=(e,t)=>t?e===t?!0:vy(e,t.parentElement):!1,Qd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Ej=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Aj(e){return Ej.has(e.tagName)||e.tabIndex!==-1}const Us=new WeakSet;function qf(e){return t=>{t.key==="Enter"&&e(t)}}function $l(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Mj=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=qf(()=>{if(Us.has(n))return;$l(n,"down");const s=qf(()=>{$l(n,"up")}),i=()=>$l(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Gf(e){return Qd(e)&&!yy()}function Rj(e,t,n={}){const[r,s,i]=xy(e,n),o=l=>{const c=l.currentTarget;if(!Gf(l)||Us.has(c))return;Us.add(c);const u=t(l),d=(g,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Gf(g)||!Us.has(c))&&(Us.delete(c),typeof u=="function"&&u(g,{success:x}))},h=g=>{d(g,n.useGlobalTarget||vy(c,g.target))},f=g=>{d(g,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{!Aj(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>Mj(u,s),s)}),i}function Ij(e){return e==="x"||e==="y"?Mt[e]?null:(Mt[e]=!0,()=>{Mt[e]=!1}):Mt.x||Mt.y?null:(Mt.x=Mt.y=!0,()=>{Mt.x=Mt.y=!1})}const wy=new Set(["width","height","top","left","right","bottom",...ws]);let Ho;function Lj(){Ho=void 0}const Jt={now:()=>(Ho===void 0&&Jt.set(Be.isProcessing||Eb.useManualTiming?Be.timestamp:performance.now()),Ho),set:e=>{Ho=e,queueMicrotask(Lj)}};function Yd(e,t){e.indexOf(t)===-1&&e.push(t)}function Jd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Xd{constructor(){this.subscriptions=[]}add(t){return Yd(this.subscriptions,t),()=>Jd(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function by(e,t){return t?e*(1e3/t):0}const Kf=30,Oj=e=>!isNaN(parseFloat(e));class Dj{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Jt.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Jt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Oj(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Xd);const r=this.events[t].add(n);return t==="change"?()=>{r(),ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Jt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Kf)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Kf);return by(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ai(e,t){return new Dj(e,t)}function Fj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ai(n))}function $j(e,t){const n=Ya(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=Jb(i[o]);Fj(e,o,l)}}function Bj(e){return!!(Ke(e)&&e.add)}function su(e,t){const n=e.getValue("willChange");if(Bj(n))return n.add(t)}function jy(e){return e.props[Xg]}const ky=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Uj=1e-7,zj=12;function Vj(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=ky(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>Uj&&++l<zj);return o}function Wi(e,t,n,r){if(e===t&&n===r)return ft;const s=i=>Vj(i,0,1,e,n);return i=>i===0||i===1?i:ky(s(i),t,r)}const Sy=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ny=e=>t=>1-e(1-t),_y=Wi(.33,1.53,.69,.99),Zd=Ny(_y),Cy=Sy(Zd),Py=e=>(e*=2)<1?.5*Zd(e):.5*(2-Math.pow(2,-10*(e-1))),eh=e=>1-Math.sin(Math.acos(e)),Ty=Ny(eh),Ey=Sy(eh),Ay=e=>/^0[^.\s]+$/u.test(e);function Wj(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Ay(e):!0}const Zs=e=>Math.round(e*1e5)/1e5,th=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Hj(e){return e==null}const qj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nh=(e,t)=>n=>!!(typeof n=="string"&&qj.test(n)&&n.startsWith(e)||t&&!Hj(n)&&Object.prototype.hasOwnProperty.call(n,t)),My=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(th);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Gj=e=>pn(0,255,e),Bl={...bs,transform:e=>Math.round(Gj(e))},cr={test:nh("rgb","red"),parse:My("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Bl.transform(e)+", "+Bl.transform(t)+", "+Bl.transform(n)+", "+Zs(Ei.transform(r))+")"};function Kj(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const iu={test:nh("#"),parse:Kj,transform:cr.transform},qr={test:nh("hsl","hue"),parse:My("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Yt.transform(Zs(t))+", "+Yt.transform(Zs(n))+", "+Zs(Ei.transform(r))+")"},qe={test:e=>cr.test(e)||iu.test(e)||qr.test(e),parse:e=>cr.test(e)?cr.parse(e):qr.test(e)?qr.parse(e):iu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?cr.transform(e):qr.transform(e)},Qj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yj(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(th))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Qj))===null||n===void 0?void 0:n.length)||0)>0}const Ry="number",Iy="color",Jj="var",Xj="var(",Qf="${}",Zj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mi(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(Zj,c=>(qe.test(c)?(r.color.push(i),s.push(Iy),n.push(qe.parse(c))):c.startsWith(Xj)?(r.var.push(i),s.push(Jj),n.push(c)):(r.number.push(i),s.push(Ry),n.push(parseFloat(c))),++i,Qf)).split(Qf);return{values:n,split:l,indexes:r,types:s}}function Ly(e){return Mi(e).values}function Oy(e){const{split:t,types:n}=Mi(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===Ry?i+=Zs(s[o]):l===Iy?i+=qe.transform(s[o]):i+=s[o]}return i}}const ek=e=>typeof e=="number"?0:e;function tk(e){const t=Ly(e);return Oy(e)(t.map(ek))}const Vn={test:Yj,parse:Ly,createTransformer:Oy,getAnimatableNone:tk},nk=new Set(["brightness","contrast","saturate","opacity"]);function rk(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(th)||[];if(!r)return e;const s=n.replace(r,"");let i=nk.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const sk=/\b([a-z-]*)\(.*?\)/gu,ou={...Vn,getAnimatableNone:e=>{const t=e.match(sk);return t?t.map(rk).join(" "):e}},ik={...Bd,color:qe,backgroundColor:qe,outlineColor:qe,fill:qe,stroke:qe,borderColor:qe,borderTopColor:qe,borderRightColor:qe,borderBottomColor:qe,borderLeftColor:qe,filter:ou,WebkitFilter:ou},rh=e=>ik[e];function Dy(e,t){let n=rh(e);return n!==ou&&(n=Vn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ok=new Set(["auto","none","0"]);function ak(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!ok.has(i)&&Mi(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Dy(n,s)}const Yf=e=>e===bs||e===J,Jf=(e,t)=>parseFloat(e.split(", ")[t]),Xf=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Jf(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?Jf(i[1],e):0}},lk=new Set(["x","y","z"]),ck=ws.filter(e=>!lk.has(e));function uk(e){const t=[];return ck.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const hs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Xf(4,13),y:Xf(5,14)};hs.translateX=hs.x;hs.translateY=hs.y;const fr=new Set;let au=!1,lu=!1;function Fy(){if(lu){const e=Array.from(fr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=uk(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}lu=!1,au=!1,fr.forEach(e=>e.complete()),fr.clear()}function $y(){fr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(lu=!0)})}function dk(){$y(),Fy()}class sh{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(fr.add(this),au||(au=!0,ve.read($y),ve.resolveKeyframes(Fy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),fr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,fr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const By=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),hk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fk(e){const t=hk.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function Uy(e,t,n=1){const[r,s]=fk(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return By(o)?parseFloat(o):o}return $d(s)?Uy(s,t,n+1):s}const zy=e=>t=>t.test(e),mk={test:e=>e==="auto",parse:e=>e},Vy=[bs,J,Yt,wn,rj,nj,mk],Zf=e=>Vy.find(zy(e));class Wy extends sh{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),$d(u))){const d=Uy(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!wy.has(r)||t.length!==2)return;const[s,i]=t,o=Zf(s),l=Zf(i);if(o!==l)if(Yf(o)&&Yf(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)Wj(t[s])&&r.push(s);r.length&&ak(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=hs[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const em=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vn.test(e)||e==="0")&&!e.startsWith("url("));function pk(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function gk(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=em(s,t),l=em(i,t);return!o||!l?!1:pk(e)||(n==="spring"||Gd(n))&&r}const yk=e=>e!==null;function Ja(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(yk),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const xk=40;class Hy{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Jt.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>xk?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&dk(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Jt.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!gk(t,r,s,i))if(o)this.options.duration=0;else{c&&c(Ja(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const je=(e,t,n)=>e+(t-e)*n;function Ul(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function vk({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Ul(c,l,e+1/3),i=Ul(c,l,e),o=Ul(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function ja(e,t){return n=>n>0?t:e}const zl=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},wk=[iu,cr,qr],bk=e=>wk.find(t=>t.test(e));function tm(e){const t=bk(e);if(!t)return!1;let n=t.parse(e);return t===qr&&(n=vk(n)),n}const nm=(e,t)=>{const n=tm(e),r=tm(t);if(!n||!r)return ja(e,t);const s={...n};return i=>(s.red=zl(n.red,r.red,i),s.green=zl(n.green,r.green,i),s.blue=zl(n.blue,r.blue,i),s.alpha=je(n.alpha,r.alpha,i),cr.transform(s))},jk=(e,t)=>n=>t(e(n)),Hi=(...e)=>e.reduce(jk),cu=new Set(["none","hidden"]);function kk(e,t){return cu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Sk(e,t){return n=>je(e,t,n)}function ih(e){return typeof e=="number"?Sk:typeof e=="string"?$d(e)?ja:qe.test(e)?nm:Ck:Array.isArray(e)?qy:typeof e=="object"?qe.test(e)?nm:Nk:ja}function qy(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>ih(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function Nk(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=ih(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function _k(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[i]=c,s[o]++}return r}const Ck=(e,t)=>{const n=Vn.createTransformer(t),r=Mi(e),s=Mi(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?cu.has(e)&&!s.values.length||cu.has(t)&&!r.values.length?kk(e,t):Hi(qy(_k(r,s),s.values),n):ja(e,t)};function Gy(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?je(e,t,n):ih(e)(e,t)}const Pk=5;function Ky(e,t,n){const r=Math.max(t-Pk,0);return by(n-e(r),t-r)}const _e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vl=.001;function Tk({duration:e=_e.duration,bounce:t=_e.bounce,velocity:n=_e.velocity,mass:r=_e.mass}){let s,i,o=1-t;o=pn(_e.minDamping,_e.maxDamping,o),e=pn(_e.minDuration,_e.maxDuration,un(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-n,g=uu(u,o),x=Math.exp(-h);return Vl-f/g*x},i=u=>{const h=u*o*e,f=h*n+n,g=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-h),w=uu(Math.pow(u,2),o);return(-s(u)+Vl>0?-1:1)*((f-g)*x)/w}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Vl+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=Ak(s,i,l);if(e=cn(e),isNaN(c))return{stiffness:_e.stiffness,damping:_e.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Ek=12;function Ak(e,t,n){let r=n;for(let s=1;s<Ek;s++)r=r-e(r)/t(r);return r}function uu(e,t){return e*Math.sqrt(1-t*t)}const Mk=["duration","bounce"],Rk=["stiffness","damping","mass"];function rm(e,t){return t.some(n=>e[n]!==void 0)}function Ik(e){let t={velocity:_e.velocity,stiffness:_e.stiffness,damping:_e.damping,mass:_e.mass,isResolvedFromDuration:!1,...e};if(!rm(e,Rk)&&rm(e,Mk))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*pn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:_e.mass,stiffness:s,damping:i}}else{const n=Tk(e);t={...t,...n,mass:_e.mass},t.isResolvedFromDuration=!0}return t}function Qy(e=_e.visualDuration,t=_e.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:g}=Ik({...n,velocity:-un(n.velocity||0)}),x=f||0,w=u/(2*Math.sqrt(c*d)),j=o-i,m=un(Math.sqrt(c/d)),p=Math.abs(j)<5;r||(r=p?_e.restSpeed.granular:_e.restSpeed.default),s||(s=p?_e.restDelta.granular:_e.restDelta.default);let y;if(w<1){const b=uu(m,w);y=S=>{const _=Math.exp(-w*m*S);return o-_*((x+w*m*j)/b*Math.sin(b*S)+j*Math.cos(b*S))}}else if(w===1)y=b=>o-Math.exp(-m*b)*(j+(x+m*j)*b);else{const b=m*Math.sqrt(w*w-1);y=S=>{const _=Math.exp(-w*m*S),P=Math.min(b*S,300);return o-_*((x+w*m*j)*Math.sinh(P)+b*j*Math.cosh(P))/b}}const k={calculatedDuration:g&&h||null,next:b=>{const S=y(b);if(g)l.done=b>=h;else{let _=0;w<1&&(_=b===0?cn(x):Ky(y,b,S));const P=Math.abs(_)<=r,$=Math.abs(o-S)<=s;l.done=P&&$}return l.value=l.done?o:S,l},toString:()=>{const b=Math.min(fy(k),nu),S=my(_=>k.next(b*_).value,b,30);return b+"ms "+S}};return k}function sm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},g=P=>l!==void 0&&P<l||c!==void 0&&P>c,x=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let w=n*t;const j=h+w,m=o===void 0?j:o(j);m!==j&&(w=m-h);const p=P=>-w*Math.exp(-P/r),y=P=>m+p(P),k=P=>{const $=p(P),T=y(P);f.done=Math.abs($)<=u,f.value=f.done?m:T};let b,S;const _=P=>{g(f.value)&&(b=P,S=Qy({keyframes:[f.value,x(f.value)],velocity:Ky(y,P,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:P=>{let $=!1;return!S&&b===void 0&&($=!0,k(P),_(P)),b!==void 0&&P>=b?S.next(P-b):(!$&&k(P),f)}}}const Lk=Wi(.42,0,1,1),Ok=Wi(0,0,.58,1),Yy=Wi(.42,0,.58,1),Dk=e=>Array.isArray(e)&&typeof e[0]!="number",im={linear:ft,easeIn:Lk,easeInOut:Yy,easeOut:Ok,circIn:eh,circInOut:Ey,circOut:Ty,backIn:Zd,backInOut:Cy,backOut:_y,anticipate:Py},om=e=>{if(Kd(e)){eu(e.length===4);const[t,n,r,s]=e;return Wi(t,n,r,s)}else if(typeof e=="string")return eu(im[e]!==void 0),im[e];return e};function Fk(e,t,n){const r=[],s=n||Gy,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ft:t;l=Hi(c,l)}r.push(l)}return r}function $k(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(eu(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Fk(t,r,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=us(e[h],e[h+1],d);return l[h](f)};return n?d=>u(pn(e[0],e[i-1],d)):u}function Bk(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=us(0,t,r);e.push(je(n,1,s))}}function Uk(e){const t=[0];return Bk(t,e.length-1),t}function zk(e,t){return e.map(n=>n*t)}function Vk(e,t){return e.map(()=>t||Yy).splice(0,e.length-1)}function ka({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=Dk(r)?r.map(om):om(r),i={done:!1,value:t[0]},o=zk(n&&n.length===t.length?n:Uk(t),e),l=$k(o,t,{ease:Array.isArray(s)?s:Vk(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const Wk=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ve.update(t,!0),stop:()=>zn(t),now:()=>Be.isProcessing?Be.timestamp:Jt.now()}},Hk={decay:sm,inertia:sm,tween:ka,keyframes:ka,spring:Qy},qk=e=>e/100;class oh extends Hy{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||sh,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=Gd(n)?n:Hk[n]||ka;let c,u;l!==ka&&typeof t[0]!="number"&&(c=Hi(qk,Gy(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=fy(d));const{calculatedDuration:h}=d,f=h+s,g=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:g,repeatType:x,repeatDelay:w,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),p=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,k=i;if(g){const P=Math.min(this.currentTime,d)/h;let $=Math.floor(P),T=P%1;!T&&P>=1&&(T=1),T===1&&$--,$=Math.min($,g+1),!!($%2)&&(x==="reverse"?(T=1-T,w&&(T-=w/h)):x==="mirror"&&(k=o)),y=pn(0,1,T)*h}const b=p?{done:!1,value:c[0]}:k.next(y);l&&(b.value=l(b.value));let{done:S}=b;!p&&u!==null&&(S=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return _&&s!==void 0&&(b.value=Ja(c,this.options,s)),j&&j(b.value),_&&this.finish(),b}get duration(){const{resolved:t}=this;return t?un(t.calculatedDuration):0}get time(){return un(this.currentTime)}set time(t){t=cn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=un(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Wk,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Gk=new Set(["opacity","clipPath","filter","transform"]);function Kk(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=gy(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const Qk=Md(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Sa=10,Yk=2e4;function Jk(e){return Gd(e.type)||e.type==="spring"||!py(e.ease)}function Xk(e,t){const n=new oh({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<Yk;)r=n.sample(i),s.push(r.value),i+=Sa;return{times:void 0,keyframes:s,duration:i-Sa,ease:"linear"}}const Jy={anticipate:Py,backInOut:Cy,circInOut:Ey};function Zk(e){return e in Jy}class am extends Hy{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new Wy(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&ba()&&Zk(i)&&(i=Jy[i]),Jk(this.options)){const{onComplete:h,onUpdate:f,motionValue:g,element:x,...w}=this.options,j=Xk(t,w);t=j.keyframes,t.length===1&&(t[1]=t[0]),r=j.duration,s=j.times,i=j.ease,o="keyframes"}const d=Kk(l.owner.current,c,t,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Wf(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(Ja(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return un(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return un(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=cn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return ft;const{animation:r}=n;Wf(r,t)}return ft}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...g}=this.options,x=new oh({...g,keyframes:r,duration:s,type:i,ease:o,times:l,isGenerator:!0}),w=cn(this.time);u.setWithVelocity(x.sample(w-Sa).value,x.sample(w).value,Sa)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return Qk()&&r&&Gk.has(r)&&!c&&!u&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const e2={type:"spring",stiffness:500,damping:25,restSpeed:10},t2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),n2={type:"keyframes",duration:.8},r2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},s2=(e,{keyframes:t})=>t.length>2?n2:jr.has(e)?e.startsWith("scale")?t2(t[1]):e2:r2;function i2({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const ah=(e,t,n,r={},s,i)=>o=>{const l=qd(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-cn(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};i2(l)||(d={...d,...s2(e,d)}),d.duration&&(d.duration=cn(d.duration)),d.repeatDelay&&(d.repeatDelay=cn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Ja(d.keyframes,l);if(f!==void 0)return ve.update(()=>{d.onUpdate(f),d.onComplete()}),new Nj([])}return!i&&am.supports(d)?new am(d):new oh(d)};function o2({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Xy(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),g=c[h];if(g===void 0||d&&o2(d,h))continue;const x={delay:n,...qd(o||{},h)};let w=!1;if(window.MotionHandoffAnimation){const m=jy(e);if(m){const p=window.MotionHandoffAnimation(m,h,ve);p!==null&&(x.startTime=p,w=!0)}}su(e,h),f.start(ah(h,f,g,e.shouldReduceMotion&&wy.has(h)?{type:!1}:x,e,w));const j=f.animation;j&&u.push(j)}return l&&Promise.all(u).then(()=>{ve.update(()=>{l&&$j(e,l)})}),u}function du(e,t,n={}){var r;const s=Ya(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Xy(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return a2(e,t,d+u,h,f,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function a2(e,t,n=0,r=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(l2).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(du(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function l2(e,t){return e.sortNodePosition(t)}function c2(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>du(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=du(e,t,n);else{const s=typeof t=="function"?Ya(e,t,n.custom):t;r=Promise.all(Xy(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const u2=Id.length;function Zy(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Zy(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<u2;n++){const r=Id[n],s=e.props[r];(Ti(s)||s===!1)&&(t[r]=s)}return t}const d2=[...Rd].reverse(),h2=Rd.length;function f2(e){return t=>Promise.all(t.map(({animation:n,options:r})=>c2(e,n,r)))}function m2(e){let t=f2(e),n=lm(),r=!0;const s=c=>(u,d)=>{var h;const f=Ya(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:x,...w}=f;u={...u,...w,...x}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=Zy(e.parent)||{},h=[],f=new Set;let g={},x=1/0;for(let j=0;j<h2;j++){const m=d2[j],p=n[m],y=u[m]!==void 0?u[m]:d[m],k=Ti(y),b=m===c?p.isActive:null;b===!1&&(x=j);let S=y===d[m]&&y!==u[m]&&k;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),p.protectedKeys={...g},!p.isActive&&b===null||!y&&!p.prevProp||Ka(y)||typeof y=="boolean")continue;const _=p2(p.prevProp,y);let P=_||m===c&&p.isActive&&!S&&k||j>x&&k,$=!1;const T=Array.isArray(y)?y:[y];let G=T.reduce(s(m),{});b===!1&&(G={});const{prevResolvedValues:K={}}=p,oe={...K,...G},W=B=>{P=!0,f.has(B)&&($=!0,f.delete(B)),p.needsAnimating[B]=!0;const E=e.getValue(B);E&&(E.liveStyle=!1)};for(const B in oe){const E=G[B],F=K[B];if(g.hasOwnProperty(B))continue;let A=!1;tu(E)&&tu(F)?A=!hy(E,F):A=E!==F,A?E!=null?W(B):f.add(B):E!==void 0&&f.has(B)?W(B):p.protectedKeys[B]=!0}p.prevProp=y,p.prevResolvedValues=G,p.isActive&&(g={...g,...G}),r&&e.blockInitialAnimation&&(P=!1),P&&(!(S&&_)||$)&&h.push(...T.map(B=>({animation:B,options:{type:m}})))}if(f.size){const j={};f.forEach(m=>{const p=e.getBaseTarget(m),y=e.getValue(m);y&&(y.liveStyle=!0),j[m]=p??null}),h.push({animation:j})}let w=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(h):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),n[c].isActive=u;const h=o(c);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=lm(),r=!0}}}function p2(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hy(t,e):!1}function Xn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lm(){return{animate:Xn(!0),whileInView:Xn(),whileHover:Xn(),whileTap:Xn(),whileDrag:Xn(),whileFocus:Xn(),exit:Xn()}}class Kn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class g2 extends Kn{constructor(t){super(t),t.animationState||(t.animationState=m2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ka(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let y2=0;class x2 extends Kn{constructor(){super(...arguments),this.id=y2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const v2={animation:{Feature:g2},exit:{Feature:x2}};function Ri(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function qi(e){return{point:{x:e.pageX,y:e.pageY}}}const w2=e=>t=>Qd(t)&&e(t,qi(t));function ei(e,t,n,r){return Ri(e,t,w2(n),r)}const cm=(e,t)=>Math.abs(e-t);function b2(e,t){const n=cm(e.x,t.x),r=cm(e.y,t.y);return Math.sqrt(n**2+r**2)}class ex{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Hl(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=b2(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:x}=h,{timestamp:w}=Be;this.history.push({...x,timestamp:w});const{onStart:j,onMove:m}=this.handlers;f||(j&&j(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Wl(f,this.transformPagePoint),ve.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Hl(h.type==="pointercancel"?this.lastMoveEventInfo:Wl(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,j),x&&x(h,j)},!Qd(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=qi(t),l=Wl(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Be;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Hl(l,this.history)),this.removeListeners=Hi(ei(this.contextWindow,"pointermove",this.handlePointerMove),ei(this.contextWindow,"pointerup",this.handlePointerUp),ei(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zn(this.updatePoint)}}function Wl(e,t){return t?{point:t(e.point)}:e}function um(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Hl({point:e},t){return{point:e,delta:um(e,tx(t)),offset:um(e,j2(t)),velocity:k2(t,.1)}}function j2(e){return e[0]}function tx(e){return e[e.length-1]}function k2(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=tx(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>cn(t)));)n--;if(!r)return{x:0,y:0};const i=un(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const nx=1e-4,S2=1-nx,N2=1+nx,rx=.01,_2=0-rx,C2=0+rx;function pt(e){return e.max-e.min}function P2(e,t,n){return Math.abs(e-t)<=n}function dm(e,t,n,r=.5){e.origin=r,e.originPoint=je(t.min,t.max,e.origin),e.scale=pt(n)/pt(t),e.translate=je(n.min,n.max,e.origin)-e.originPoint,(e.scale>=S2&&e.scale<=N2||isNaN(e.scale))&&(e.scale=1),(e.translate>=_2&&e.translate<=C2||isNaN(e.translate))&&(e.translate=0)}function ti(e,t,n,r){dm(e.x,t.x,n.x,r?r.originX:void 0),dm(e.y,t.y,n.y,r?r.originY:void 0)}function hm(e,t,n){e.min=n.min+t.min,e.max=e.min+pt(t)}function T2(e,t,n){hm(e.x,t.x,n.x),hm(e.y,t.y,n.y)}function fm(e,t,n){e.min=t.min-n.min,e.max=e.min+pt(t)}function ni(e,t,n){fm(e.x,t.x,n.x),fm(e.y,t.y,n.y)}function E2(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?je(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?je(n,e,r.max):Math.min(e,n)),e}function mm(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function A2(e,{top:t,left:n,bottom:r,right:s}){return{x:mm(e.x,n,s),y:mm(e.y,t,r)}}function pm(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function M2(e,t){return{x:pm(e.x,t.x),y:pm(e.y,t.y)}}function R2(e,t){let n=.5;const r=pt(e),s=pt(t);return s>r?n=us(t.min,t.max-r,e.min):r>s&&(n=us(e.min,e.max-s,t.min)),pn(0,1,n)}function I2(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const hu=.35;function L2(e=hu){return e===!1?e=0:e===!0&&(e=hu),{x:gm(e,"left","right"),y:gm(e,"top","bottom")}}function gm(e,t,n){return{min:ym(e,t),max:ym(e,n)}}function ym(e,t){return typeof e=="number"?e:e[t]||0}const xm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gr=()=>({x:xm(),y:xm()}),vm=()=>({min:0,max:0}),Pe=()=>({x:vm(),y:vm()});function bt(e){return[e("x"),e("y")]}function sx({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function O2({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function D2(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ql(e){return e===void 0||e===1}function fu({scale:e,scaleX:t,scaleY:n}){return!ql(e)||!ql(t)||!ql(n)}function nr(e){return fu(e)||ix(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ix(e){return wm(e.x)||wm(e.y)}function wm(e){return e&&e!=="0%"}function Na(e,t,n){const r=e-n,s=t*r;return n+s}function bm(e,t,n,r,s){return s!==void 0&&(e=Na(e,s,r)),Na(e,n,r)+t}function mu(e,t=0,n=1,r,s){e.min=bm(e.min,t,n,r,s),e.max=bm(e.max,t,n,r,s)}function ox(e,{x:t,y:n}){mu(e.x,t.translate,t.scale,t.originPoint),mu(e.y,n.translate,n.scale,n.originPoint)}const jm=.999999999999,km=1.0000000000001;function F2(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Qr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,ox(e,o)),r&&nr(i.latestValues)&&Qr(e,i.latestValues))}t.x<km&&t.x>jm&&(t.x=1),t.y<km&&t.y>jm&&(t.y=1)}function Kr(e,t){e.min=e.min+t,e.max=e.max+t}function Sm(e,t,n,r,s=.5){const i=je(e.min,e.max,s);mu(e,t,n,i,r)}function Qr(e,t){Sm(e.x,t.x,t.scaleX,t.scale,t.originX),Sm(e.y,t.y,t.scaleY,t.scale,t.originY)}function ax(e,t){return sx(D2(e.getBoundingClientRect(),t))}function $2(e,t,n){const r=ax(e,n),{scroll:s}=t;return s&&(Kr(r.x,s.offset.x),Kr(r.y,s.offset.y)),r}const lx=({current:e})=>e?e.ownerDocument.defaultView:null,B2=new WeakMap;class U2{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(qi(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:x}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ij(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bt(j=>{let m=this.getAxisMotionValue(j).get()||0;if(Yt.test(m)){const{projection:p}=this.visualElement;if(p&&p.layout){const y=p.layout.layoutBox[j];y&&(m=pt(y)*(parseFloat(m)/100))}}this.originPoint[j]=m}),x&&ve.postRender(()=>x(d,h)),su(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:x,onDrag:w}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:j}=h;if(g&&this.currentDirection===null){this.currentDirection=z2(j),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,j),this.updateAxis("y",h.point,j),this.visualElement.render(),w&&w(d,h)},l=(d,h)=>this.stop(d,h),c=()=>bt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ex(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:lx(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ve.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!No(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=E2(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Hr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=A2(s.layoutBox,n):this.constraints=!1,this.elastic=L2(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&bt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=I2(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Hr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=$2(r,s.root,this.visualElement.getTransformPagePoint());let o=M2(s.layout.layoutBox,i);if(n){const l=n(O2(o));this.hasMutatedConstraints=!!l,l&&(o=sx(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=bt(d=>{if(!No(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,x={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return su(this.visualElement,t),r.start(ah(t,r,0,n,this.visualElement,!1))}stopAnimation(){bt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){bt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){bt(n=>{const{drag:r}=this.getProps();if(!No(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-je(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Hr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};bt(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=R2({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bt(o=>{if(!No(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(je(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;B2.set(this.visualElement,this);const t=this.visualElement.current,n=ei(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Hr(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ve.read(r);const o=Ri(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(bt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=hu,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function No(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function z2(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class V2 extends Kn{constructor(t){super(t),this.removeGroupControls=ft,this.removeListeners=ft,this.controls=new U2(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ft}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nm=e=>(t,n)=>{e&&ve.postRender(()=>e(t,n))};class W2 extends Kn{constructor(){super(...arguments),this.removePointerDownListener=ft}onPointerDown(t){this.session=new ex(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Nm(t),onStart:Nm(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ve.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ei(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _m(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Is={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(J.test(e))e=parseFloat(e);else return e;const n=_m(e,t.target.x),r=_m(e,t.target.y);return`${n}% ${r}%`}},H2={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Vn.parse(e);if(s.length>5)return r;const i=Vn.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=je(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class q2 extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;fj(G2),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),qo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ve.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Od.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function cx(e){const[t,n]=qg(),r=v.useContext(Pd);return a.jsx(q2,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(Zg),isPresent:t,safeToRemove:n})}const G2={borderRadius:{...Is,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Is,borderTopRightRadius:Is,borderBottomLeftRadius:Is,borderBottomRightRadius:Is,boxShadow:H2};function K2(e,t,n){const r=Ke(e)?e:Ai(e);return r.start(ah("",r,t,n)),r.animation}function Q2(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Y2=(e,t)=>e.depth-t.depth;class J2{constructor(){this.children=[],this.isDirty=!1}add(t){Yd(this.children,t),this.isDirty=!0}remove(t){Jd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Y2),this.isDirty=!1,this.children.forEach(t)}}function X2(e,t){const n=Jt.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(zn(r),e(i-t))};return ve.read(r,!0),()=>zn(r)}const ux=["TopLeft","TopRight","BottomLeft","BottomRight"],Z2=ux.length,Cm=e=>typeof e=="string"?parseFloat(e):e,Pm=e=>typeof e=="number"||J.test(e);function eS(e,t,n,r,s,i){s?(e.opacity=je(0,n.opacity!==void 0?n.opacity:1,tS(r)),e.opacityExit=je(t.opacity!==void 0?t.opacity:1,0,nS(r))):i&&(e.opacity=je(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Z2;o++){const l=`border${ux[o]}Radius`;let c=Tm(t,l),u=Tm(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Pm(c)===Pm(u)?(e[l]=Math.max(je(Cm(c),Cm(u),r),0),(Yt.test(u)||Yt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=je(t.rotate||0,n.rotate||0,r))}function Tm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const tS=dx(0,.5,Ty),nS=dx(.5,.95,ft);function dx(e,t,n){return r=>r<e?0:r>t?1:n(us(e,t,r))}function Em(e,t){e.min=t.min,e.max=t.max}function wt(e,t){Em(e.x,t.x),Em(e.y,t.y)}function Am(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Mm(e,t,n,r,s){return e-=t,e=Na(e,1/n,r),s!==void 0&&(e=Na(e,1/s,r)),e}function rS(e,t=0,n=1,r=.5,s,i=e,o=e){if(Yt.test(t)&&(t=parseFloat(t),t=je(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=je(i.min,i.max,r);e===i&&(l-=t),e.min=Mm(e.min,t,n,l,s),e.max=Mm(e.max,t,n,l,s)}function Rm(e,t,[n,r,s],i,o){rS(e,t[n],t[r],t[s],t.scale,i,o)}const sS=["x","scaleX","originX"],iS=["y","scaleY","originY"];function Im(e,t,n,r){Rm(e.x,t,sS,n?n.x:void 0,r?r.x:void 0),Rm(e.y,t,iS,n?n.y:void 0,r?r.y:void 0)}function Lm(e){return e.translate===0&&e.scale===1}function hx(e){return Lm(e.x)&&Lm(e.y)}function Om(e,t){return e.min===t.min&&e.max===t.max}function oS(e,t){return Om(e.x,t.x)&&Om(e.y,t.y)}function Dm(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function fx(e,t){return Dm(e.x,t.x)&&Dm(e.y,t.y)}function Fm(e){return pt(e.x)/pt(e.y)}function $m(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class aS{constructor(){this.members=[]}add(t){Yd(this.members,t),t.scheduleRender()}remove(t){if(Jd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lS(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:g,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const rr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},zs=typeof window<"u"&&window.MotionDebug!==void 0,Gl=["","X","Y","Z"],cS={visibility:"hidden"},Bm=1e3;let uS=0;function Kl(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function mx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=jy(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ve,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&mx(r)}function px({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=uS++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zs&&(rr.totalNodes=rr.resolvedTargetDeltas=rr.recalculatedProjection=0),this.nodes.forEach(fS),this.nodes.forEach(xS),this.nodes.forEach(vS),this.nodes.forEach(mS),zs&&window.MotionDebug.record(rr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new J2)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Xd),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Q2(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=X2(f,250),qo.hasAnimatedSinceResize&&(qo.hasAnimatedSinceResize=!1,this.nodes.forEach(zm))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||SS,{onLayoutAnimationStart:j,onLayoutAnimationComplete:m}=d.getProps(),p=!this.targetLayout||!fx(this.targetLayout,x)||g,y=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const k={...qd(w,"layout"),onPlay:j,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else f||zm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wS),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Um);return}this.isUpdating||this.nodes.forEach(gS),this.isUpdating=!1,this.nodes.forEach(yS),this.nodes.forEach(dS),this.nodes.forEach(hS),this.clearAllSnapshots();const l=Jt.now();Be.delta=pn(0,1e3/60,l-Be.timestamp),Be.timestamp=l,Be.isProcessing=!0,Fl.update.process(Be),Fl.preRender.process(Be),Fl.render.process(Be),Be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Od.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pS),this.sharedNodes.forEach(bS)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!hx(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||nr(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),NS(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Pe();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(_S))){const{scroll:d}=this.root;d&&(Kr(c.x,d.offset.x),Kr(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=Pe();if(wt(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&wt(c,o),Kr(c.x,h.offset.x),Kr(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=Pe();wt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Qr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),nr(d.latestValues)&&Qr(c,d.latestValues)}return nr(this.latestValues)&&Qr(c,this.latestValues),c}removeTransform(o){const l=Pe();wt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!nr(u.latestValues))continue;fu(u.latestValues)&&u.updateSnapshot();const d=Pe(),h=u.measurePageBox();wt(d,h),Im(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return nr(this.latestValues)&&Im(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Be.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),ni(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pe(),this.targetWithTransforms=Pe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wt(this.target,this.layout.layoutBox),ox(this.target,this.targetDelta)):wt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),ni(this.relativeTargetOrigin,this.target,g.target),wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zs&&rr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fu(this.parent.latestValues)||ix(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Be.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;wt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;F2(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Pe());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Am(this.prevProjectionDelta.x,this.projectionDelta.x),Am(this.prevProjectionDelta.y,this.projectionDelta.y)),ti(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!$m(this.projectionDelta.x,this.prevProjectionDelta.x)||!$m(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),zs&&rr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gr(),this.projectionDelta=Gr(),this.projectionDeltaWithTransform=Gr()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Gr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Pe(),g=c?c.source:void 0,x=this.layout?this.layout.source:void 0,w=g!==x,j=this.getStack(),m=!j||j.members.length<=1,p=!!(w&&!m&&this.options.crossfade===!0&&!this.path.some(kS));this.animationProgress=0;let y;this.mixTargetDelta=k=>{const b=k/1e3;Vm(h.x,o.x,b),Vm(h.y,o.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ni(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jS(this.relativeTarget,this.relativeTargetOrigin,f,b),y&&oS(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Pe()),wt(y,this.relativeTarget)),w&&(this.animationValues=d,eS(d,u,this.latestValues,b,p,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ve.update(()=>{qo.hasAnimatedSinceResize=!0,this.currentAnimation=K2(0,Bm,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Bm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&gx(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Pe();const h=pt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=pt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}wt(l,c),Qr(l,d),ti(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new aS),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Kl("z",o,u,this.animationValues);for(let d=0;d<Gl.length;d++)Kl(`rotate${Gl[d]}`,o,u,this.animationValues),Kl(`skew${Gl[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return cS;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Wo(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Wo(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!nr(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=lS(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:g,y:x}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in wa){if(f[w]===void 0)continue;const{correct:j,applyTo:m}=wa[w],p=u.transform==="none"?f[w]:j(f[w],h);if(m){const y=m.length;for(let k=0;k<y;k++)u[m[k]]=p}else u[w]=p}return this.options.layoutId&&(u.pointerEvents=h===this?Wo(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Um),this.root.sharedNodes.clear()}}}function dS(e){e.updateLayout()}function hS(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?bt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=pt(f);f.min=r[h].min,f.max=f.min+g}):gx(i,n.layoutBox,r)&&bt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=pt(r[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const l=Gr();ti(l,r,n.layoutBox);const c=Gr();o?ti(c,e.applyTransform(s,!0),n.measuredBox):ti(c,r,n.layoutBox);const u=!hx(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const x=Pe();ni(x,n.layoutBox,f.layoutBox);const w=Pe();ni(w,r,g.layoutBox),fx(x,w)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function fS(e){zs&&rr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function mS(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pS(e){e.clearSnapshot()}function Um(e){e.clearMeasurements()}function gS(e){e.isLayoutDirty=!1}function yS(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xS(e){e.resolveTargetDelta()}function vS(e){e.calcProjection()}function wS(e){e.resetSkewAndRotation()}function bS(e){e.removeLeadSnapshot()}function Vm(e,t,n){e.translate=je(t.translate,0,n),e.scale=je(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Wm(e,t,n,r){e.min=je(t.min,n.min,r),e.max=je(t.max,n.max,r)}function jS(e,t,n,r){Wm(e.x,t.x,n.x,r),Wm(e.y,t.y,n.y,r)}function kS(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const SS={duration:.45,ease:[.4,0,.1,1]},Hm=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),qm=Hm("applewebkit/")&&!Hm("chrome/")?Math.round:ft;function Gm(e){e.min=qm(e.min),e.max=qm(e.max)}function NS(e){Gm(e.x),Gm(e.y)}function gx(e,t,n){return e==="position"||e==="preserve-aspect"&&!P2(Fm(t),Fm(n),.2)}function _S(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const CS=px({attachResizeListener:(e,t)=>Ri(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ql={current:void 0},yx=px({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ql.current){const e=new CS({});e.mount(window),e.setOptions({layoutScroll:!0}),Ql.current=e}return Ql.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),PS={pan:{Feature:W2},drag:{Feature:V2,ProjectionNode:yx,MeasureLayout:cx}};function Km(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ve.postRender(()=>i(t,qi(t)))}class TS extends Kn{mount(){const{current:t}=this.node;t&&(this.unmount=Tj(t,n=>(Km(this.node,n,"Start"),r=>Km(this.node,r,"End"))))}unmount(){}}class ES extends Kn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hi(Ri(this.node.current,"focus",()=>this.onFocus()),Ri(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Qm(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ve.postRender(()=>i(t,qi(t)))}class AS extends Kn{mount(){const{current:t}=this.node;t&&(this.unmount=Rj(t,n=>(Qm(this.node,n,"Start"),(r,{success:s})=>Qm(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pu=new WeakMap,Yl=new WeakMap,MS=e=>{const t=pu.get(e.target);t&&t(e)},RS=e=>{e.forEach(MS)};function IS({root:e,...t}){const n=e||document;Yl.has(n)||Yl.set(n,{});const r=Yl.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(RS,{root:e,...t})),r[s]}function LS(e,t,n){const r=IS(t);return pu.set(e,n),r.observe(e),()=>{pu.delete(e),r.unobserve(e)}}const OS={some:0,all:1};class DS extends Kn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:OS[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return LS(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(FS(t,n))&&this.startObserver()}unmount(){}}function FS({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const $S={inView:{Feature:DS},tap:{Feature:AS},focus:{Feature:ES},hover:{Feature:TS}},BS={layout:{ProjectionNode:yx,MeasureLayout:cx}},gu={current:null},xx={current:!1};function US(){if(xx.current=!0,!!Ad)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>gu.current=e.matches;e.addListener(t),t()}else gu.current=!1}const zS=[...Vy,qe,Vn],VS=e=>zS.find(zy(e)),Ym=new WeakMap;function WS(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Ke(s))e.addValue(r,s);else if(Ke(i))e.addValue(r,Ai(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Ai(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Jm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HS{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Jt.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ve.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Qa(n),this.isVariantNode=Jg(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const x=f[g];c[g]!==void 0&&Ke(x)&&x.set(c[g],!1)}}mount(t){this.current=t,Ym.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),xx.current||US(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ym.delete(this.current),this.projection&&this.projection.unmount(),zn(this.notifyUpdate),zn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=jr.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ve.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ds){const n=ds[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Jm.length;r++){const s=Jm[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=WS(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ai(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(By(s)||Ay(s))?s=parseFloat(s):!VS(s)&&Vn.test(n)&&(s=Dy(t,n)),this.setBaseTarget(t,Ke(s)?s.get():s)),Ke(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Fd(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ke(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Xd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class vx extends HS{constructor(){super(...arguments),this.KeyframeResolver=Wy}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ke(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function qS(e){return window.getComputedStyle(e)}class GS extends vx{constructor(){super(...arguments),this.type="html",this.renderInstance=oy}readValueFromInstance(t,n){if(jr.has(n)){const r=rh(n);return r&&r.default||0}else{const r=qS(t),s=(ry(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return ax(t,n)}build(t,n,r){Ud(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Hd(t,n,r)}}class KS extends vx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(jr.has(n)){const r=rh(n);return r&&r.default||0}return n=ay.has(n)?n:Ld(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return uy(t,n,r)}build(t,n,r){zd(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){ly(t,n,r,s)}mount(t){this.isSVGTag=Wd(t.tagName),super.mount(t)}}const QS=(e,t)=>Dd(e)?new KS(t):new GS(t,{allowProjection:e!==v.Fragment}),YS=jj({...v2,...$S,...PS,...BS},QS),R=Db(YS);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),H=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>v.createElement("svg",{ref:d,...JS,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${XS(e)}`,l].join(" "),...u},[...t.map(([h,f])=>v.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=H("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=H("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=H("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=H("BookOpenCheck",[["path",{d:"M8 3H2v15h7c1.7 0 3 1.3 3 3V7c0-2.2-1.8-4-4-4Z",key:"1i8u0n"}],["path",{d:"m16 12 2 2 4-4",key:"mdajum"}],["path",{d:"M22 6V3h-6c-2.2 0-4 1.8-4 4v14c0-1.7 1.3-3 3-3h7v-2.3",key:"jb5l51"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=H("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=H("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=H("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=H("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=H("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=H("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=H("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=H("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=H("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=H("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=H("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=H("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=H("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=H("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=H("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=H("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=H("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=H("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=H("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=H("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=H("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=H("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=H("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=H("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=H("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=H("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=H("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=H("PencilRuler",[["path",{d:"m15 5 4 4",key:"1mk7zo"}],["path",{d:"M13 7 8.7 2.7a2.41 2.41 0 0 0-3.4 0L2.7 5.3a2.41 2.41 0 0 0 0 3.4L7 13",key:"orapub"}],["path",{d:"m8 6 2-2",key:"115y1s"}],["path",{d:"m2 22 5.5-1.5L21.17 6.83a2.82 2.82 0 0 0-4-4L3.5 16.5Z",key:"hes763"}],["path",{d:"m18 16 2-2",key:"ee94s4"}],["path",{d:"m17 11 4.3 4.3c.94.94.94 2.46 0 3.4l-2.6 2.6c-.94.94-2.46.94-3.4 0L11 17",key:"cfq27r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=H("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=H("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=H("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=H("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=H("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=H("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=H("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=H("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=H("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=H("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=H("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=H("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=H("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=H("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=H("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=H("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=H("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=H("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=H("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=H("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),X=({children:e,onClick:t,variant:n="primary",size:r="md",disabled:s=!1,icon:i,fullWidth:o=!1,className:l="",type:c="button",animated:u=!0})=>{const d="rounded-full font-bold flex items-center justify-center transition-all",h={primary:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg",secondary:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white shadow-lg",accent:"bg-gradient-to-r from-yellow-400 to-orange-400 hover:from-yellow-500 hover:to-orange-500 text-white shadow-lg",success:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg",warning:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white shadow-lg",error:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white shadow-lg"},f={sm:"text-sm px-4 py-2",md:"text-base px-6 py-3",lg:"text-lg px-8 py-4"},g=`
    ${d}
    ${h[n]}
    ${f[r]}
    ${s?"opacity-50 cursor-not-allowed":"shadow-md hover:shadow-xl"}
    ${o?"w-full":""}
    ${l}
  `,x=a.jsxs(a.Fragment,{children:[i&&a.jsx("span",{className:"mr-2",children:i}),e]});return u&&!s?a.jsx(R.button,{type:c,className:g,onClick:t,disabled:s,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},children:x}):a.jsx("button",{type:c,className:g,onClick:t,disabled:s,children:x})},jN=()=>{const e=vt(),t=()=>{e("/auth")},n=s=>{e(s)},r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx("header",{className:"py-6 px-4 md:px-8",children:a.jsx("div",{className:"container mx-auto",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("button",{onClick:r,className:"flex items-center hover:opacity-80 transition-opacity cursor-pointer",children:[a.jsx(gt,{className:"h-8 w-8 text-primary-600 mr-2"}),a.jsx("span",{className:"text-2xl font-bold text-primary-600",children:"SmartPlay"})]}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx(X,{variant:"secondary",size:"sm",onClick:()=>e("/auth"),icon:a.jsx(an,{className:"h-4 w-4"}),children:"Create Profile"})})]})})}),a.jsx("main",{className:"flex-grow flex flex-col items-center justify-center px-4 py-10",children:a.jsxs("div",{className:"container mx-auto max-w-6xl",children:[a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 md:gap-16 mb-16",children:[a.jsxs(R.div,{className:"md:w-1/2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[a.jsxs(R.h1,{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:["Learn Together, ",a.jsx("span",{className:"text-primary-600",children:"Play Together"})]}),a.jsx(R.p,{className:"text-xl text-gray-600 mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:"Join friends in exciting educational games that make learning fun! Choose a unique username, create your avatar, and start your learning adventure."}),a.jsxs(R.div,{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-2xl p-6 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[a.jsxs("h3",{className:"font-bold text-green-800 mb-4 flex items-center",children:[a.jsx(yN,{className:"h-6 w-6 mr-2"}),"Safe & Simple for Kids"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-green-600 mr-2",children:"✓"}),a.jsx("span",{children:"No email or personal info needed"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-green-600 mr-2",children:"✓"}),a.jsx("span",{children:"Just pick a fun username"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-green-600 mr-2",children:"✓"}),a.jsx("span",{children:"Safe, offline-first experience"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-green-600 mr-2",children:"✓"}),a.jsx("span",{children:"Play instantly without setup"})]})]})]}),a.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:a.jsx(X,{onClick:t,variant:"primary",size:"lg",icon:a.jsx(ch,{className:"h-5 w-5"}),className:"animate-pulse",children:"Start Playing Now!"})})]}),a.jsx(R.div,{className:"md:w-1/2",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},children:a.jsx("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden border-8 border-white",children:a.jsx("img",{src:"https://images.pexels.com/photos/8535236/pexels-photo-8535236.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Kids learning together in school",className:"w-full h-auto object-cover",loading:"lazy"})})})]}),a.jsxs(R.div,{className:"grid md:grid-cols-3 gap-8 mb-16",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:[a.jsx(Jl,{icon:a.jsx(an,{className:"h-8 w-8 text-primary-600"}),title:"Simple Username System",description:"No emails or passwords needed! Just pick a unique username and start playing."}),a.jsx(Jl,{icon:a.jsx(js,{className:"h-8 w-8 text-primary-600"}),title:"Instant Play",description:"Click any game and start playing immediately. No setup or configuration required."}),a.jsx(Jl,{icon:a.jsx(fs,{className:"h-8 w-8 text-primary-600"}),title:"Safe Learning Environment",description:"Offline-first design with local progress tracking, perfect for young learners."})]}),a.jsxs(R.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-3xl p-8 mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"How SmartPlay Works"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(Xl,{step:"1",icon:a.jsx(an,{className:"h-8 w-8 text-purple-600"}),title:"Choose Username",description:"Pick a unique username and create your avatar"}),a.jsx(Xl,{step:"2",icon:a.jsx(oN,{className:"h-8 w-8 text-green-600"}),title:"Play Games",description:"Click any game below to start playing instantly"}),a.jsx(Xl,{step:"3",icon:a.jsx(fs,{className:"h-8 w-8 text-yellow-600"}),title:"Earn Rewards",description:"Collect XP, achievements, and unlock new content"})]})]}),a.jsxs(R.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Educational Games Available"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Click any game to start playing instantly! No setup required."}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsx(_r,{icon:a.jsx(Xa,{className:"h-12 w-12 text-purple-600"}),title:"Math Mania",description:"Solve math problems and build your calculation skills",color:"from-purple-500 to-pink-500",onClick:()=>n("/math-mania")}),a.jsx(_r,{icon:a.jsx(Nx,{className:"h-12 w-12 text-blue-600"}),title:"Spelling Bee",description:"Master spelling with word challenges and hints",color:"from-blue-500 to-cyan-500",onClick:()=>n("/spelling-bee")}),a.jsx(_r,{icon:a.jsx(wx,{className:"h-12 w-12 text-green-600"}),title:"Interactive Tales",description:"Experience moral stories and learn valuable lessons",color:"from-green-500 to-emerald-500",onClick:()=>n("/tales")}),a.jsx(_r,{icon:a.jsx(_a,{className:"h-12 w-12 text-yellow-600"}),title:"Nursery Rhymes",description:"Fill in rhyme blanks and create new verses",color:"from-yellow-500 to-orange-500",onClick:()=>n("/rhymes")}),a.jsx(_r,{icon:a.jsx(jx,{className:"h-12 w-12 text-red-600"}),title:"Multiplication Tables",description:"Master times tables with fun quizzes and challenges",color:"from-red-500 to-pink-500",onClick:()=>n("/tables")}),a.jsx(_r,{icon:a.jsx(lh,{className:"h-12 w-12 text-indigo-600"}),title:"Team Drawing",description:"Draw freely or color beautiful diagrams",color:"from-indigo-500 to-purple-500",onClick:()=>n("/team-drawing")})]}),a.jsxs(R.div,{className:"mt-12 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-3xl p-8 text-white",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Ready to Start Learning?"}),a.jsx("p",{className:"text-lg mb-6 text-primary-100",children:"Join thousands of kids already learning and playing on SmartPlay!"}),a.jsx(X,{onClick:()=>e("/auth"),variant:"secondary",size:"lg",icon:a.jsx(an,{className:"h-5 w-5"}),className:"bg-white text-primary-600 hover:bg-gray-100",children:"Create Your Profile Now"})]})]})]})}),a.jsx("footer",{className:"py-6 bg-primary-50",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("p",{className:"text-center text-gray-600",children:["© ",new Date().getFullYear()," SmartPlay - Learning is better together"]})})})]})},Jl=({icon:e,title:t,description:n})=>a.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[a.jsx("div",{className:"bg-primary-100 w-16 h-16 rounded-2xl flex items-center justify-center mb-4",children:e}),a.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:t}),a.jsx("p",{className:"text-gray-600",children:n})]}),Xl=({step:e,icon:t,title:n,description:r})=>a.jsxs(R.div,{className:"text-center p-4",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[a.jsxs("div",{className:"relative mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-white rounded-full shadow-lg flex items-center justify-center mx-auto",children:t}),a.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-primary-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:e})]}),a.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:n}),a.jsx("p",{className:"text-gray-600 text-sm",children:r})]}),_r=({icon:e,title:t,description:n,color:r,onClick:s})=>a.jsxs(R.div,{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 cursor-pointer",whileHover:{y:-5,scale:1.02},whileTap:{scale:.98},onClick:s,children:[a.jsx("div",{className:`bg-gradient-to-r ${r} p-6 text-white flex justify-center`,children:e}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:t}),a.jsx("p",{className:"text-gray-600 mb-4",children:n}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(X,{variant:"primary",size:"sm",icon:a.jsx(ch,{className:"h-4 w-4"}),className:"pointer-events-none",children:"Play Now"})})]})]}),kN={blue:"bg-secondary-400",green:"bg-success-400",yellow:"bg-accent-400",purple:"bg-primary-400",red:"bg-error-400",orange:"bg-warning-400"},SN={sm:"w-10 h-10",md:"w-16 h-16",lg:"w-24 h-24",xl:"w-32 h-32"},NN={none:null,glasses:a.jsx("div",{className:"absolute top-1/3 left-1/2 transform -translate-x-1/2",children:a.jsxs("div",{className:"w-3/4 h-1 bg-gray-800 flex items-center justify-between rounded-full",children:[a.jsx("div",{className:"w-2/5 h-2.5 bg-white border-2 border-gray-800 rounded-full"}),a.jsx("div",{className:"w-2/5 h-2.5 bg-white border-2 border-gray-800 rounded-full"})]})}),bowtie:a.jsxs("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2",children:[a.jsx("div",{className:"w-8 h-4 bg-error-500 rotate-45 absolute -left-2"}),a.jsx("div",{className:"w-8 h-4 bg-error-500 -rotate-45 absolute -right-2"}),a.jsx("div",{className:"w-2 h-2 bg-error-700 rounded-full absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2"})]}),hat:a.jsxs("div",{className:"absolute -top-4 left-0 right-0",children:[a.jsx("div",{className:"w-full h-4 bg-primary-700 rounded-t-full"}),a.jsx("div",{className:"w-125% h-2 bg-primary-800 -mt-2 -ml-[12.5%] rounded-full"})]}),flower:a.jsxs("div",{className:"absolute -top-3 right-0",children:[a.jsx("div",{className:"w-5 h-5 bg-error-400 rounded-full absolute"}),a.jsx("div",{className:"w-5 h-5 bg-success-400 rounded-full absolute -left-2 -top-2"}),a.jsx("div",{className:"w-5 h-5 bg-accent-400 rounded-full absolute left-0 -top-3"}),a.jsx("div",{className:"w-3 h-3 bg-accent-600 rounded-full absolute left-0 -top-1 z-10"})]}),crown:a.jsxs("div",{className:"absolute -top-5 left-1/2 transform -translate-x-1/2",children:[a.jsxs("div",{className:"w-4/5 h-4 bg-accent-400 flex justify-between items-end",children:[a.jsx("div",{className:"w-1/4 h-3 bg-accent-400 rounded-t-full"}),a.jsx("div",{className:"w-1/4 h-5 bg-accent-400 rounded-t-full"}),a.jsx("div",{className:"w-1/4 h-3 bg-accent-400 rounded-t-full"})]}),a.jsx("div",{className:"w-full h-2 bg-accent-500 -mt-1"})]})},gn=({color:e,accessory:t,size:n="md",animated:r=!1,className:s=""})=>{const i=kN[e],o=SN[n],l=NN[t];return a.jsx(R.div,{className:`relative ${o} ${s}`,animate:r?{y:[0,-10,0]}:{},transition:r?{repeat:1/0,duration:2}:{},children:a.jsxs("div",{className:`${i} rounded-full w-full h-full relative overflow-visible flex items-center justify-center shadow-md`,children:[a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsxs("div",{className:"flex space-x-4 mb-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-800 rounded-full"}),a.jsx("div",{className:"w-2 h-2 bg-gray-800 rounded-full"})]}),a.jsx("div",{className:"w-4 h-2 bg-gray-800 rounded-full mt-1"})]}),l]})})},_N="modulepreload",CN=function(e){return"/"+e},tp={},Gi=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=CN(c),c in tp)return;tp[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":_N,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},PN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Gi(async()=>{const{default:r}=await Promise.resolve().then(()=>ks);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class uh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class TN extends uh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class EN extends uh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class AN extends uh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ju;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ju||(ju={}));var MN=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class RN{constructor(t,{headers:n={},customFetch:r,region:s=ju.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=PN(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return MN(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(x=>{throw new TN(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new EN(d);if(!d.ok)throw new AN(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var rt={},dh={},Za={},Ki={},el={},tl={},IN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ps=IN();const LN=ps.fetch,Ex=ps.fetch.bind(ps),Ax=ps.Headers,ON=ps.Request,DN=ps.Response,ks=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ax,Request:ON,Response:DN,default:Ex,fetch:LN},Symbol.toStringTag,{value:"Module"})),FN=ov(ks);var nl={};Object.defineProperty(nl,"__esModule",{value:!0});let $N=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};nl.default=$N;var Mx=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tl,"__esModule",{value:!0});const BN=Mx(FN),UN=Mx(nl);let zN=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=BN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,g="OK")}catch{i.status===404&&w===""?(f=204,g="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new UN.default(u)}return{error:u,data:d,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};tl.default=zN;var VN=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(el,"__esModule",{value:!0});const WN=VN(tl);let HN=class extends WN.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};el.default=HN;var qN=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ki,"__esModule",{value:!0});const GN=qN(el);let KN=class extends GN.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Ki.default=KN;var QN=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Za,"__esModule",{value:!0});const Ls=QN(Ki);let YN=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Ls.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ls.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ls.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Ls.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ls.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Za.default=YN;var rl={},sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.version=void 0;sl.version="0.0.0-automated";Object.defineProperty(rl,"__esModule",{value:!0});rl.DEFAULT_HEADERS=void 0;const JN=sl;rl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${JN.version}`};var Rx=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dh,"__esModule",{value:!0});const XN=Rx(Za),ZN=Rx(Ki),e_=rl;let t_=class Ix{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},e_.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new XN.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ix(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new ZN.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};dh.default=t_;var Ss=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rt,"__esModule",{value:!0});rt.PostgrestError=rt.PostgrestBuilder=rt.PostgrestTransformBuilder=rt.PostgrestFilterBuilder=rt.PostgrestQueryBuilder=rt.PostgrestClient=void 0;const Lx=Ss(dh);rt.PostgrestClient=Lx.default;const Ox=Ss(Za);rt.PostgrestQueryBuilder=Ox.default;const Dx=Ss(Ki);rt.PostgrestFilterBuilder=Dx.default;const Fx=Ss(el);rt.PostgrestTransformBuilder=Fx.default;const $x=Ss(tl);rt.PostgrestBuilder=$x.default;const Bx=Ss(nl);rt.PostgrestError=Bx.default;var n_=rt.default={PostgrestClient:Lx.default,PostgrestQueryBuilder:Ox.default,PostgrestFilterBuilder:Dx.default,PostgrestTransformBuilder:Fx.default,PostgrestBuilder:$x.default,PostgrestError:Bx.default};const{PostgrestClient:r_,PostgrestQueryBuilder:FC,PostgrestFilterBuilder:$C,PostgrestTransformBuilder:BC,PostgrestBuilder:UC,PostgrestError:zC}=n_;let ku;typeof window>"u"?ku=require("ws"):ku=window.WebSocket;const s_=ku,i_="2.11.10",o_={"X-Client-Info":`realtime-js/${i_}`},a_="1.0.0",Ux=1e4,l_=1e3;var ns;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ns||(ns={}));var Ye;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ye||(Ye={}));var Lt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Lt||(Lt={}));var Su;(function(e){e.websocket="websocket"})(Su||(Su={}));var ir;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ir||(ir={}));class c_{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class zx{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(he||(he={}));const np=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=u_(o,e,t,s),i),{})},u_=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Vx(i,o):Nu(o)},Vx=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return m_(t,n)}switch(e){case he.bool:return d_(t);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return h_(t);case he.json:case he.jsonb:return f_(t);case he.timestamp:return p_(t);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return Nu(t);default:return Nu(t)}},Nu=e=>e,d_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},h_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},f_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},m_=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Vx(t,l))}return e},p_=e=>typeof e=="string"?e.replace(" ","T"):e,Wx=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Zl{constructor(t,n,r={},s=Ux){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rp||(rp={}));class ii{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ii.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=ii.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ii.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(j=>j.presence_ref),g=h.map(j=>j.presence_ref),x=d.filter(j=>g.indexOf(j.presence_ref)<0),w=h.filter(j=>f.indexOf(j.presence_ref)<0);x.length>0&&(l[u]=x),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sp||(sp={}));var ip;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ip||(ip={}));var nn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(nn||(nn={}));class hh{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Zl(this,Lt.join,this.params,this.timeout),this.rejoinTimer=new zx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ii(this),this.broadcastEndpointURL=Wx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(nn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(nn.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(nn.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,x=[];for(let w=0;w<g;w++){const j=f[w],{filter:{event:m,schema:p,table:y,filter:k}}=j,b=d&&d[w];if(b&&b.event===m&&b.schema===p&&b.table===y&&b.filter===k)x.push(Object.assign(Object.assign({},j),{id:b.id}));else{this.unsubscribe(),this.state=Ye.errored,t==null||t(nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(nn.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ye.errored,t==null||t(nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ye.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new Zl(this,Lt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Zl(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Lt;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,w,j;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((j=(w=g.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var x,w,j,m,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const k=g.id,b=(x=g.filter)===null||x===void 0?void 0:x.event;return k&&((w=n.ids)===null||w===void 0?void 0:w.includes(k))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const k=(p=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return k==="*"||k===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:w,table:j,commit_timestamp:m,type:p,errors:y}=x;f=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:m,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(x))}g.callback(f,r)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&hh.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Lt.close,{},t)}_onError(t){this._on(Lt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=np(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=np(t.columns,t.old_record)),n}}const op=()=>{},g_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class y_{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=o_,this.params={},this.timeout=Ux,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=op,this.ref=0,this.logger=op,this.conn=null,this.sendBuffer=[],this.serializer=new c_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Gi(async()=>{const{default:c}=await Promise.resolve().then(()=>ks);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Su.websocket}`,this.httpEndpoint=Wx(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new zx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=s_),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new x_(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:a_}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ns.connecting:return ir.Connecting;case ns.open:return ir.Open;case ns.closing:return ir.Closing;default:return ir.Closed}}isConnected(){return this.connectionState()===ir.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new hh(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Lt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(l_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Lt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([g_],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class x_{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ns.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class fh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Le(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class v_ extends fh{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _u extends fh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var w_=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Hx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Gi(async()=>{const{default:r}=await Promise.resolve().then(()=>ks);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},b_=()=>w_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gi(()=>Promise.resolve().then(()=>ks),void 0)).Response:Response}),Cu=e=>{if(Array.isArray(e))return e.map(n=>Cu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Cu(r)}),t};var kr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const ec=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),j_=(e,t,n)=>kr(void 0,void 0,void 0,function*(){const r=yield b_();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new v_(ec(s),e.status||500))}).catch(s=>{t(new _u(ec(s),s))}):t(new _u(ec(e),e))}),k_=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Qi(e,t,n,r,s,i){return kr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,k_(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>j_(c,l,r))})})}function Ca(e,t,n,r){return kr(this,void 0,void 0,function*(){return Qi(e,"GET",t,n,r)})}function Sn(e,t,n,r,s){return kr(this,void 0,void 0,function*(){return Qi(e,"POST",t,r,s,n)})}function S_(e,t,n,r,s){return kr(this,void 0,void 0,function*(){return Qi(e,"PUT",t,r,s,n)})}function N_(e,t,n,r){return kr(this,void 0,void 0,function*(){return Qi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function qx(e,t,n,r,s){return kr(this,void 0,void 0,function*(){return Qi(e,"DELETE",t,r,s,n)})}var tt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const __={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ap={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class C_{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Hx(s)}uploadOrUpdate(t,n,r,s){return tt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ap),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Le(i))return{data:null,error:i};throw i}})}upload(t,n,r){return tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return tt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:ap.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Le(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return tt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Sn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new fh("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}update(t,n,r){return tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return tt(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}copy(t,n,r){return tt(this,void 0,void 0,function*(){try{return{data:{path:(yield Sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return tt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Sn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return tt(this,void 0,void 0,function*(){try{const s=yield Sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}download(t,n){return tt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ca(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Le(l))return{data:null,error:l};throw l}})}info(t){return tt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ca(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Cu(r),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}exists(t){return tt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield N_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Le(r)&&r instanceof _u){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return tt(this,void 0,void 0,function*(){try{return{data:yield qx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}list(t,n,r){return tt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},__),n),{prefix:t||""});return{data:yield Sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const P_="2.7.1",T_={"X-Client-Info":`storage-js/${P_}`};var Cr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class E_{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},T_),n),this.fetch=Hx(r)}listBuckets(){return Cr(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Le(t))return{data:null,error:t};throw t}})}getBucket(t){return Cr(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Cr(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Cr(this,void 0,void 0,function*(){try{return{data:yield S_(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Cr(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Cr(this,void 0,void 0,function*(){try{return{data:yield qx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}}class A_ extends E_{constructor(t,n={},r){super(t,n,r)}from(t){return new C_(this.url,this.headers,t,this.fetch)}}const M_="2.50.0";let Vs="";typeof Deno<"u"?Vs="deno":typeof document<"u"?Vs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vs="react-native":Vs="node";const R_={"X-Client-Info":`supabase-js-${Vs}/${M_}`},I_={headers:R_},L_={schema:"public"},O_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},D_={};var F_=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const $_=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ex:t=fetch,(...n)=>t(...n)},B_=()=>typeof Headers>"u"?Ax:Headers,U_=(e,t,n)=>{const r=$_(n),s=B_();return(i,o)=>F_(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var z_=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function V_(e){return e.endsWith("/")?e:e+"/"}function W_(e,t){var n,r;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>z_(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Gx="2.70.0",Mr=30*1e3,Pu=3,tc=Pu*Mr,H_="http://localhost:9999",q_="supabase.auth.token",G_={"X-Client-Info":`gotrue-js/${Gx}`},Tu="X-Supabase-Api-Version",Kx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},K_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Q_=6e5;class mh extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Y_ extends mh{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function J_(e){return Z(e)&&e.name==="AuthApiError"}class Qx extends mh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Yn extends mh{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class bn extends Yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function X_(e){return Z(e)&&e.name==="AuthSessionMissingError"}class _o extends Yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Co extends Yn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Po extends Yn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Z_(e){return Z(e)&&e.name==="AuthImplicitGrantRedirectError"}class lp extends Yn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Eu extends Yn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function nc(e){return Z(e)&&e.name==="AuthRetryableFetchError"}class cp extends Yn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class oi extends Yn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),up=` 	
\r=`.split(""),e5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<up.length;t+=1)e[up[t].charCodeAt(0)]=-2;for(let t=0;t<Pa.length;t+=1)e[Pa[t].charCodeAt(0)]=t;return e})();function dp(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Pa[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Pa[r]),t.queuedBits-=6}}function Yx(e,t,n){const r=e5[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hp(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{r5(o,r,n)};for(let o=0;o<e.length;o+=1)Yx(e.charCodeAt(o),s,i);return t.join("")}function t5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function n5(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}t5(r,t)}}function r5(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function s5(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Yx(e.charCodeAt(s),n,r);return new Uint8Array(t)}function i5(e){const t=[];return n5(e,n=>t.push(n)),new Uint8Array(t)}function o5(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>dp(s,n,r)),dp(null,n,r),t.join("")}function a5(e){return Math.round(Date.now()/1e3)+e}function l5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const At=()=>typeof window<"u"&&typeof document<"u",Zn={tested:!1,writable:!1},ai=()=>{if(!At())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zn.tested)return Zn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zn.tested=!0,Zn.writable=!0}catch{Zn.tested=!0,Zn.writable=!1}return Zn.writable};function c5(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Jx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Gi(async()=>{const{default:r}=await Promise.resolve().then(()=>ks);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},u5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xx=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},To=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Eo=async(e,t)=>{await e.removeItem(t)};class il{constructor(){this.promise=new il.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}il.promiseConstructor=Promise;function rc(e){const t=e.split(".");if(t.length!==3)throw new oi("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!K_.test(t[r]))throw new oi("JWT not in base64url format");return{header:JSON.parse(hp(t[0])),payload:JSON.parse(hp(t[1])),signature:s5(t[2]),raw:{header:t[0],payload:t[1]}}}async function d5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function h5(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function f5(e){return("0"+e.toString(16)).substr(-2)}function m5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,f5).join("")}async function p5(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function g5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await p5(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pr(e,t,n=!1){const r=m5();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Xx(e,`${t}-code-verifier`,s);const i=await g5(r);return[i,r===i?"plain":"s256"]}const y5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function x5(e){const t=e.headers.get(Tu);if(!t||!t.match(y5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function v5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function w5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const b5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tr(e){if(!b5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var j5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const sr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),k5=[502,503,504];async function fp(e){var t;if(!u5(e))throw new Eu(sr(e),0);if(k5.includes(e.status))throw new Eu(sr(e),e.status);let n;try{n=await e.json()}catch(i){throw new Qx(sr(i),i)}let r;const s=x5(e);if(s&&s.getTime()>=Kx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new cp(sr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new bn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new cp(sr(n),e.status,n.weak_password.reasons);throw new Y_(sr(n),e.status||500,r)}const S5=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function te(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Tu]||(i[Tu]=Kx["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await N5(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function N5(e,t,n,r,s,i){const o=S5(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Eu(sr(c),0)}if(l.ok||await fp(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await fp(c)}}function en(e){var t;let n=null;T5(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=a5(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function mp(e){const t=en(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _5(e){return{data:e,error:null}}function C5(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=j5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function P5(e){return e}function T5(e){return e.access_token&&e.refresh_token&&e.expires_in}const sc=["global","local","others"];var E5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class A5{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Jx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=sc[0]){if(sc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sc.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=E5(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:C5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pn})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:P5});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(x.split(";")[1].split("=")[1]);u[`${j}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Tr(t);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pn})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Tr(t);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Pn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Tr(t);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Tr(t.userId);try{const{data:n,error:r}=await te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Tr(t.userId),Tr(t.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}}const M5={getItem:e=>ai()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ai()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ai()&&globalThis.localStorage.removeItem(e)}};function pp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function R5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Er={debug:!!(globalThis&&ai()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class I5 extends Zx{}async function L5(e,t,n){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new I5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Er.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}R5();const O5={url:H_,storageKey:q_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:G_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function gp(e,t,n){return await n()}class Li{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Li.nextInstanceID,Li.nextInstanceID+=1,this.instanceID>0&&At()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},O5),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new A5({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Jx(s.fetch),this.lock=s.lock||gp,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:At()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=L5:this.lock=gp,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ai()?this.storage=M5:(this.memoryStorage={},this.storage=pp(this.memoryStorage)):(this.memoryStorage={},this.storage=pp(this.memoryStorage)),At()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Gx}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=c5(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),At()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Z_(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Z(n)?{error:n}:{error:new Qx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:en}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Pr(this.storage,this.storageKey)),i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:x},xform:en})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:en})}else throw new Co("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:mp})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:mp})}else throw new Co("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new _o}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,l,c,u,d,h,f,g;let x,w;if("message"in t)x=t.message,w=t.signature;else{const{chain:j,wallet:m,statement:p,options:y}=t;let k;if(At())if(typeof m=="object")k=m;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))k=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=m}const b=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const S=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)x=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),w=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${b.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await k.signMessage(new TextEncoder().encode(x),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:j,error:m}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:o5(w)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:en});if(m)throw m;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new _o}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:m})}catch(j){if(Z(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const n=await To(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:en});if(await Eo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new _o}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:en}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new _o}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Pr(this.storage,this.storageKey));const{error:h}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Co("You must provide either an email or phone number.")}catch(l){if(Z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:en});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Pr(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:_5})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new bn;const{error:s}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Co("You must provide either an email or phone number and a type")}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await To(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<tc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bn}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Pn})})}catch(n){if(Z(n))return X_(n)&&(await this._removeSession(),await Eo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new bn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Pr(this.storage,this.storageKey));const{data:u,error:d}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Pn});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=rc(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new bn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!At())throw new Po("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Po(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new lp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Po("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lp("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Po("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const g=f-d;g*1e3<=Mr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:w,error:j}=await this._getUser(i);if(j)throw j;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(Z(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await To(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(J_(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Eo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=l5(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Pr(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return At()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Z(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await h5(async s=>(s>0&&await d5(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:en})),(s,i)=>{const o=200*Math.pow(2,s);return i&&nc(i)&&Date.now()+o-r<Mr})}catch(r){if(this._debug(n,"error",r),Z(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),At()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await To(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<tc;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${tc}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),nc(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new il;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new bn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Z(i)){const o={session:null,error:i};return nc(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Xx(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Eo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&At()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Mr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Mr}ms, refresh threshold is ${Pu} ticks`),s<=Pu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Zx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!At()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Pr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Z(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=rc(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+Q_>Date.now()))return r;const{data:s,error:i}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new oi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new oi("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};r=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=rc(r);if(v5(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const u=w5(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,i5(`${l}.${c}`)))throw new oi("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}}Li.nextInstanceID=0;const D5=Li;class F5 extends D5{constructor(t){super(t)}}var $5=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class B5{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=V_(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:L_,realtime:D_,auth:Object.assign(Object.assign({},O_),{storageKey:u}),global:I_},h=W_(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=U_(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new r_(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new RN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new A_(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return $5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new F5({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new y_(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const U5=(e,t,n)=>new B5(e,t,n),z5="https://ujrsztnluihgqxltcorv.supabase.co",V5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVqcnN6dG5sdWloZ3F4bHRjb3J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAzOTI0NzIsImV4cCI6MjA2NTk2ODQ3Mn0.m02T1I_bWxpAtCNpcD6Bbo-QPs7bBdpxD6-Q6S1hlzc",fe=U5(z5,V5);class W5{async testConnection(){try{const t="https://ujrsztnluihgqxltcorv.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVqcnN6dG5sdWloZ3F4bHRjb3J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAzOTI0NzIsImV4cCI6MjA2NTk2ODQ3Mn0.m02T1I_bWxpAtCNpcD6Bbo-QPs7bBdpxD6-Q6S1hlzc";if(!t||!n||t.includes("your-project")||n.includes("your-anon-key"))return console.warn("⚠️ Supabase credentials not configured. Please update your .env file with actual Supabase credentials."),!1;const{error:r}=await fe.from("user_profiles").select("count").limit(1);return r?(console.error("Supabase connection test failed:",r),!1):(console.log("✅ Supabase connection test successful"),!0)}catch(t){return console.error("Supabase connection test error:",t),!1}}async createUser(t){const n={math_mania:{level:1,high_score:0,accuracy:0,total_problems:0,correct_answers:0,best_time:0,streak_record:0},spelling_bee:{level:1,completed_words:[],streak:0,accuracy:0,words_learned:0,average_time:0},tales:{completed_stories:[],favorite_stories:[],moral_lessons_learned:[],reading_time:0,comprehension_score:0},rhymes:{completed_rhymes:[],accuracy:0,favorite_rhymes:[],creativity_score:0,memorization_level:0},tables:{mastered_tables:[],accuracy:0,best_time:0,speed_improvement:0,difficulty_level:1}},r={show_online_status:!0,allow_friend_requests:!0,show_game_progress:!0,profile_visibility:"public"},s={id:t.id||t.nickname,nickname:t.nickname,favorite_place:t.favorite_place,avatar_color:t.avatar_color,avatar_accessory:t.avatar_accessory,xp:0,level:1,stickers:[],current_streak:0,best_streak:0,friends:[],achievements:[],daily_stats:[],game_progress:n,privacy_settings:r,is_online:!0,last_active:new Date().toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};try{const{data:i,error:o}=await fe.from("user_profiles").insert([s]).select().single();if(o)throw console.error("Supabase create user error:",o),new Error(o.message);return console.log("✅ User created successfully in Supabase:",i.nickname),i}catch(i){throw console.error("Create user error:",i),new Error(i.message||"Failed to create user account")}}async getUserById(t){try{const{data:n,error:r}=await fe.from("user_profiles").select("*").eq("id",t).maybeSingle();return r?(console.error("Supabase getUserById error:",r),null):(n&&await this.updateOnlineStatus(t,!0),n)}catch(n){return console.error("getUserById error:",n),null}}async getUserByUsername(t){try{let{data:n,error:r}=await fe.from("user_profiles").select("*").eq("id",t).maybeSingle();if(!n&&!r){const{data:s,error:i}=await fe.from("user_profiles").select("*").eq("nickname",t).maybeSingle();n=s,r=i}return r?(console.error("Supabase getUserByUsername error:",r),null):(n&&await this.updateOnlineStatus(n.id,!0),n)}catch(n){return console.error("getUserByUsername error:",n),null}}async updateUser(t,n){try{const{error:r}=await fe.from("user_profiles").update({...n,updated_at:new Date().toISOString(),last_active:new Date().toISOString()}).eq("id",t);if(r)throw console.error("Supabase updateUser error:",r),new Error(r.message)}catch(r){throw console.error("updateUser error:",r),new Error(r.message||"Failed to update user")}}async searchUsers(t,n){try{let r=fe.from("user_profiles").select("*").ilike("nickname",`%${t}%`).limit(20);n&&(r=r.neq("id",n));const{data:s,error:i}=await r;return i?(console.error("Supabase searchUsers error:",i),[]):s||[]}catch(r){return console.error("searchUsers error:",r),[]}}async sendFriendRequest(t,n,r){try{const{data:s}=await fe.from("friend_requests").select("*").or(`and(from_user_id.eq.${t},to_user_id.eq.${n}),and(from_user_id.eq.${n},to_user_id.eq.${t})`).eq("status","pending");if(s&&s.length>0)throw new Error("Friend request already exists");const{error:i}=await fe.from("friend_requests").insert([{from_user_id:t,to_user_id:n,status:"pending",message:r}]);if(i)throw console.error("Supabase sendFriendRequest error:",i),new Error(i.message);const o=await this.getUserById(t);o&&await this.createNotification(n,{type:"friend_request",title:"New Friend Request",message:`${o.nickname} wants to be your friend!`,priority:"medium",data:{from_user_id:t}})}catch(s){throw console.error("sendFriendRequest error:",s),s}}async getFriendRequests(t){try{const{data:n,error:r}=await fe.from("friend_requests").select(`
          *,
          from_user:user_profiles!friend_requests_from_user_id_fkey(*)
        `).eq("to_user_id",t).eq("status","pending").order("created_at",{ascending:!1});return r?(console.error("Supabase getFriendRequests error:",r),[]):n||[]}catch(n){return console.error("getFriendRequests error:",n),[]}}async acceptFriendRequest(t){try{const{data:n,error:r}=await fe.from("friend_requests").select("*").eq("id",t).maybeSingle();if(r||!n)throw console.error("Supabase acceptFriendRequest error:",r),new Error("Friend request not found");const{error:s}=await fe.from("friend_requests").update({status:"accepted"}).eq("id",t);if(s)throw console.error("Supabase acceptFriendRequest update error:",s),new Error(s.message);const[i,o]=await Promise.all([this.getUserById(n.from_user_id),this.getUserById(n.to_user_id)]);i&&o&&(await Promise.all([this.updateUser(n.from_user_id,{friends:[...i.friends||[],n.to_user_id]}),this.updateUser(n.to_user_id,{friends:[...o.friends||[],n.from_user_id]})]),await this.createNotification(n.from_user_id,{type:"friend_request",title:"Friend Request Accepted",message:`${o.nickname} accepted your friend request!`,priority:"medium"}))}catch(n){throw console.error("acceptFriendRequest error:",n),n}}async declineFriendRequest(t){try{const{error:n}=await fe.from("friend_requests").update({status:"declined"}).eq("id",t);if(n)throw console.error("Supabase declineFriendRequest error:",n),new Error(n.message)}catch(n){throw console.error("declineFriendRequest error:",n),n}}async getFriends(t){try{const n=await this.getUserById(t);if(!n||!n.friends||n.friends.length===0)return[];const{data:r,error:s}=await fe.from("user_profiles").select("*").in("id",n.friends);return s?(console.error("Supabase getFriends error:",s),[]):r||[]}catch(n){return console.error("getFriends error:",n),[]}}async removeFriend(t,n){try{const[r,s]=await Promise.all([this.getUserById(t),this.getUserById(n)]);r&&s&&await Promise.all([this.updateUser(t,{friends:(r.friends||[]).filter(i=>i!==n)}),this.updateUser(n,{friends:(s.friends||[]).filter(i=>i!==t)})])}catch(r){throw console.error("removeFriend error:",r),r}}async updateOnlineStatus(t,n){try{const{error:r}=await fe.from("user_profiles").update({is_online:n,last_active:new Date().toISOString()}).eq("id",t);r&&console.error("Supabase updateOnlineStatus error:",r)}catch(r){console.error("updateOnlineStatus error:",r)}}async getOnlineUsers(){try{const t="https://ujrsztnluihgqxltcorv.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVqcnN6dG5sdWloZ3F4bHRjb3J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAzOTI0NzIsImV4cCI6MjA2NTk2ODQ3Mn0.m02T1I_bWxpAtCNpcD6Bbo-QPs7bBdpxD6-Q6S1hlzc";if(!t||!n||t.includes("your-project")||n.includes("your-anon-key"))return console.warn("⚠️ Supabase not configured, returning empty online users list"),[];const r=new Date(Date.now()-5*60*1e3).toISOString(),{data:s,error:i}=await fe.from("user_profiles").select("*").gte("last_active",r).order("last_active",{ascending:!1});return i?(console.error("Supabase getOnlineUsers error:",i),[]):s||[]}catch(t){return console.error("getOnlineUsers error:",t),[]}}async createNotification(t,n){try{const{error:r}=await fe.from("notifications").insert([{user_id:t,...n,read:!1}]);r&&console.error("Supabase createNotification error:",r)}catch(r){console.error("createNotification error:",r)}}async getNotifications(t){try{const{data:n,error:r}=await fe.from("notifications").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(50);return r?(console.error("Supabase getNotifications error:",r),[]):n||[]}catch(n){return console.error("getNotifications error:",n),[]}}async markNotificationRead(t){try{const{error:n}=await fe.from("notifications").update({read:!0}).eq("id",t);n&&console.error("Supabase markNotificationRead error:",n)}catch(n){console.error("markNotificationRead error:",n)}}async updateGameProgress(t,n,r){try{const s=await this.getUserById(t);if(!s)return;const i={...s.game_progress,[n]:{...s.game_progress[n],...r}};await this.updateUser(t,{game_progress:i})}catch(s){console.error("updateGameProgress error:",s)}}async recordGameSession(t,n){try{const{error:r}=await fe.from("game_sessions").insert([{user_id:t,...n}]);r&&console.error("Supabase recordGameSession error:",r)}catch(r){console.error("recordGameSession error:",r)}}async getLeaderboard(t,n,r=10){try{let s=fe.from("user_profiles").select("id, nickname, avatar_color, avatar_accessory, level, xp").order("xp",{ascending:!1}).limit(r);const{data:i,error:o}=await s;return o?(console.error("Supabase getLeaderboard error:",o),[]):i||[]}catch(s){return console.error("getLeaderboard error:",s),[]}}async getUserStats(t,n){try{let r=fe.from("game_sessions").select("*").eq("user_id",t);if(n==="daily"){const l=new Date;l.setHours(0,0,0,0),r=r.gte("created_at",l.toISOString())}else if(n==="weekly"){const l=new Date(Date.now()-6048e5);r=r.gte("created_at",l.toISOString())}const{data:s,error:i}=await r;if(i)return console.error("Supabase getUserStats error:",i),{};const o=s||[];return{total_sessions:o.length,total_play_time:o.reduce((l,c)=>l+(c.duration||0),0),average_score:o.reduce((l,c)=>l+(c.score||0),0)/o.length||0,games_played:[...new Set(o.map(l=>l.game_type))]}}catch(r){return console.error("getUserStats error:",r),{}}}async exportUserData(t){try{const[n,r,s]=await Promise.all([this.getUserById(t),fe.from("game_sessions").select("*").eq("user_id",t),fe.from("notifications").select("*").eq("user_id",t)]);return{user:n,game_sessions:r.data||[],notifications:s.data||[],exported_at:new Date().toISOString()}}catch(n){return console.error("exportUserData error:",n),{}}}async blockUser(t){console.log(`Blocking user ${t}`)}}const de=new W5,ev=v.createContext(void 0),H5=({children:e})=>{const[t,n]=v.useState(null),[r,s]=v.useState([]),[i,o]=v.useState([]),[l,c]=v.useState([]),[u,d]=v.useState([]),[h,f]=v.useState([]),[g,x]=v.useState([]),[w,j]=v.useState(!0),[m,p]=v.useState(null),[y,k]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const O=await de.testConnection();k(O),O?console.log("✅ Supabase connected successfully"):console.warn("⚠️ Supabase not available, using localStorage fallback")}catch{console.warn("⚠️ Supabase connection test failed, using localStorage fallback"),k(!1)}})()},[]),v.useEffect(()=>{(async()=>{try{const O=localStorage.getItem("smartplay_current_user");if(O){const D=await de.getUserById(O);D?(n(D),await b(D.id)):localStorage.removeItem("smartplay_current_user")}}catch(O){console.error("Failed to load stored user:",O),localStorage.removeItem("smartplay_current_user")}finally{j(!1)}})()},[]);const b=async N=>{try{const[O,D,Q,re]=await Promise.all([de.getFriends(N),de.getFriendRequests(N),de.getNotifications(N),de.getOnlineUsers()]);s(O),o(O.filter(C=>S(C.last_active))),c(D),x(Q);const ge=re.filter(C=>C.id!==N);d(ge);const U=new Set(O.map(C=>C.id)),ie=ge.filter(C=>!U.has(C.id)).slice(0,5);f(ie)}catch(O){console.error("Failed to load user data:",O),p("Failed to load user data")}},S=N=>{const O=new Date(Date.now()-3e5);return new Date(N)>=O},_=async N=>{try{return p(null),/^[a-zA-Z0-9_]{3,15}$/.test(N)?!await de.getUserByUsername(N):!1}catch(O){return console.error("Error checking username availability:",O),console.warn("Username availability check failed, assuming available"),!0}},P=async(N,O)=>{try{if(j(!0),p(null),!/^[a-zA-Z0-9_]{3,15}$/.test(N))throw new Error("Invalid username format");const Q=await de.getUserByUsername(N);if(!Q)throw new Error("Username not found. Please check your username or sign up.");const re=O.trim().toLowerCase();if((Q.favorite_place||"").trim().toLowerCase()!==re)throw new Error("Incorrect favorite place. Please try again.");n(Q),localStorage.setItem("smartplay_current_user",Q.id),await b(Q.id),console.log("✅ User signed in successfully:",N)}catch(D){throw console.error("Sign in error:",D),p(D.message||"Failed to sign in"),D}finally{j(!1)}},$=async(N,O,D,Q)=>{try{if(j(!0),p(null),!/^[a-zA-Z0-9_]{3,15}$/.test(N))throw new Error("Username must be 3-15 characters and contain only letters, numbers, and underscores");if(!/^[a-zA-Z0-9\s\-',\.]{2,30}$/.test(O.trim()))throw new Error("Favorite place must be 2-30 characters");if(!await _(N))throw new Error("This username is already taken. Please choose another one.");const ie=await de.createUser({id:N,nickname:N,favorite_place:O.trim().toLowerCase(),avatar_color:D,avatar_accessory:Q});n(ie),localStorage.setItem("smartplay_current_user",N),await b(ie.id),console.log("✅ User profile created successfully:",N)}catch(re){throw console.error("Create profile error:",re),p(re.message||"Failed to create profile"),re}finally{j(!1)}},T=async()=>{try{t&&await de.updateOnlineStatus(t.id,!1),localStorage.removeItem("smartplay_current_user"),n(null),s([]),o([]),c([]),x([]),d([]),f([])}catch(N){console.error("Sign out error:",N),p(N.message||"Failed to sign out")}},G=async N=>{if(t)try{await de.updateUser(t.id,N),n({...t,...N})}catch(O){throw console.error("Failed to update profile:",O),p("Failed to update profile"),O}},K=async N=>{try{return await de.searchUsers(N,t==null?void 0:t.id)}catch(O){return console.error("Failed to search users:",O),[]}},oe=async(N,O)=>{if(t)try{await de.sendFriendRequest(t.id,N,O),await b(t.id)}catch(D){throw console.error("Failed to send friend request:",D),p("Failed to send friend request"),D}},W=async N=>{try{await de.acceptFriendRequest(N),t&&await b(t.id)}catch(O){throw console.error("Failed to accept friend request:",O),p("Failed to accept friend request"),O}},se=async N=>{try{await de.declineFriendRequest(N),t&&await b(t.id)}catch(O){throw console.error("Failed to decline friend request:",O),p("Failed to decline friend request"),O}},ue=async N=>{if(t)try{await de.removeFriend(t.id,N),await b(t.id)}catch(O){throw console.error("Failed to remove friend:",O),p("Failed to remove friend"),O}},B=async()=>{if(t)try{const O=(await de.getOnlineUsers()).filter(D=>D.id!==t.id);d(O)}catch(N){console.error("Failed to refresh online players:",N)}},E=async N=>{try{await de.markNotificationRead(N),x(O=>O.map(D=>D.id===N?{...D,read:!0}:D))}catch(O){console.error("Failed to mark notification as read:",O)}},F=async()=>{try{const N=g.filter(O=>!O.read);await Promise.all(N.map(O=>de.markNotificationRead(O.id))),x(O=>O.map(D=>({...D,read:!0})))}catch(N){console.error("Failed to clear notifications:",N)}},A=async(N,O)=>{if(t)try{await de.updateGameProgress(t.id,N,O)}catch(D){throw console.error("Failed to update game progress:",D),p("Failed to update game progress"),D}},z=async N=>{if(t)try{await de.recordGameSession(t.id,N)}catch(O){console.error("Failed to record game session:",O)}},Y=async(N,O)=>{try{return await de.getLeaderboard(N,O)}catch(D){return console.error("Failed to get leaderboard:",D),[]}},M=async N=>{if(!t)return{};try{return await de.getUserStats(t.id,N)}catch(O){return console.error("Failed to get user stats:",O),{}}},q=async()=>{if(!t)return null;try{return await de.exportUserData(t.id)}catch(N){throw console.error("Failed to export user data:",N),p("Failed to export user data"),N}},pe=()=>{p(null)};return v.useEffect(()=>{if(!(!t||!y))try{const N=fe.channel("friend_requests").on("postgres_changes",{event:"*",schema:"public",table:"friend_requests",filter:`to_user_id=eq.${t.id}`},()=>{b(t.id)}).subscribe(),O=fe.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},()=>{b(t.id)}).subscribe();return()=>{N.unsubscribe(),O.unsubscribe()}}catch(N){console.warn("Failed to set up real-time subscriptions:",N)}},[t,y]),v.useEffect(()=>{if(!t)return;const N=()=>{de.updateOnlineStatus(t.id,!0)};N();const O=setInterval(N,2*60*1e3),D=()=>{document.hidden||N()};return document.addEventListener("visibilitychange",D),()=>{clearInterval(O),document.removeEventListener("visibilitychange",D),de.updateOnlineStatus(t.id,!1)}},[t]),a.jsx(ev.Provider,{value:{userProfile:t,createUserProfile:$,signInWithFavoritePlace:P,checkUsernameAvailable:_,signOut:T,updateProfile:G,searchUsers:K,friends:r,onlineFriends:i,friendRequests:l,sendFriendRequest:oe,acceptFriendRequest:W,declineFriendRequest:se,removeFriend:ue,onlinePlayers:u,suggestedFriends:h,refreshOnlinePlayers:B,notifications:g,markNotificationRead:E,clearAllNotifications:F,updateGameProgress:A,recordGameSession:z,getLeaderboard:Y,getUserStats:M,exportUserData:q,isLoading:w,error:m,clearError:pe,isConnected:y},children:e})},ph=()=>{const e=v.useContext(ev);if(e===void 0)throw new Error("useSupabase must be used within a SupabaseProvider");return e},q5=()=>{const e=vt(),{createUserProfile:t,checkUsernameAvailable:n,signInWithFavoritePlace:r,isLoading:s,error:i,clearError:o,isConnected:l}=ph(),[c,u]=v.useState("login"),[d,h]=v.useState(""),[f,g]=v.useState(""),[x,w]=v.useState("blue"),[j,m]=v.useState("none"),[p,y]=v.useState(1),[k,b]=v.useState(""),[S,_]=v.useState(!1),P=["blue","green","yellow","purple","red","orange"],$=["none","glasses","bowtie","hat","flower","crown"],T=E=>/^[a-zA-Z0-9_]{3,15}$/.test(E),G=E=>/^[a-zA-Z0-9\s\-',\.]{2,30}$/.test(E.trim()),K=async E=>{if(E.preventDefault(),o(),b(""),!T(d)){b("Username must be 3-15 characters and contain only letters, numbers, and underscores");return}if(!G(f)){b("Favorite place must be 2-30 characters");return}try{await r(d,f),e("/lobby")}catch(F){b(F.message||"Login failed")}},oe=async E=>{if(E.preventDefault(),o(),b(""),!T(d)){b("Username must be 3-15 characters and contain only letters, numbers, and underscores");return}if(!G(f)){b("Favorite place must be 2-30 characters");return}_(!0);try{if(!await n(d)){b("This username is already taken. Please choose another one.");return}y(2)}catch(F){console.error("Username check error:",F),l?b("Error checking username availability. Please try again."):(b("Unable to verify username availability (offline mode). You can continue, but the username might be taken."),setTimeout(()=>{y(2)},2e3))}finally{_(!1)}},W=async()=>{try{await t(d,f,x,j),e("/lobby")}catch{}},se=()=>{y(1),o(),b("")},ue=()=>{e("/")},B=E=>({blue:"#38bdf8",green:"#4ade80",yellow:"#facc15",purple:"#a78bfa",red:"#f87171",orange:"#fb923c"})[E];return a.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-purple-100 via-pink-50 to-blue-100",children:[a.jsx("header",{className:"py-6 px-4 md:px-8",children:a.jsx("div",{className:"container mx-auto",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:ue,className:"flex items-center hover:opacity-80 transition-opacity cursor-pointer",children:[a.jsx(gt,{className:"h-8 w-8 text-primary-600 mr-2"}),a.jsx("span",{className:"text-2xl font-bold text-primary-600",children:"SmartPlay"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:l?a.jsxs("div",{className:"flex items-center text-green-600",children:[a.jsx(Tx,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:"Online"})]}):a.jsxs("div",{className:"flex items-center text-orange-600",children:[a.jsx(bu,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:"Offline Mode"})]})})]})})}),a.jsx("main",{className:"flex-grow flex items-center justify-center px-4 py-10",children:a.jsx(R.div,{className:"w-full max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 p-6 text-white",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold",children:c==="login"?"Welcome Back!":p===1?"Create Your Account":"Create Your Avatar"}),a.jsxs("div",{className:"flex bg-white/20 rounded-full p-1",children:[a.jsxs("button",{onClick:()=>{u("login"),y(1),o(),b("")},className:`px-3 py-1 rounded-full text-sm font-medium transition-all ${c==="login"?"bg-white text-primary-600":"text-white hover:bg-white/20"}`,children:[a.jsx(cN,{className:"h-4 w-4 inline mr-1"}),"Login"]}),a.jsxs("button",{onClick:()=>{u("signup"),y(1),o(),b("")},className:`px-3 py-1 rounded-full text-sm font-medium transition-all ${c==="signup"?"bg-white text-primary-600":"text-white hover:bg-white/20"}`,children:[a.jsx(Px,{className:"h-4 w-4 inline mr-1"}),"Sign Up"]})]})]}),a.jsx("p",{className:"text-primary-100",children:c==="login"?"Enter your username and favorite place to continue":p===1?"Choose a username and tell us your favorite place!":"Make your avatar look awesome!"})]}),a.jsxs("div",{className:"p-8",children:[!l&&a.jsx(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-orange-50 border border-orange-200 rounded-2xl p-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(bu,{className:"h-6 w-6 text-orange-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-orange-800",children:"Offline Mode"}),a.jsx("p",{className:"text-orange-700 text-sm",children:"Your data will be saved locally. Connect to Supabase later to sync with friends."})]})]})}),a.jsx(Tt,{mode:"wait",children:c==="login"||c==="signup"&&p===1?a.jsxs(R.form,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},onSubmit:c==="login"?K:oe,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username",children:"Your Username"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"username",type:"text",className:`input w-full pl-12 ${k?"border-red-400":""}`,placeholder:"Enter your username",value:d,onChange:E=>{h(E.target.value.toLowerCase()),b(""),o()},required:!0,maxLength:15,minLength:3,disabled:S}),a.jsx(an,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),S&&a.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-600"})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"3-15 characters, letters, numbers, and underscores only"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"favoritePlace",children:"Your Favorite Place"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"favoritePlace",type:"text",className:`input w-full pl-12 ${k?"border-red-400":""}`,placeholder:"e.g., Home, Beach, Library...",value:f,onChange:E=>{g(E.target.value.trim()),b(""),o()},required:!0,maxLength:30,minLength:2,disabled:S}),a.jsx(dN,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:c==="login"?"This is your password - enter the same place you used when signing up":"This will be your password - remember it to log in later!"})]}),(k||i)&&a.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`border rounded-xl p-4 flex items-start ${k.includes("offline mode")?"bg-orange-50 border-orange-200":"bg-red-50 border-red-200"}`,children:[a.jsx(ri,{className:`h-5 w-5 mr-2 mt-0.5 ${k.includes("offline mode")?"text-orange-500":"text-red-500"}`}),a.jsx("p",{className:`text-sm ${k.includes("offline mode")?"text-orange-700":"text-red-700"}`,children:k||i})]}),a.jsx(X,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,disabled:s||S||!d.trim()||!f.trim(),children:S?"Checking...":s?"Loading...":c==="login"?"Login":"Continue"}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[a.jsx("h3",{className:"font-bold text-blue-800 mb-2",children:c==="login"?"Forgot your favorite place?":"Why do we ask for your favorite place?"}),a.jsx("ul",{className:"text-blue-700 text-sm space-y-1",children:c==="login"?a.jsxs(a.Fragment,{children:[a.jsx("li",{children:'• Try common places like "Home", "School", or "Park"'}),a.jsx("li",{children:`• It's not case-sensitive, so "home" and "Home" work the same`}),a.jsx("li",{children:"• Make sure there are no extra spaces"}),a.jsx("li",{children:"• Contact support if you're still stuck"})]}):a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"• It's your password - simple and memorable!"}),a.jsx("li",{children:"• No personal information needed"}),a.jsx("li",{children:"• You can change it later in your profile"}),a.jsx("li",{children:"• Keep it secret so only you can log in!"}),a.jsx("li",{children:`• Case doesn't matter - "Home" and "home" are the same`})]})})]})]},"auth-form"):a.jsxs(R.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("div",{className:"text-center mb-6",children:a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 mb-4 flex items-center justify-center",children:[a.jsx(ri,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsxs("p",{className:"text-green-700 font-medium",children:['Username "',d,'" is ',l?"available":"ready","!"]})]})}),a.jsx("div",{className:"flex justify-center mb-8",children:a.jsx(gn,{color:x,accessory:j,size:"xl",animated:!0})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-gray-700 text-sm font-bold mb-3",children:"Choose a Color"}),a.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:P.map(E=>a.jsx("button",{className:`w-10 h-10 rounded-full transition-all ${x===E?"ring-4 ring-primary-400 transform scale-110":"hover:scale-105"}`,style:{backgroundColor:B(E)},onClick:()=>w(E),"aria-label":`Select ${E} color`},E))})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-gray-700 text-sm font-bold mb-3",children:"Choose an Accessory"}),a.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:$.map(E=>a.jsx("button",{className:`w-16 h-16 rounded-lg bg-gray-100 flex items-center justify-center transition-all ${j===E?"ring-4 ring-primary-400 bg-primary-50":"hover:bg-gray-200"}`,onClick:()=>m(E),"aria-label":`Select ${E} accessory`,children:a.jsx(gn,{color:"blue",accessory:E,size:"sm"})},E))})]}),i&&a.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6 flex items-start",children:[a.jsx(ri,{className:"h-5 w-5 text-red-500 mr-2 mt-0.5"}),a.jsx("p",{className:"text-red-700 text-sm",children:i})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(X,{variant:"secondary",onClick:se,fullWidth:!0,children:"Back"}),a.jsx(X,{variant:"primary",onClick:W,disabled:s,fullWidth:!0,children:s?"Creating Account...":"Join SmartPlay!"})]})]},"avatar-form")})]})]})})})]})},Ar=({title:e,description:t,icon:n,onClick:r})=>a.jsxs(R.div,{className:"bg-white rounded-2xl shadow-lg overflow-hidden cursor-pointer",whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},onClick:r,children:[a.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 p-4 flex justify-center",children:a.jsx("div",{className:"text-white text-4xl",children:n})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e}),a.jsx("p",{className:"text-gray-600",children:t})]})]}),tv=v.createContext(void 0),G5=({children:e})=>{const{userProfile:t,updateProfile:n,signOut:r}=ph(),[s,i]=v.useState(null),[o,l]=v.useState(!1);v.useEffect(()=>{if(t){const m={id:t.id,nickname:t.nickname,avatarColor:t.avatar_color,avatarAccessory:t.avatar_accessory,xp:t.xp,level:t.level,stickers:t.stickers,createdAt:new Date(t.created_at).getTime(),dailyStats:t.daily_stats,currentStreak:t.current_streak,bestStreak:t.best_streak,friends:t.friends,achievements:t.achievements};i(m),l(!0)}else i(null),l(!1)},[t]);const c=()=>150,u=m=>Math.floor(m/150)+1,d=()=>new Date().toISOString().split("T")[0],h=()=>{if(!s)return{date:d(),totalSolved:0,correctAnswers:0,xpEarned:0};const m=d();return s.dailyStats.find(y=>y.date===m)||{date:m,totalSolved:0,correctAnswers:0,xpEarned:0}},f=async m=>{if(s)try{const p={};m.nickname&&(p.nickname=m.nickname),m.avatarColor&&(p.avatar_color=m.avatarColor),m.avatarAccessory&&(p.avatar_accessory=m.avatarAccessory),m.xp!==void 0&&(p.xp=m.xp),m.level!==void 0&&(p.level=m.level),m.stickers&&(p.stickers=m.stickers),m.dailyStats&&(p.daily_stats=m.dailyStats),m.currentStreak!==void 0&&(p.current_streak=m.currentStreak),m.bestStreak!==void 0&&(p.best_streak=m.bestStreak),m.friends&&(p.friends=m.friends),m.achievements&&(p.achievements=m.achievements),await n(p)}catch(p){console.error("Failed to update user:",p)}},g=async m=>{if(!s)return;const p=s.xp+m,y=u(p);await f({xp:p,level:y})},x=async(m,p)=>{if(!s)return;const y=d(),k=[...s.dailyStats];let b=k.findIndex(T=>T.date===y);b===-1?k.push({date:y,totalSolved:1,correctAnswers:m?1:0,xpEarned:p}):k[b]={...k[b],totalSolved:k[b].totalSolved+1,correctAnswers:k[b].correctAnswers+(m?1:0),xpEarned:k[b].xpEarned+p};let S=s.currentStreak,_=s.bestStreak;m?(S++,S>_&&(_=S)):S=0;const P=s.xp+p,$=u(P);await f({xp:P,level:$,dailyStats:k,currentStreak:S,bestStreak:_})},w=async m=>{s&&(s.stickers.includes(m)||await f({stickers:[...s.stickers,m]}))},j=async()=>{try{await r()}catch(m){console.error("Logout error:",m)}};return a.jsx(tv.Provider,{value:{user:s,updateUser:f,addXP:g,addSticker:w,recordAnswer:x,getTodayStats:h,getXPRequiredForNextLevel:c,isProfileComplete:o,logout:j},children:e})},Ve=()=>{const e=v.useContext(tv);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e};let Ao;const K5=new Uint8Array(16);function Q5(){if(!Ao&&(Ao=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ao))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ao(K5)}const Fe=[];for(let e=0;e<256;++e)Fe.push((e+256).toString(16).slice(1));function Y5(e,t=0){return Fe[e[t+0]]+Fe[e[t+1]]+Fe[e[t+2]]+Fe[e[t+3]]+"-"+Fe[e[t+4]]+Fe[e[t+5]]+"-"+Fe[e[t+6]]+Fe[e[t+7]]+"-"+Fe[e[t+8]]+Fe[e[t+9]]+"-"+Fe[e[t+10]]+Fe[e[t+11]]+Fe[e[t+12]]+Fe[e[t+13]]+Fe[e[t+14]]+Fe[e[t+15]]}const J5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),yp={randomUUID:J5};function X5(e,t,n){if(yp.randomUUID&&!t&&!e)return yp.randomUUID();e=e||{};const r=e.random||(e.rng||Q5)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Y5(r)}const Z5=()=>{let e={},t=null;return{emit:(n,r)=>{console.log(`[MOCK SOCKET] Emitting ${n}`,r),setTimeout(()=>{if(n==="create-room"){const s=r.roomId||X5().substring(0,6).toUpperCase();t={id:s,host:r.user,players:[r.user],status:"chatting",type:"study",maxPlayers:6},e["room-created"]&&e["room-created"].forEach(i=>i({roomId:s,room:t}))}if(n==="join-room"){if(!t)t={id:r.roomId,host:null,players:[r.user],status:"chatting",type:"study",maxPlayers:6};else{if(t.players.length>=6){e["room-full"]&&e["room-full"].forEach(i=>i({error:"Study room is full. Maximum 6 friends allowed."}));return}t.players.some(i=>i.id===r.user.id)||t.players.push(r.user)}e["room-joined"]&&e["room-joined"].forEach(s=>s({room:t})),e["player-joined"]&&e["player-joined"].forEach(s=>s({player:r.user,room:t}))}n==="send-message"&&e["new-message"]&&e["new-message"].forEach(s=>s({sender:r.user,message:r.message,type:r.type||"text",timestamp:Date.now(),recipientId:r.recipientId,isPrivate:!!r.recipientId})),n==="leave-room"&&t&&(t.players=t.players.filter(s=>s.id!==r.user.id),t.host&&t.host.id===r.user.id&&t.players.length>0&&(t.host=t.players[0]),t.players.length===0&&(t=null),e["player-left"]&&e["player-left"].forEach(s=>s({player:r.user,room:t})))},300)},on:(n,r)=>{e[n]||(e[n]=[]),e[n].push(r)},off:(n,r)=>{e[n]&&(e[n]=e[n].filter(s=>s!==r))},disconnect:()=>{e={},console.log("[MOCK SOCKET] Disconnected")}}},nv=v.createContext(void 0),eC=({children:e})=>{var w;const{user:t}=Ve(),[n,r]=v.useState(null),[s,i]=v.useState(null),[o,l]=v.useState([]),[c,u]=v.useState(!1);v.useEffect(()=>{const j=Z5();return r(j),u(!0),()=>{j.disconnect(),u(!1)}},[]),v.useEffect(()=>{if(!n)return;const j=S=>{i(S.room),l([])},m=S=>{i(S.room),l([])},p=S=>{alert(S.error)},y=S=>{i(S.room),l(_=>[..._,{sender:{id:"system",nickname:"Study Bot",avatarColor:"blue",avatarAccessory:"none"},message:`📚 ${S.player.nickname} joined the study room! Welcome to our learning space!`,type:"system",timestamp:Date.now()}])},k=S=>{i(S.room),l(_=>[..._,{sender:{id:"system",nickname:"Study Bot",avatarColor:"blue",avatarAccessory:"none"},message:`👋 ${S.player.nickname} left the study room. Keep up the great work everyone!`,type:"system",timestamp:Date.now()}])},b=S=>{S.isPrivate||l(_=>[..._,S])};return n.on("room-created",j),n.on("room-joined",m),n.on("room-full",p),n.on("player-joined",y),n.on("player-left",k),n.on("new-message",b),()=>{n.off("room-created",j),n.off("room-joined",m),n.off("room-full",p),n.off("player-joined",y),n.off("player-left",k),n.off("new-message",b)}},[n,s]);const d=t&&((w=s==null?void 0:s.host)==null?void 0:w.id)===t.id,h=()=>{if(!n)return;const j=t?{id:t.id,nickname:t.nickname,avatarColor:t.avatarColor,avatarAccessory:t.avatarAccessory}:{id:"guest-"+Math.random().toString(36).substring(2,9),nickname:"Guest Student",avatarColor:"blue",avatarAccessory:"none"},m=Math.random().toString(36).substring(2,8).toUpperCase();n.emit("create-room",{roomId:m,user:j})},f=j=>{if(!n)return;const m=t?{id:t.id,nickname:t.nickname,avatarColor:t.avatarColor,avatarAccessory:t.avatarAccessory}:{id:"guest-"+Math.random().toString(36).substring(2,9),nickname:"Guest Student",avatarColor:"blue",avatarAccessory:"none"};n.emit("join-room",{roomId:j,user:m})},g=()=>{if(!n||!s)return;const j=t?{id:t.id,nickname:t.nickname,avatarColor:t.avatarColor,avatarAccessory:t.avatarAccessory}:{id:"guest",nickname:"Guest Student",avatarColor:"blue",avatarAccessory:"none"};n.emit("leave-room",{roomId:s.id,user:j}),i(null),l([])},x=(j,m="text",p)=>{if(!n||!s)return;const y=t?{id:t.id,nickname:t.nickname,avatarColor:t.avatarColor,avatarAccessory:t.avatarAccessory}:{id:"guest",nickname:"Guest Student",avatarColor:"blue",avatarAccessory:"none"};n.emit("send-message",{roomId:s.id,user:y,message:j,type:m,recipientId:p})};return a.jsx(nv.Provider,{value:{socket:n,currentRoom:s,messages:o,isConnected:c,isHost:d,createRoom:h,joinRoom:f,leaveRoom:g,sendMessage:x},children:e})},rv=()=>{const e=v.useContext(nv);if(e===void 0)throw new Error("useGame must be used within a GameProvider");return e},tC=()=>{const e=vt(),{user:t,logout:n,isProfileComplete:r,getXPRequiredForNextLevel:s}=Ve(),{createRoom:i,joinRoom:o,currentRoom:l}=rv(),{friends:c,onlineFriends:u,friendRequests:d,notifications:h,refreshOnlinePlayers:f,isConnected:g}=ph(),[x,w]=v.useState(""),[j,m]=v.useState("");v.useEffect(()=>{r||e("/auth")},[r,e]),v.useEffect(()=>{l&&e(`/chat-room/${l.id}`)},[l,e]),v.useEffect(()=>{f()},[f]);const p=()=>{i()},y=()=>{if(!x.trim()){m("Please enter a room code");return}o(x.toUpperCase()),w("")},k=T=>{T==="math-mania"?e("/math-mania"):T==="spelling-bee"?e("/spelling-bee"):T==="tales"?e("/tales"):T==="rhymes"?e("/rhymes"):T==="tables"?e("/tables"):T==="team-drawing"&&e("/team-drawing")},b=()=>{n(),e("/")};if(!t)return null;const _=t?t.xp%150:0,P=s(),$=h.filter(T=>!T.read).length;return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx("header",{className:"py-6 px-4 md:px-8 bg-white shadow-sm",children:a.jsx("div",{className:"container mx-auto",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(gt,{className:"h-8 w-8 text-primary-600 mr-2"}),a.jsx("span",{className:"text-2xl font-bold text-primary-600",children:"SmartPlay"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"flex items-center space-x-2",children:g?a.jsxs("div",{className:"flex items-center text-green-600",children:[a.jsx(Tx,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:"Connected"})]}):a.jsxs("div",{className:"flex items-center text-orange-600",children:[a.jsx(bu,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:"Local Mode"})]})}),a.jsx("div",{className:"relative",children:a.jsxs("button",{onClick:()=>{},className:"p-2 rounded-full hover:bg-gray-100 transition-colors relative",children:[a.jsx(ZS,{className:"h-6 w-6 text-gray-600"}),$>0&&a.jsx(R.div,{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:400},children:$>9?"9+":$})]})}),a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"mr-3 text-right hidden md:block",children:[a.jsx("p",{className:"font-bold text-gray-800",children:t.nickname}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Level ",t.level]})]}),a.jsx(gn,{color:t.avatarColor,accessory:t.avatarAccessory,size:"md"})]}),a.jsx(X,{variant:"secondary",size:"sm",onClick:b,icon:a.jsx(uN,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden md:inline",children:"Logout"})})]})]})})}),a.jsx("main",{className:"flex-grow py-10 px-4",children:a.jsx("div",{className:"container mx-auto",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2",children:[!g&&a.jsx(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-orange-50 border border-orange-200 rounded-2xl p-4 mb-8",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(rN,{className:"h-6 w-6 text-orange-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-orange-800",children:"Local Mode"}),a.jsx("p",{className:"text-orange-700 text-sm",children:"Your progress is saved locally. Connect to Supabase to sync with friends and enable social features."})]})]})})}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl p-6 text-white mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Your Social Network"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold",children:c.length}),a.jsx("div",{className:"text-purple-100",children:"Total Friends"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-green-300",children:u.length}),a.jsx("div",{className:"text-purple-100",children:"Online Now"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-yellow-300",children:d.length}),a.jsx("div",{className:"text-purple-100",children:"Pending Requests"})]})]}),d.length>0&&a.jsx("div",{className:"mt-4 p-3 bg-white/20 rounded-xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"You have pending friend requests!"}),a.jsx(X,{variant:"secondary",size:"sm",icon:a.jsx(Px,{className:"h-4 w-4"}),className:"bg-white/20 hover:bg-white/30",children:"View"})]})})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Study Rooms with Friends"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Sx,{className:"h-8 w-8 text-blue-500 mr-3"}),a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Create Study Room"})]}),a.jsx("p",{className:"mb-6 text-gray-600",children:"Start a study room where you and your friends can chat, discuss homework, and help each other learn."}),a.jsx("div",{className:"bg-blue-50 rounded-lg p-3 mb-4",children:a.jsxs("div",{className:"text-sm text-blue-700",children:[a.jsx("div",{className:"font-semibold mb-1",children:"Perfect for:"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{children:"• Homework help and discussions"}),a.jsx("div",{children:"• Sharing study tips and strategies"}),a.jsx("div",{children:"• Group problem solving"}),a.jsx("div",{children:"• Encouraging each other"})]})]})}),a.jsx(X,{variant:"primary",fullWidth:!0,icon:a.jsx(mN,{className:"h-5 w-5"}),onClick:p,children:"Create Study Room"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(js,{className:"h-8 w-8 text-green-500 mr-3"}),a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Join Friends"})]}),a.jsx("p",{className:"mb-4 text-gray-600",children:"Enter a room code to join your friends' study session."}),a.jsxs("div",{className:"mb-4",children:[a.jsx("input",{type:"text",className:"input w-full uppercase",placeholder:"Enter room code",value:x,onChange:T=>{w(T.target.value),m("")},maxLength:6}),j&&a.jsx("p",{className:"text-error-600 text-sm mt-1",children:j})]}),a.jsx(X,{variant:"accent",fullWidth:!0,onClick:y,children:"Join Study Room"})]})]})]}),a.jsxs("section",{children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Learning Games"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Practice and improve your skills with solo games"})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsx(Ar,{title:"Math Mania",description:"Solve math puzzles and build your calculation skills",icon:a.jsx(Xa,{className:"h-10 w-10"}),onClick:()=>k("math-mania")}),a.jsx(Ar,{title:"Spelling Bee",description:"Master spelling with word challenges and hints",icon:a.jsx(Nx,{className:"h-10 w-10"}),onClick:()=>k("spelling-bee")}),a.jsx(Ar,{title:"Tales",description:"Learn moral lessons through interactive stories",icon:a.jsx(wx,{className:"h-10 w-10"}),onClick:()=>k("tales")}),a.jsx(Ar,{title:"Rhymes",description:"Fill in the blanks in classic nursery rhymes",icon:a.jsx(_a,{className:"h-10 w-10"}),onClick:()=>k("rhymes")}),a.jsx(Ar,{title:"Tables",description:"Master multiplication tables with fun quizzes",icon:a.jsx(jx,{className:"h-10 w-10"}),onClick:()=>k("tables")}),a.jsx(Ar,{title:"Team Drawing",description:"Draw freely or color beautiful diagrams",icon:a.jsx(lh,{className:"h-10 w-10"}),onClick:()=>k("team-drawing")})]})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx("section",{children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 p-6 text-white",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(an,{className:"h-6 w-6 mr-2"}),a.jsx("h2",{className:"text-xl font-bold",children:"Your Profile"})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col items-center mb-6",children:[a.jsx(gn,{color:t.avatarColor,accessory:t.avatarAccessory,size:"lg",animated:!0}),a.jsx("h3",{className:"text-2xl font-bold mt-4 text-gray-800",children:t.nickname})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsxs("span",{className:"text-gray-600",children:["Level ",t.level]}),a.jsxs("span",{className:"text-gray-600",children:[_,"/",P," XP"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full transition-all duration-500",style:{width:`${Math.min(_/P*100,100)}%`}})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-700 mb-3",children:"Sticker Collection"}),t.stickers.length>0?a.jsx("div",{className:"grid grid-cols-3 gap-2",children:t.stickers.map((T,G)=>a.jsx("div",{className:"bg-primary-50 rounded-lg p-2 flex items-center justify-center",children:a.jsx("span",{role:"img","aria-label":T,className:"text-2xl",children:nC(T)})},G))}):a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 text-center text-gray-500",children:a.jsx("p",{children:"Play games to earn stickers!"})})]})]})]})})})]})})}),a.jsx("footer",{className:"py-6 bg-primary-50",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("p",{className:"text-center text-gray-600",children:["© ",new Date().getFullYear()," SmartPlay - Learning is better together"]})})})]})},nC=e=>({"math-wizard":"🧙‍♂️","spelling-champ":"🏆","art-master":"🎨","team-player":"🤝","super-brain":"🧠","first-win":"🥇","story-1":"🐢","story-2":"🐺","story-3":"🐜","story-4":"🪿","story-5":"🦁","rhyme-1":"⭐","rhyme-2":"🌸","rhyme-3":"🥚","rhyme-4":"🐑","rhyme-5":"👦","rhyme-6":"🚣"})[e]||"⭐",rC=({message:e,senderName:t,senderAvatarColor:n,senderAvatarAccessory:r,isCurrentUser:s,timestamp:i,messageType:o="text",showTimestamp:l=!0,showAvatar:c=!0,compactMode:u=!1,messageSize:d="medium"})=>{const h=m=>new Date(m).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),g=typeof e=="string"&&(m=>typeof m!="string"?!1:/^[\u{1F600}-\u{1F64F}\u{1F300}-\u{1F5FF}\u{1F680}-\u{1F6FF}\u{1F1E0}-\u{1F1FF}\u{2600}-\u{26FF}\u{2700}-\u{27BF}]+$/u.test(m.replace(/\s/g,"")))(e)||o==="emoji"||o==="sticker",x=()=>{if(g)switch(d){case"small":return"text-3xl";case"large":return"text-6xl";default:return"text-4xl"}switch(d){case"small":return"text-xs";case"large":return"text-lg";default:return"text-sm md:text-base"}},w=()=>u?"mb-1":"mb-4",j=()=>o==="achievement"?"bg-gradient-to-r from-yellow-400 to-orange-400 text-white border-2 border-yellow-500":o==="system"?"bg-gradient-to-r from-blue-400 to-purple-400 text-white border-2 border-blue-500":g?"bg-transparent shadow-none border-none":s?"bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-tr-none shadow-lg":"bg-white text-gray-800 rounded-tl-none border-2 border-gray-100 shadow-md";return a.jsxs(R.div,{className:`flex items-start ${w()} ${s?"flex-row-reverse":"flex-row"}`,initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{duration:.3,type:"spring",stiffness:200},children:[c&&!g&&a.jsx(R.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:400},children:a.jsx(gn,{color:n,accessory:r,size:"sm",animated:!0})}),a.jsx("div",{className:`${c&&!g?"mx-3":""} max-w-[70%] ${s?"items-end":"items-start"}`,children:a.jsxs("div",{className:"flex flex-col",children:[!u&&!g&&a.jsx(R.span,{className:`text-xs font-bold mb-1 ${s?"text-purple-600":"text-secondary-600"}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:s?"You":t}),a.jsxs(R.div,{className:`rounded-3xl py-3 px-4 break-words ${j()} ${g?"text-center p-2":""} ${u?"py-2 px-3":""}`,whileHover:{scale:g?1.1:1.02},transition:{type:"spring",stiffness:300},children:[o==="achievement"&&a.jsx("div",{className:"flex items-center justify-center mb-2",children:a.jsx("span",{className:"text-2xl",children:"🏆"})}),o==="system"&&a.jsx("div",{className:"flex items-center justify-center mb-2",children:a.jsx("span",{className:"text-2xl",children:"🔔"})}),a.jsx("p",{className:`${x()} ${o==="sticker"?"text-center":""}`,children:e}),o==="achievement"&&a.jsx("div",{className:"text-xs mt-1 opacity-90",children:"Achievement Unlocked!"})]}),l&&!u&&!g&&a.jsx(R.span,{className:"text-xs text-gray-500 mt-1",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:h(i)})]})})]})},xp=[{text:"Great job! 👏",icon:"👏",category:"praise"},{text:"You're awesome! ⭐",icon:"⭐",category:"praise"},{text:"Let's do this! 💪",icon:"💪",category:"motivation"},{text:"I need help! 🙋",icon:"🙋",category:"help"},{text:"That was fun! 😄",icon:"😄",category:"fun"},{text:"Good luck! 🍀",icon:"🍀",category:"support"},{text:"Amazing work! 🎉",icon:"🎉",category:"praise"},{text:"Keep going! 🚀",icon:"🚀",category:"motivation"},{text:"Well done! 👍",icon:"👍",category:"praise"},{text:"You got this! 💯",icon:"💯",category:"motivation"},{text:"Thanks! 🙏",icon:"🙏",category:"gratitude"},{text:"Sorry! 😅",icon:"😅",category:"apology"},{text:"Wait for me! ⏰",icon:"⏰",category:"help"},{text:"Let's team up! 🤝",icon:"🤝",category:"teamwork"},{text:"I'm ready! ✅",icon:"✅",category:"status"},{text:"Almost there! 🎯",icon:"🎯",category:"progress"}],sC=["😊","😄","🤗","😍","🤩","😎","🥳","😇","👍","👏","🙌","💪","✨","⭐","🎉","🎊","❤️","💖","💝","🌟","🔥","💯","🚀","🎯","🏆","🥇","🎖️","🏅","👑","💎","🌈","☀️","🎮","🎲","🎪","🎭","🎨","🎵","🎶","🎸"],iC=[{emoji:"🐱",name:"Cat"},{emoji:"🐶",name:"Dog"},{emoji:"🐻",name:"Bear"},{emoji:"🦄",name:"Unicorn"},{emoji:"🐸",name:"Frog"},{emoji:"🐧",name:"Penguin"},{emoji:"🦋",name:"Butterfly"},{emoji:"🐝",name:"Bee"},{emoji:"🎈",name:"Balloon"},{emoji:"🎁",name:"Gift"},{emoji:"🍭",name:"Lollipop"},{emoji:"🧁",name:"Cupcake"},{emoji:"🍪",name:"Cookie"},{emoji:"🎂",name:"Cake"},{emoji:"🌺",name:"Flower"},{emoji:"🌸",name:"Blossom"},{emoji:"⚽",name:"Soccer"},{emoji:"🏀",name:"Basketball"},{emoji:"🎯",name:"Target"},{emoji:"🎪",name:"Circus"},{emoji:"🎨",name:"Art"},{emoji:"📚",name:"Books"},{emoji:"🎵",name:"Music"},{emoji:"🌟",name:"Star"}],oC=({onSendMessage:e})=>{const[t,n]=v.useState("messages"),[r,s]=v.useState("all"),i=[{id:"all",name:"All",icon:"📝"},{id:"praise",name:"Praise",icon:"👏"},{id:"motivation",name:"Motivation",icon:"💪"},{id:"help",name:"Help",icon:"🙋"},{id:"fun",name:"Fun",icon:"😄"},{id:"teamwork",name:"Team",icon:"🤝"}],o=()=>r==="all"?xp:xp.filter(l=>l.category===r);return a.jsxs("div",{className:"w-full bg-gradient-to-r from-purple-50 to-pink-50 rounded-t-3xl border-t-4 border-purple-200",children:[a.jsx("div",{className:"flex justify-center p-4 pb-2",children:a.jsx("div",{className:"bg-white rounded-full p-1 shadow-md",children:a.jsx("div",{className:"flex space-x-1",children:[{id:"messages",icon:a.jsx(Ii,{className:"h-4 w-4"}),label:"Quick",color:"purple"},{id:"emojis",icon:a.jsx(vu,{className:"h-4 w-4"}),label:"Emojis",color:"blue"},{id:"stickers",icon:a.jsx(ep,{className:"h-4 w-4"}),label:"Stickers",color:"pink"}].map(l=>a.jsxs(R.button,{className:`flex items-center space-x-1 px-4 py-2 rounded-full text-sm font-medium transition-all ${t===l.id?`bg-${l.color}-500 text-white shadow-md`:`text-${l.color}-600 hover:bg-${l.color}-100`}`,onClick:()=>n(l.id),whileHover:{scale:1.05},whileTap:{scale:.95},children:[l.icon,a.jsx("span",{className:"hidden sm:inline",children:l.label})]},l.id))})})}),a.jsx(Tt,{mode:"wait",children:a.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"px-4 pb-4",children:[t==="messages"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h3",{className:"text-lg font-bold text-purple-700 flex items-center",children:[a.jsx(Ii,{className:"h-5 w-5 mr-2"}),"Quick Messages"]}),a.jsx("div",{className:"flex space-x-1 bg-white rounded-full p-1 shadow-sm",children:i.map(l=>a.jsxs("button",{className:`px-2 py-1 rounded-full text-xs font-medium transition-all ${r===l.id?"bg-purple-500 text-white":"text-purple-600 hover:bg-purple-100"}`,onClick:()=>s(l.id),children:[a.jsx("span",{className:"mr-1",children:l.icon}),a.jsx("span",{className:"hidden sm:inline",children:l.name})]},l.id))})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:o().map((l,c)=>a.jsxs(R.button,{className:"bg-white rounded-2xl py-3 px-4 text-sm font-medium shadow-sm hover:shadow-md transition-all text-purple-700 border-2 border-purple-100 hover:border-purple-300 flex items-center justify-center space-x-2",onClick:()=>e(l.text),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:c*.05},children:[a.jsx("span",{className:"text-lg",children:l.icon}),a.jsx("span",{children:l.text.replace(/[^\w\s!?]/g,"").trim()})]},c))})]}),t==="emojis"&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold mb-3 text-blue-700 flex items-center",children:[a.jsx(vu,{className:"h-5 w-5 mr-2"}),"Express Yourself"]}),a.jsx("div",{className:"grid grid-cols-8 gap-2 max-h-32 overflow-y-auto",children:sC.map((l,c)=>a.jsx(R.button,{className:"bg-white rounded-xl w-12 h-12 flex items-center justify-center text-2xl shadow-sm hover:shadow-md transition-all border-2 border-blue-100 hover:border-blue-300",onClick:()=>e(l,"emoji"),whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:c*.02},children:l},c))})]}),t==="stickers"&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold mb-3 text-pink-700 flex items-center",children:[a.jsx(ep,{className:"h-5 w-5 mr-2"}),"Fun Stickers"]}),a.jsx("div",{className:"grid grid-cols-6 gap-2 max-h-32 overflow-y-auto",children:iC.map((l,c)=>a.jsxs(R.button,{className:"bg-white rounded-xl w-14 h-14 flex flex-col items-center justify-center text-2xl shadow-sm hover:shadow-md transition-all border-2 border-pink-100 hover:border-pink-300 group",onClick:()=>e(l.emoji,"sticker"),whileHover:{scale:1.15,rotate:-5},whileTap:{scale:.9},initial:{opacity:0,scale:0,rotate:180},animate:{opacity:1,scale:1,rotate:0},transition:{delay:c*.03,type:"spring"},title:l.name,children:[a.jsx("span",{className:"text-xl",children:l.emoji}),a.jsx("span",{className:"text-xs text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:l.name})]},c))})]})]},t)}),a.jsx("div",{className:"px-4 pb-2",children:a.jsxs("div",{className:"text-center text-xs text-purple-600 bg-white rounded-lg py-2 px-3 shadow-sm",children:["💡 ",a.jsx("strong",{children:"Tip:"})," Click any message above to send instantly, or type your own message below!"]})})]})},aC=()=>{var k;const e=vt(),{roomId:t}=ab(),{user:n}=Ve(),{currentRoom:r,messages:s,isHost:i,leaveRoom:o,sendMessage:l,joinRoom:c}=rv(),[u,d]=v.useState(""),[h,f]=v.useState(!1),[g,x]=v.useState(null);v.useEffect(()=>{t&&!r&&c(t)},[t,r,c]);const w=()=>{o(),e("/lobby")},j=(b,S="text")=>{b.trim()&&(l(b,S),d(""))},m=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),j(u))},p=[{id:"math",name:"Math Help",icon:a.jsx(Xa,{className:"h-5 w-5"}),color:"bg-blue-500"},{id:"reading",name:"Reading & Stories",icon:a.jsx(eN,{className:"h-5 w-5"}),color:"bg-green-500"},{id:"homework",name:"Homework Help",icon:a.jsx(yu,{className:"h-5 w-5"}),color:"bg-purple-500"},{id:"ideas",name:"Study Ideas",icon:a.jsx(xu,{className:"h-5 w-5"}),color:"bg-yellow-500"},{id:"memory",name:"Memory Tips",icon:a.jsx(tN,{className:"h-5 w-5"}),color:"bg-pink-500"},{id:"goals",name:"Learning Goals",icon:a.jsx(ms,{className:"h-5 w-5"}),color:"bg-indigo-500"}],y=b=>{const S=p.find(_=>_.id===b);S&&(x(b),l(`📚 Let's discuss: ${S.name}! Who wants to share or ask questions?`,"topic"))};return r?a.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[a.jsx("header",{className:"py-4 px-4 md:px-8 bg-white shadow-sm",children:a.jsx("div",{className:"container mx-auto",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(X,{variant:"secondary",size:"sm",onClick:w,icon:a.jsx(Qn,{className:"h-4 w-4"}),children:"Leave Room"}),a.jsxs("div",{className:"ml-4 flex items-center",children:[a.jsx(gt,{className:"h-6 w-6 text-primary-600 mr-2"}),a.jsx("span",{className:"text-xl font-bold text-primary-600",children:"SmartPlay"})]})]}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Study Room: ",a.jsx("span",{className:"font-bold text-primary-600",children:r.id})]}),a.jsxs("div",{className:"text-xs text-gray-400",children:[r.players.length," friends studying together"]})]})})]})})}),a.jsxs("main",{className:"flex-grow flex",children:[a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx("div",{className:"bg-white shadow-sm p-4 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sx,{className:"h-5 w-5 text-blue-500 mr-2"}),a.jsx("span",{className:"font-medium text-gray-700",children:"Friends Study Chat"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex -space-x-2",children:r.players.map(b=>{var S;return a.jsxs("div",{className:"relative",title:b.nickname,children:[a.jsx(gn,{color:b.avatarColor,accessory:b.avatarAccessory,size:"sm",className:"border-2 border-white"}),b.id===((S=r.host)==null?void 0:S.id)&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-yellow-500 w-3 h-3 rounded-full border border-white",title:"Room Creator"})]},b.id)})}),a.jsxs("span",{className:"text-sm text-gray-600",children:[r.players.length," online"]})]})]})}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-4 border-b",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-3",children:"Study Topics - Click to start a discussion:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(b=>a.jsxs(R.button,{className:`flex items-center space-x-2 px-3 py-2 rounded-full text-white text-sm font-medium transition-all ${b.color} hover:opacity-80 ${g===b.id?"ring-2 ring-white":""}`,onClick:()=>y(b.id),whileHover:{scale:1.05},whileTap:{scale:.95},children:[b.icon,a.jsx("span",{children:b.name})]},b.id))})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:s.length===0?a.jsxs(R.div,{className:"h-full flex flex-col items-center justify-center text-gray-500 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[a.jsx("div",{className:"text-6xl mb-4",children:"💬"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Welcome to your Study Room!"}),a.jsx("p",{className:"text-sm mb-4",children:"This is a safe space for friends to:"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm max-w-md",children:[a.jsx("div",{className:"bg-blue-50 rounded-lg p-3",children:a.jsx("span",{className:"font-semibold text-blue-700",children:"📚 Discuss homework"})}),a.jsx("div",{className:"bg-green-50 rounded-lg p-3",children:a.jsx("span",{className:"font-semibold text-green-700",children:"🤝 Help each other"})}),a.jsx("div",{className:"bg-purple-50 rounded-lg p-3",children:a.jsx("span",{className:"font-semibold text-purple-700",children:"💡 Share study tips"})}),a.jsx("div",{className:"bg-pink-50 rounded-lg p-3",children:a.jsx("span",{className:"font-semibold text-pink-700",children:"🎯 Set learning goals"})})]}),a.jsx("p",{className:"text-xs mt-4 text-gray-400",children:"Click a study topic above or start typing below!"})]}):a.jsx(a.Fragment,{children:s.map((b,S)=>a.jsx(rC,{message:b.message,senderName:b.sender.nickname,senderAvatarColor:b.sender.avatarColor,senderAvatarAccessory:b.sender.avatarAccessory,isCurrentUser:b.sender.id===(n==null?void 0:n.id),timestamp:b.timestamp,messageType:b.type||"text"},`${b.timestamp}-${S}`))})}),a.jsx(Tt,{children:h&&a.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},children:a.jsx(oC,{onSendMessage:j})})}),a.jsxs("div",{className:"bg-white border-t p-4",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{type:"text",className:"w-full px-4 py-3 pr-12 rounded-2xl border-2 border-purple-200 focus:border-purple-400 focus:outline-none text-sm bg-white shadow-sm",placeholder:"Ask a question, share an idea, or help a friend...",value:u,onChange:b=>d(b.target.value),onKeyPress:m,maxLength:500}),a.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-gray-400",children:[u.length,"/500"]})]}),a.jsx(X,{variant:h?"primary":"secondary",size:"sm",onClick:()=>f(!h),icon:a.jsx(vu,{className:"h-4 w-4"}),className:"px-4",children:"Quick"}),a.jsx(X,{variant:"primary",size:"sm",onClick:()=>j(u),disabled:!u.trim(),icon:a.jsx(gN,{className:"h-4 w-4"}),className:"px-6",children:"Send"})]}),a.jsxs("div",{className:"text-center text-xs text-purple-600 mt-2",children:["💡 ",a.jsx("strong",{children:"Study Tip:"})," Be kind, help others, and ask questions when you need help!"]})]})]}),a.jsxs("div",{className:"w-80 bg-white shadow-lg border-l",children:[a.jsxs("div",{className:"p-4 border-b bg-gradient-to-r from-purple-500 to-blue-500 text-white",children:[a.jsxs("h3",{className:"font-bold text-lg flex items-center",children:[a.jsx(js,{className:"h-5 w-5 mr-2"}),"Study Buddies"]}),a.jsx("p",{className:"text-sm text-purple-100",children:"Friends in this room"})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"space-y-3",children:r.players.map((b,S)=>{var _;return a.jsxs(R.div,{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:S*.1},children:[a.jsxs("div",{className:"relative",children:[a.jsx(gn,{color:b.avatarColor,accessory:b.avatarAccessory,size:"md"}),a.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 border-2 border-white rounded-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-medium text-gray-800",children:b.nickname}),b.id===((_=r.host)==null?void 0:_.id)&&a.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full",children:"Creator"}),b.id===(n==null?void 0:n.id)&&a.jsx("span",{className:"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded-full",children:"You"})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:"Online & Ready to Study"})]})]})]},b.id)})}),a.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl",children:[a.jsxs("h4",{className:"font-bold text-gray-800 mb-3 flex items-center",children:[a.jsx(gt,{className:"h-4 w-4 mr-2"}),"Study Room Guidelines"]}),a.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),a.jsx("span",{children:"Be kind and respectful to all friends"})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),a.jsx("span",{children:"Help others when they ask questions"})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),a.jsx("span",{children:"Share study tips and learning strategies"})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),a.jsx("span",{children:"Ask for help when you need it"})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),a.jsx("span",{children:"Stay focused on learning together"})]})]})]}),a.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-xl",children:a.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[a.jsxs("div",{children:["Room ID: ",a.jsx("span",{className:"font-mono font-bold",children:r.id})]}),a.jsxs("div",{children:["Created by: ",a.jsx("span",{className:"font-medium",children:(k=r.host)==null?void 0:k.nickname})]}),a.jsx("div",{children:"Purpose: Study & Discussion"})]})})]})]})]})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-100 via-pink-50 to-blue-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto mb-4"}),a.jsxs("p",{className:"text-primary-600 font-medium",children:["Joining study room ",t,"..."]})]})})};var Go={linear:function(e,t,n,r){var s=n-t;return s*e/r+t},easeInQuad:function(e,t,n,r){var s=n-t;return s*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){var s=n-t;return-s*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var s=n-t;return(e/=r/2)<1?s/2*e*e+t:-s/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){var s=n-t;return s*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){var s=n-t;return s*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var s=n-t;return(e/=r/2)<1?s/2*e*e*e+t:s/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){var s=n-t;return s*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){var s=n-t;return-s*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var s=n-t;return(e/=r/2)<1?s/2*e*e*e*e+t:-s/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){var s=n-t;return s*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){var s=n-t;return s*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var s=n-t;return(e/=r/2)<1?s/2*e*e*e*e*e+t:s/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var s=n-t;return-s*Math.cos(e/r*(Math.PI/2))+s+t},easeOutSine:function(e,t,n,r){var s=n-t;return s*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){var s=n-t;return-s/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){var s=n-t;return e==0?t:s*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var s=n-t;return e==r?t+s:s*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,n,r){var s=n-t;return e===0?t:e===r?t+s:(e/=r/2)<1?s/2*Math.pow(2,10*(e-1))+t:s/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,r){var s=n-t;return-s*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){var s=n-t;return s*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var s=n-t;return(e/=r/2)<1?-s/2*(Math.sqrt(1-e*e)-1)+t:s/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var s=n-t,i,o,l;return l=1.70158,o=0,i=s,e===0?t:(e/=r)===1?t+s:(o||(o=r*.3),i<Math.abs(s)?(i=s,l=o/4):l=o/(2*Math.PI)*Math.asin(s/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-l)*(2*Math.PI)/o))+t)},easeOutElastic:function(e,t,n,r){var s=n-t,i,o,l;return l=1.70158,o=0,i=s,e===0?t:(e/=r)===1?t+s:(o||(o=r*.3),i<Math.abs(s)?(i=s,l=o/4):l=o/(2*Math.PI)*Math.asin(s/i),i*Math.pow(2,-10*e)*Math.sin((e*r-l)*(2*Math.PI)/o)+s+t)},easeInOutElastic:function(e,t,n,r){var s=n-t,i,o,l;return l=1.70158,o=0,i=s,e===0?t:(e/=r/2)===2?t+s:(o||(o=r*(.3*1.5)),i<Math.abs(s)?(i=s,l=o/4):l=o/(2*Math.PI)*Math.asin(s/i),e<1?-.5*(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-l)*(2*Math.PI)/o))+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-l)*(2*Math.PI)/o)*.5+s+t)},easeInBack:function(e,t,n,r,s){var i=n-t;return s===void 0&&(s=1.70158),i*(e/=r)*e*((s+1)*e-s)+t},easeOutBack:function(e,t,n,r,s){var i=n-t;return s===void 0&&(s=1.70158),i*((e=e/r-1)*e*((s+1)*e+s)+1)+t},easeInOutBack:function(e,t,n,r,s){var i=n-t;return s===void 0&&(s=1.70158),(e/=r/2)<1?i/2*(e*e*(((s*=1.525)+1)*e-s))+t:i/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+t},easeInBounce:function(e,t,n,r){var s=n-t,i;return i=Go.easeOutBounce(r-e,0,s,r),s-i+t},easeOutBounce:function(e,t,n,r){var s=n-t;return(e/=r)<1/2.75?s*(7.5625*e*e)+t:e<2/2.75?s*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?s*(7.5625*(e-=2.25/2.75)*e+.9375)+t:s*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,r){var s=n-t,i;return e<r/2?(i=Go.easeInBounce(e*2,0,s,r),i*.5+t):(i=Go.easeOutBounce(e*2-r,0,s,r),i*.5+s*.5+t)}},lC=Go;function cC(e){return e*Math.PI/180}function ct(e,t){return e+Math.random()*(t-e)}function uC(e,t){return Math.floor(e+Math.random()*(t-e+1))}var li;(function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"})(li||(li={}));var Nn;(function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"})(Nn||(Nn={}));const dC=1e3/60;class hC{constructor(t,n,r,s){this.getOptions=n;const{colors:i,initialVelocityX:o,initialVelocityY:l}=this.getOptions();this.context=t,this.x=r,this.y=s,this.w=ct(5,20),this.h=ct(5,20),this.radius=ct(5,10),this.vx=typeof o=="number"?ct(-o,o):ct(o.min,o.max),this.vy=typeof l=="number"?ct(-l,0):ct(l.min,l.max),this.shape=uC(0,2),this.angle=cC(ct(0,360)),this.angularSpin=ct(-.2,.2),this.color=i[Math.floor(Math.random()*i.length)],this.rotateY=ct(0,1),this.rotationDirection=ct(0,1)?Nn.Positive:Nn.Negative}update(t){const{gravity:n,wind:r,friction:s,opacity:i,drawShape:o}=this.getOptions(),l=t/dC;this.x+=this.vx*l,this.y+=this.vy*l,this.vy+=n*l,this.vx+=r*l,this.vx*=s**l,this.vy*=s**l,this.rotateY>=1&&this.rotationDirection===Nn.Positive?this.rotationDirection=Nn.Negative:this.rotateY<=-1&&this.rotationDirection===Nn.Negative&&(this.rotationDirection=Nn.Positive);const c=.1*this.rotationDirection*l;if(this.rotateY+=c,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=i,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case li.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case li.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case li.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class fC{constructor(t,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=s=>{this.particles.splice(s,1)},this.getParticle=()=>{const s=ct(this.x,this.w+this.x),i=ct(this.y,this.h+this.y);return new hC(this.context,this.getOptions,s,i)},this.animate=s=>{const{canvas:i,context:o,particlesGenerated:l,lastNumberOfPieces:c}=this,{run:u,recycle:d,numberOfPieces:h,debug:f,tweenFunction:g,tweenDuration:x}=this.getOptions();if(!u)return!1;const w=this.particles.length,j=d?w:l;if(j<h){c!==h&&(this.tweenProgress=0,this.tweenFrom=j,this.lastNumberOfPieces=h),this.tweenProgress=Math.min(x,Math.max(0,this.tweenProgress+s));const m=g(this.tweenProgress,this.tweenFrom,h,x),p=Math.round(m-j);for(let y=0;y<p;y++)this.particles.push(this.getParticle());this.particlesGenerated+=p}f&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${w}`,i.width-10,i.height-20));for(let m=this.particles.length-1;m>=0;m--){const p=this.particles[m];p.update(s),(p.y>i.height||p.y<-100||p.x>i.width+100||p.x<-100)&&(d&&j<=h?this.particles[m]=this.getParticle():this.removeParticleAt(m))}return w>0||j<h},this.canvas=t;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const gh={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:lC.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class mC{constructor(t,n){this.lastFrameTime=0,this.setOptionsWithDefaults=s=>{const i={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...i,...gh,...s},Object.assign(this,s.confettiSource)},this.update=(s=0)=>{const{options:{run:i,onConfettiComplete:o,frameRate:l},canvas:c,context:u}=this,d=Math.min(s-this.lastFrameTime,50);if(l&&d<1e3/l){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=s-(l?d%l:0),i&&(u.fillStyle="white",u.clearRect(0,0,c.width,c.height)),this.generator.animate(d)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new fC(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(t){var s,i;const n=(s=this._options)==null?void 0:s.run,r=(i=this._options)==null?void 0:i.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof t.recycle=="boolean"&&t.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof t.run=="boolean"&&t.run&&n===!1&&this.update()}}const pC=ci.createRef();class yh extends ci.Component{constructor(t){super(t),this.canvas=ci.createRef(),this.canvas=t.canvasRef||pC}componentDidMount(){if(this.canvas.current){const t=ic(this.props)[0];this.confetti=new mC(this.canvas.current,t)}}componentDidUpdate(){const t=ic(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,n]=ic(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return a.jsx("canvas",{width:t.width,height:t.height,ref:this.canvas,...n,style:r})}}yh.defaultProps={...gh};yh.displayName="ReactConfetti";function ic(e){const t={},n={},r={},s=[...Object.keys(gh),"confettiSource","drawShape","onConfettiComplete","frameRate"],i=["canvasRef"];for(const o in e){const l=e[o];s.includes(o)?t[o]=l:i.includes(o)?i[o]=l:r[o]=l}return[t,r,n]}const Ns=ci.forwardRef((e,t)=>a.jsx(yh,{canvasRef:t,...e})),gC=()=>{const{user:e,recordAnswer:t,getTodayStats:n,getXPRequiredForNextLevel:r}=Ve(),s=vt(),[i,o]=v.useState(null),[l,c]=v.useState(null),[u,d]=v.useState(null),[h,f]=v.useState(!1),[g,x]=v.useState(30),[w,j]=v.useState("playing"),[m,p]=v.useState(0),[y,k]=v.useState(new Set),[b,S]=v.useState(!1),[_,P]=v.useState({totalSolved:0,correctAnswers:0,currentStreak:0,bestStreak:0}),[$,T]=v.useState({width:window.innerWidth,height:window.innerHeight}),G=N=>N<=5?"Easy":N<=10?"Medium":N<=15?"Intermediate":N<=20?"Difficult":"Extreme",K=N=>{const O=G(N);let D,Q,re,ge;if(N<=5)D=Math.floor(Math.random()*10)+1,Q=Math.floor(Math.random()*10)+1,re=Math.random()>.5?"+":"-",re==="-"&&D<Q&&([D,Q]=[Q,D]);else if(N<=10){const I=["+","-","×"];re=I[Math.floor(Math.random()*I.length)],re==="×"?(D=Math.floor(Math.random()*10)+1,Q=Math.floor(Math.random()*10)+1):(D=Math.floor(Math.random()*20)+1,Q=Math.floor(Math.random()*20)+1,re==="-"&&D<Q&&([D,Q]=[Q,D]))}else if(N<=15){const I=["+","-","×","÷"];re=I[Math.floor(Math.random()*I.length)],re==="÷"?(Q=Math.floor(Math.random()*12)+1,ge=Math.floor(Math.random()*15)+1,D=Q*ge):re==="×"?(D=Math.floor(Math.random()*12)+1,Q=Math.floor(Math.random()*12)+1):(D=Math.floor(Math.random()*50)+1,Q=Math.floor(Math.random()*50)+1,re==="-"&&D<Q&&([D,Q]=[Q,D]))}else if(N<=20){const I=["+","-","×","÷"];re=I[Math.floor(Math.random()*I.length)],re==="÷"?(Q=Math.floor(Math.random()*15)+1,ge=Math.floor(Math.random()*20)+1,D=Q*ge):re==="×"?(D=Math.floor(Math.random()*15)+1,Q=Math.floor(Math.random()*15)+1):(D=Math.floor(Math.random()*100)+1,Q=Math.floor(Math.random()*100)+1,re==="-"&&D<Q&&([D,Q]=[Q,D]))}else{const I=["+","-","×","÷"];re=I[Math.floor(Math.random()*I.length)],re==="÷"?(Q=Math.floor(Math.random()*20)+1,ge=Math.floor(Math.random()*25)+1,D=Q*ge):re==="×"?(D=Math.floor(Math.random()*20)+1,Q=Math.floor(Math.random()*20)+1):(D=Math.floor(Math.random()*200)+1,Q=Math.floor(Math.random()*200)+1,re==="-"&&D<Q&&([D,Q]=[Q,D]))}switch(re){case"+":ge=D+Q;break;case"-":ge=D-Q;break;case"×":ge=D*Q;break;case"÷":ge=D/Q;break}const U=[],ie=N<=5?5:N<=10?10:N<=15?20:N<=20?50:100;for(;U.length<4;){let I;I=Math.max(1,ge+(Math.floor(Math.random()*ie*2)-ie)),I!==ge&&!U.includes(I)&&U.push(I)}const C=[...U,ge].sort(()=>Math.random()-.5);return{id:Date.now()+Math.random(),operand1:D,operator:re,operand2:Q,answer:ge,availableNumbers:C,difficulty:O}},oe=e?n():{totalSolved:_.totalSolved,correctAnswers:_.correctAnswers,xpEarned:0},W=e?r():150,ue=e?e?e.xp%150:0:0,B=e?e.level:1,E=e?e.currentStreak:_.currentStreak,F=e?e.bestStreak:_.bestStreak;v.useEffect(()=>{const N=()=>{T({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),v.useEffect(()=>{if(!i){const N=K(B);o(N)}},[B]),v.useEffect(()=>{if(w==="playing"&&g>0&&!b){const N=setTimeout(()=>x(g-1),1e3);return()=>clearTimeout(N)}else g===0&&w==="playing"&&!b&&A()},[g,w,b]);const A=()=>{b||(S(!0),j("result"),d(!1),e?t(!1,0):P(N=>({...N,totalSolved:N.totalSolved+1,currentStreak:0})),setTimeout(()=>{S(!1)},2e3))},z=N=>{w!=="playing"||l!==null||b||(S(!0),c(N),setTimeout(()=>{const O=i&&N===i.answer;if(d(O),j("result"),O){f(!0);const D=15,Q=Math.floor(g/5)*2,re=Math.floor(B/5)*5,ge=D+Q+re;e?t(!0,ge):P(U=>({...U,totalSolved:U.totalSolved+1,correctAnswers:U.correctAnswers+1,currentStreak:U.currentStreak+1,bestStreak:Math.max(U.bestStreak,U.currentStreak+1)})),setTimeout(()=>f(!1),3e3)}else e?t(!1,0):P(D=>({...D,totalSolved:D.totalSolved+1,currentStreak:0}));setTimeout(()=>{Y()},2500)},300))},Y=()=>{let N,O=0;do N=K(B),O++;while(y.has(`${N.operand1}${N.operator}${N.operand2}`)&&O<10);k(D=>new Set([...D,`${N.operand1}${N.operator}${N.operand2}`])),y.size>50&&k(new Set),o(N),c(null),d(null),j("playing"),x(30),p(D=>D+1),S(!1)},M=N=>{switch(N){case"×":return"×";case"÷":return"÷";default:return N}},q=()=>oe.totalSolved===0?0:Math.round(oe.correctAnswers/oe.totalSolved*100),pe=()=>{s("/auth")};return i?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-50 to-yellow-100 flex",children:[h&&a.jsx(Ns,{width:$.width,height:$.height,recycle:!1,numberOfPieces:300,colors:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3"]}),a.jsxs("div",{className:"flex-1 p-6 flex flex-col",children:[a.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-purple-600 mb-2",children:"🧮 Math Mania"}),a.jsxs("p",{className:"text-xl md:text-2xl text-purple-500 font-semibold",children:["Level ",B," - ",i.difficulty," Mode"]})]}),a.jsxs("div",{className:"flex justify-between items-center mb-8 flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center bg-white rounded-full px-6 py-3 shadow-lg",children:[a.jsx(Cx,{className:`h-6 w-6 mr-2 ${g<=10?"text-red-500":"text-orange-500"}`}),a.jsxs("span",{className:`text-2xl font-bold ${g<=10?"text-red-500":"text-orange-500"}`,children:[g,"s"]})]}),a.jsxs("div",{className:"flex items-center bg-white rounded-full px-6 py-3 shadow-lg",children:[a.jsx(ms,{className:"h-6 w-6 text-blue-500 mr-2"}),a.jsxs("span",{className:"text-lg font-bold text-blue-500",children:[oe.correctAnswers,"/",oe.totalSolved]}),a.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",q(),"%)"]})]}),a.jsxs("div",{className:"flex items-center bg-white rounded-full px-6 py-3 shadow-lg",children:[a.jsx(Ii,{className:"h-6 w-6 text-yellow-500 mr-2"}),a.jsxs("span",{className:"text-lg font-bold text-yellow-500",children:["Streak: ",E]})]}),a.jsxs("div",{className:"flex items-center bg-white rounded-full px-6 py-3 shadow-lg",children:[a.jsx(fs,{className:"h-6 w-6 text-purple-500 mr-2"}),a.jsxs("span",{className:"text-lg font-bold text-purple-500",children:["Level ",B]})]})]}),e&&a.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-8 shadow-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-bold text-purple-600",children:"Level Progress"}),a.jsxs("span",{className:"text-sm font-bold text-purple-600",children:[ue,"/",W," XP"]})]}),a.jsx("div",{className:"w-full bg-purple-200 rounded-full h-4",children:a.jsx(R.div,{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-4 rounded-full flex items-center justify-end pr-2",initial:{width:0},animate:{width:`${Math.min(ue/W*100,100)}%`},transition:{duration:.5},children:ue>20&&a.jsx($t,{className:"h-3 w-3 text-white"})})})]}),a.jsxs(R.div,{className:"bg-white rounded-3xl shadow-2xl p-8 mb-8 text-center",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[a.jsxs("div",{className:"text-6xl md:text-8xl font-bold text-gray-800 mb-4 flex items-center justify-center gap-4 flex-wrap",children:[a.jsx("span",{className:"text-blue-500",children:i.operand1}),a.jsx("span",{className:"text-purple-500",children:M(i.operator)}),a.jsx("span",{className:"text-green-500",children:i.operand2}),a.jsx("span",{className:"text-orange-500",children:"="}),a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-200 to-orange-200 rounded-2xl border-4 border-dashed border-orange-400 flex items-center justify-center",children:l!==null?a.jsx(R.span,{initial:{scale:0},animate:{scale:1},className:`font-bold text-2xl ${u===null?"text-orange-600":u?"text-green-600":"text-red-600"}`,children:l}):a.jsx("span",{className:"text-orange-400 text-4xl",children:"?"})})]}),a.jsxs("div",{className:"text-sm text-gray-500 mt-4",children:["Difficulty: ",i.difficulty," | Question #",m+1]})]},i.id),a.jsx("div",{className:"flex-1 flex items-center justify-center mb-8",children:a.jsx("div",{className:"grid grid-cols-5 gap-4 max-w-2xl",children:i.availableNumbers.map((N,O)=>a.jsx(R.button,{className:`w-20 h-20 md:w-24 md:h-24 rounded-2xl font-bold text-2xl md:text-3xl shadow-lg transition-all ${l===N?u===null?"bg-yellow-400 text-white transform scale-105":u?"bg-green-400 text-white":"bg-red-400 text-white":l!==null?N===i.answer?"bg-green-400 text-white":"bg-gray-300 text-gray-500":"bg-gradient-to-br from-blue-400 to-purple-500 text-white hover:from-blue-500 hover:to-purple-600"}`,onClick:()=>z(N),disabled:w!=="playing"||b,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.1},whileHover:w==="playing"&&!b?{scale:1.1}:{},whileTap:w==="playing"&&!b?{scale:.95}:{},children:N},`${i.id}-${N}-${O}`))})}),a.jsx(Tt,{children:w==="result"&&u!==null&&a.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`rounded-3xl p-6 text-center mb-6 ${u?"bg-green-100 border-4 border-green-300":"bg-red-100 border-4 border-red-300"}`,children:[a.jsx("div",{className:"text-4xl mb-4",children:u?"🎉":g===0?"⏰":"🤔"}),a.jsx("h3",{className:`text-2xl font-bold mb-2 ${u?"text-green-700":"text-red-700"}`,children:u?"Fantastic Work!":g===0?"Time's Up!":"Not Quite Right!"}),a.jsx("p",{className:`text-lg mb-4 ${u?"text-green-600":"text-red-600"}`,children:u?`Perfect! You solved it with ${g} seconds left!`:`The correct answer was ${i.answer}. Keep trying!`}),u&&e&&a.jsxs(R.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center justify-center gap-2 text-xl font-bold text-green-600 mb-4",children:[a.jsx($t,{className:"h-6 w-6"}),a.jsxs("span",{children:["+",15+Math.floor(g/5)*2+Math.floor(B/5)*5," XP"]}),a.jsx(vr,{className:"h-6 w-6"})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Next question in ",Math.max(0,Math.ceil((2500-Date.now()%2500)/1e3))," seconds..."]})]})})]}),a.jsxs("div",{className:"w-80 bg-white shadow-2xl p-6 overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx(js,{className:"h-6 w-6 text-purple-600 mr-2"}),a.jsx("h2",{className:"text-2xl font-bold text-purple-600",children:"Your Progress"})]}),a.jsxs(R.div,{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-4 border-2 border-purple-200 mb-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[e?a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(gn,{color:e.avatarColor,accessory:e.avatarAccessory,size:"md",animated:!0}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"font-bold text-gray-800",children:e.nickname}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(kx,{className:"h-4 w-4 text-red-400 mr-1"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Level ",e.level]})]})]})]}):a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(an,{className:"h-8 w-8 text-gray-400"})}),a.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Guest Player"}),a.jsx(X,{variant:"primary",size:"sm",onClick:pe,icon:a.jsx(an,{className:"h-4 w-4"}),fullWidth:!0,children:"Create Profile to Save Progress"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"bg-white rounded-lg p-2 text-center",children:[a.jsx("div",{className:"font-bold text-purple-600",children:e?e.xp:0}),a.jsx("div",{className:"text-gray-500",children:"Total XP"})]}),a.jsxs("div",{className:"bg-white rounded-lg p-2 text-center",children:[a.jsx("div",{className:"font-bold text-blue-600",children:E}),a.jsx("div",{className:"text-gray-500",children:"Streak"})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-4 border-2 border-blue-200 mb-6",children:[a.jsxs("h3",{className:"font-bold text-blue-600 mb-3 flex items-center",children:[a.jsx(ms,{className:"h-5 w-5 mr-2"}),"Today's Performance"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Problems Solved"}),a.jsx("span",{className:"font-bold text-blue-600",children:oe.totalSolved})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Correct Answers"}),a.jsx("span",{className:"font-bold text-green-600",children:oe.correctAnswers})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Accuracy"}),a.jsxs("span",{className:"font-bold text-purple-600",children:[q(),"%"]})]}),e&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"XP Earned Today"}),a.jsx("span",{className:"font-bold text-yellow-600",children:oe.xpEarned})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-4 border-2 border-green-200 mb-6",children:[a.jsx("h3",{className:"font-bold text-green-600 mb-3",children:"Difficulty Progression"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:`flex justify-between p-2 rounded ${B<=5?"bg-green-200":"bg-gray-100"}`,children:[a.jsx("span",{children:"Easy (Levels 1-5)"}),a.jsx("span",{children:B<=5?"✓ Current":B>5?"✓ Completed":""})]}),a.jsxs("div",{className:`flex justify-between p-2 rounded ${B>5&&B<=10?"bg-yellow-200":B>10?"bg-gray-100":"bg-gray-50"}`,children:[a.jsx("span",{children:"Medium (Levels 6-10)"}),a.jsx("span",{children:B>5&&B<=10?"✓ Current":B>10?"✓ Completed":""})]}),a.jsxs("div",{className:`flex justify-between p-2 rounded ${B>10&&B<=15?"bg-orange-200":B>15?"bg-gray-100":"bg-gray-50"}`,children:[a.jsx("span",{children:"Intermediate (Levels 11-15)"}),a.jsx("span",{children:B>10&&B<=15?"✓ Current":B>15?"✓ Completed":""})]}),a.jsxs("div",{className:`flex justify-between p-2 rounded ${B>15&&B<=20?"bg-red-200":B>20?"bg-gray-100":"bg-gray-50"}`,children:[a.jsx("span",{children:"Difficult (Levels 16-20)"}),a.jsx("span",{children:B>15&&B<=20?"✓ Current":B>20?"✓ Completed":""})]}),a.jsxs("div",{className:`flex justify-between p-2 rounded ${B>20?"bg-purple-200":"bg-gray-50"}`,children:[a.jsx("span",{children:"Extreme (Levels 21+)"}),a.jsx("span",{children:B>20?"✓ Current":""})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl p-4 border-2 border-yellow-200",children:[a.jsxs("h3",{className:"font-bold text-orange-600 mb-3 flex items-center",children:[a.jsx(vr,{className:"h-5 w-5 mr-2"}),"Achievements"]}),a.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[{emoji:"🏆",unlocked:B>=5,name:"Level 5"},{emoji:"⭐",unlocked:E>=5,name:"5 Streak"},{emoji:"🎯",unlocked:q()>=80,name:"80% Accuracy"},{emoji:"🧠",unlocked:B>=10,name:"Level 10"},{emoji:"🎉",unlocked:oe.totalSolved>=10,name:"10 Today"},{emoji:"💎",unlocked:E>=10,name:"10 Streak"},{emoji:"🌟",unlocked:B>=15,name:"Level 15"},{emoji:"🏅",unlocked:F>=20,name:"Best Streak"}].map((N,O)=>a.jsx(R.div,{className:`w-12 h-12 rounded-lg flex items-center justify-center text-2xl ${N.unlocked?"bg-yellow-200 border-2 border-yellow-400":"bg-gray-100 border-2 border-gray-300 opacity-50"}`,initial:{scale:0},animate:{scale:N.unlocked?1:.8},transition:{delay:O*.1},title:N.name,children:N.emoji},O))}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Keep playing to unlock more achievements!"})})]})]})]}):a.jsx("div",{children:"Loading game..."})},yC=()=>{const e=vt(),{user:t}=Ve(),n=()=>{e(t?"/lobby":"/")},r=()=>{e("/auth")};return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx("header",{className:"py-4 px-4 md:px-8 bg-white shadow-sm relative z-10",children:a.jsx("div",{className:"container mx-auto",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(X,{variant:"secondary",size:"sm",onClick:n,icon:a.jsx(Qn,{className:"h-4 w-4"}),children:t?"Back to Lobby":"Back to Home"}),a.jsxs("div",{className:"ml-4 flex items-center",children:[a.jsx(gt,{className:"h-6 w-6 text-primary-600 mr-2"}),a.jsx("span",{className:"text-xl font-bold text-primary-600",children:"SmartPlay"})]})]}),a.jsx("div",{className:"flex items-center",children:t?a.jsx("div",{className:"mr-2 md:mr-4",children:a.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Playing as ",t.nickname]})}):a.jsx(X,{variant:"primary",size:"sm",onClick:r,icon:a.jsx(an,{className:"h-4 w-4"}),children:"Create Profile"})})]})})}),a.jsx("main",{className:"flex-grow",children:a.jsx(gC,{})})]})},xC=()=>{const{user:e,recordAnswer:t,getTodayStats:n,getXPRequiredForNextLevel:r}=Ve(),[s,i]=v.useState(null),[o,l]=v.useState("listen"),[c,u]=v.useState(""),[d,h]=v.useState(null),[f,g]=v.useState(!1),[x,w]=v.useState(45),[j,m]=v.useState("playing"),[p,y]=v.useState(0),[k,b]=v.useState(new Set),[S,_]=v.useState(!1),[P,$]=v.useState([]),[T,G]=v.useState(""),[K,oe]=v.useState([]),[W,se]=v.useState({width:window.innerWidth,height:window.innerHeight}),ue={easy:[{id:1,word:"cat",definition:"A small furry pet that meows",difficulty:"Easy",hints:["It has whiskers","It purrs when happy","It catches mice"],category:"Animals"},{id:2,word:"dog",definition:"A loyal pet that barks and wags its tail",difficulty:"Easy",hints:["Man's best friend","It barks","It wags its tail"],category:"Animals"},{id:3,word:"sun",definition:"The bright star that gives us light and warmth",difficulty:"Easy",hints:["It shines in the sky","It's very hot","It gives us light"],category:"Nature"},{id:4,word:"book",definition:"Something you read with pages and words",difficulty:"Easy",hints:["You read it","It has pages","Libraries have many"],category:"Objects"},{id:5,word:"tree",definition:"A tall plant with branches and leaves",difficulty:"Easy",hints:["It has leaves","Birds nest in it","It grows tall"],category:"Nature"},{id:6,word:"house",definition:"A building where people live",difficulty:"Easy",hints:["People live in it","It has rooms","It has a roof"],category:"Places"},{id:7,word:"water",definition:"A clear liquid that we drink",difficulty:"Easy",hints:["We drink it","Fish swim in it","It's wet"],category:"Nature"},{id:8,word:"happy",definition:"Feeling joyful and pleased",difficulty:"Easy",hints:["A good feeling","Opposite of sad","Makes you smile"],category:"Emotions"},{id:9,word:"bird",definition:"An animal that flies and has feathers",difficulty:"Easy",hints:["It has wings","It can fly","It lays eggs"],category:"Animals"},{id:10,word:"fish",definition:"An animal that lives in water",difficulty:"Easy",hints:["Lives in water","Has fins","Can swim"],category:"Animals"},{id:11,word:"moon",definition:"The bright object in the night sky",difficulty:"Easy",hints:["Shines at night","Changes shape","In the sky"],category:"Nature"},{id:12,word:"car",definition:"A vehicle with four wheels",difficulty:"Easy",hints:["Has four wheels","You drive it","Uses gas"],category:"Transportation"},{id:13,word:"ball",definition:"A round object used in games",difficulty:"Easy",hints:["It's round","Used in sports","You can throw it"],category:"Toys"},{id:14,word:"cake",definition:"A sweet dessert for celebrations",difficulty:"Easy",hints:["Sweet dessert","Has candles on birthdays","Made with flour"],category:"Food"},{id:15,word:"shoe",definition:"Something you wear on your feet",difficulty:"Easy",hints:["Worn on feet","Protects your feet","Has laces"],category:"Clothing"},{id:16,word:"hat",definition:"Something you wear on your head",difficulty:"Easy",hints:["Worn on head","Protects from sun","Can have a brim"],category:"Clothing"},{id:17,word:"pen",definition:"A tool used for writing",difficulty:"Easy",hints:["Used for writing","Has ink","Held in hand"],category:"Tools"},{id:18,word:"cup",definition:"A container for drinking",difficulty:"Easy",hints:["Used for drinking","Has a handle","Holds liquids"],category:"Objects"},{id:19,word:"bed",definition:"Furniture where you sleep",difficulty:"Easy",hints:["You sleep on it","Has a mattress","In the bedroom"],category:"Furniture"},{id:20,word:"toy",definition:"Something children play with",difficulty:"Easy",hints:["Children play with it","For fun","Can be colorful"],category:"Toys"}],medium:[{id:21,word:"elephant",definition:"A large gray animal with a long trunk",difficulty:"Medium",hints:["It has a trunk","It's very big","It has big ears"],category:"Animals"},{id:22,word:"butterfly",definition:"A colorful insect with beautiful wings",difficulty:"Medium",hints:["It has colorful wings","It flies from flower to flower","It was once a caterpillar"],category:"Animals"},{id:23,word:"rainbow",definition:"Colorful arc in the sky after rain",difficulty:"Medium",hints:["Appears after rain","Has many colors","Arcs across the sky"],category:"Nature"},{id:24,word:"bicycle",definition:"A vehicle with two wheels that you pedal",difficulty:"Medium",hints:["Has two wheels","You pedal it","Good for exercise"],category:"Transportation"},{id:25,word:"computer",definition:"An electronic device for processing information",difficulty:"Medium",hints:["Has a screen","You type on it","Runs programs"],category:"Technology"},{id:26,word:"birthday",definition:"The day you were born, celebrated yearly",difficulty:"Medium",hints:["Celebrated once a year","You blow out candles","You get presents"],category:"Events"},{id:27,word:"sandwich",definition:"Food made with bread and fillings",difficulty:"Medium",hints:["Made with bread","Has fillings inside","Good for lunch"],category:"Food"},{id:28,word:"adventure",definition:"An exciting and unusual experience",difficulty:"Medium",hints:["Exciting experience","Often involves travel","Can be dangerous"],category:"Concepts"},{id:29,word:"mountain",definition:"A very tall hill or peak",difficulty:"Medium",hints:["Very tall","Has a peak","Snow on top"],category:"Geography"},{id:30,word:"ocean",definition:"A large body of salt water",difficulty:"Medium",hints:["Very large water","Has waves","Fish live in it"],category:"Geography"},{id:31,word:"library",definition:"A place where books are kept",difficulty:"Medium",hints:["Has many books","You can borrow books","Quiet place"],category:"Places"},{id:32,word:"garden",definition:"A place where plants and flowers grow",difficulty:"Medium",hints:["Plants grow here","Has flowers","You water it"],category:"Places"},{id:33,word:"kitchen",definition:"A room where food is prepared",difficulty:"Medium",hints:["Where you cook","Has a stove","Food is made here"],category:"Rooms"},{id:34,word:"picture",definition:"An image or drawing",difficulty:"Medium",hints:["Shows an image","Can be drawn","Hangs on wall"],category:"Art"},{id:35,word:"music",definition:"Sounds arranged in a pleasing way",difficulty:"Medium",hints:["You listen to it","Has rhythm","Can be sung"],category:"Art"},{id:36,word:"friend",definition:"Someone you like and enjoy being with",difficulty:"Medium",hints:["Someone you like","You play together","Cares about you"],category:"People"},{id:37,word:"teacher",definition:"A person who helps you learn",difficulty:"Medium",hints:["Helps you learn","Works at school","Gives lessons"],category:"People"},{id:38,word:"doctor",definition:"A person who helps sick people",difficulty:"Medium",hints:["Helps sick people","Works in hospital","Uses medicine"],category:"People"},{id:39,word:"airplane",definition:"A flying vehicle with wings",difficulty:"Medium",hints:["It flies","Has wings","Carries passengers"],category:"Transportation"},{id:40,word:"telephone",definition:"A device used to talk to people far away",difficulty:"Medium",hints:["Used to talk","Has numbers","Makes calls"],category:"Technology"}],intermediate:[{id:41,word:"magnificent",definition:"Extremely beautiful or impressive",difficulty:"Intermediate",hints:["Means very beautiful","Impressive to see","Grand and splendid"],category:"Adjectives"},{id:42,word:"mysterious",definition:"Difficult to understand or explain",difficulty:"Intermediate",hints:["Hard to understand","Full of secrets","Puzzling"],category:"Adjectives"},{id:43,word:"telescope",definition:"An instrument for viewing distant objects",difficulty:"Intermediate",hints:["Used to see far away","Astronomers use it","Makes things look bigger"],category:"Science"},{id:44,word:"democracy",definition:"A system where people vote for their leaders",difficulty:"Intermediate",hints:["People vote","Government system","Power to the people"],category:"Politics"},{id:45,word:"photosynthesis",definition:"How plants make food using sunlight",difficulty:"Intermediate",hints:["Plants do this","Uses sunlight","Makes oxygen"],category:"Science"},{id:46,word:"archaeology",definition:"The study of ancient civilizations",difficulty:"Intermediate",hints:["Studies old things","Digs up artifacts","About ancient people"],category:"Science"},{id:47,word:"encyclopedia",definition:"A book with information on many subjects",difficulty:"Intermediate",hints:["Has lots of information","Organized alphabetically","Reference book"],category:"Education"},{id:48,word:"refrigerator",definition:"An appliance that keeps food cold",difficulty:"Intermediate",hints:["Keeps food cold","In the kitchen","Prevents spoiling"],category:"Appliances"},{id:49,word:"geography",definition:"The study of Earth and its features",difficulty:"Intermediate",hints:["Studies Earth","About maps","Countries and continents"],category:"Science"},{id:50,word:"mathematics",definition:"The study of numbers and calculations",difficulty:"Intermediate",hints:["About numbers","Addition and subtraction","Solving problems"],category:"Education"},{id:51,word:"temperature",definition:"How hot or cold something is",difficulty:"Intermediate",hints:["Hot or cold","Measured in degrees","Weather has this"],category:"Science"},{id:52,word:"celebration",definition:"A special event or party",difficulty:"Intermediate",hints:["Special event","People gather","Happy occasion"],category:"Events"},{id:53,word:"imagination",definition:"The ability to create ideas in your mind",difficulty:"Intermediate",hints:["Creating ideas","In your mind","Being creative"],category:"Mind"},{id:54,word:"responsibility",definition:"A duty or task you must do",difficulty:"Intermediate",hints:["Something you must do","A duty","Being reliable"],category:"Character"},{id:55,word:"environment",definition:"The natural world around us",difficulty:"Intermediate",hints:["Natural world","Plants and animals","We must protect it"],category:"Nature"},{id:56,word:"communication",definition:"Sharing information with others",difficulty:"Intermediate",hints:["Sharing information","Talking or writing","Between people"],category:"Social"},{id:57,word:"transportation",definition:"Ways of moving from place to place",difficulty:"Intermediate",hints:["Moving around","Cars and buses","Getting places"],category:"Travel"},{id:58,word:"organization",definition:"Arranging things in an orderly way",difficulty:"Intermediate",hints:["Keeping things neat","In order","Well arranged"],category:"Skills"},{id:59,word:"opportunity",definition:"A chance to do something good",difficulty:"Intermediate",hints:["A chance","Good timing","Don't miss it"],category:"Life"},{id:60,word:"personality",definition:"The qualities that make you unique",difficulty:"Intermediate",hints:["What makes you special","Your character","How you act"],category:"Psychology"}],difficult:[{id:61,word:"pharmaceutical",definition:"Related to the preparation of medicines",difficulty:"Difficult",hints:["About medicines","Drug companies","Medical field"],category:"Medicine"},{id:62,word:"entrepreneurship",definition:"The activity of starting and running businesses",difficulty:"Difficult",hints:["Starting businesses","Taking risks","Innovation"],category:"Business"},{id:63,word:"metamorphosis",definition:"A complete change in form or nature",difficulty:"Difficult",hints:["Complete change","Caterpillar to butterfly","Transformation"],category:"Science"},{id:64,word:"conscientious",definition:"Careful and thorough in work or duties",difficulty:"Difficult",hints:["Very careful","Thorough worker","Takes responsibility"],category:"Character"},{id:65,word:"serendipity",definition:"A pleasant surprise or fortunate accident",difficulty:"Difficult",hints:["Happy accident","Unexpected good luck","Pleasant surprise"],category:"Concepts"},{id:66,word:"onomatopoeia",definition:"Words that imitate sounds they represent",difficulty:"Difficult",hints:["Sound words","Like buzz or crash","Imitates sounds"],category:"Language"},{id:67,word:"procrastination",definition:"The habit of delaying or postponing tasks",difficulty:"Difficult",hints:["Putting things off","Delaying work","Bad habit"],category:"Behavior"},{id:68,word:"perspicacious",definition:"Having keen insight and understanding",difficulty:"Difficult",hints:["Very insightful","Sharp mind","Good judgment"],category:"Intelligence"},{id:69,word:"quintessential",definition:"Representing the most perfect example",difficulty:"Difficult",hints:["Perfect example","Most typical","Best representation"],category:"Quality"},{id:70,word:"juxtaposition",definition:"Placing things side by side for comparison",difficulty:"Difficult",hints:["Side by side","For comparison","Contrasting placement"],category:"Art"},{id:71,word:"sophisticated",definition:"Complex and refined in design",difficulty:"Difficult",hints:["Very refined","Complex design","Elegant and advanced"],category:"Quality"},{id:72,word:"extraordinary",definition:"Very unusual or remarkable",difficulty:"Difficult",hints:["Very unusual","Remarkable","Beyond ordinary"],category:"Quality"},{id:73,word:"philosophical",definition:"Related to the study of fundamental questions",difficulty:"Difficult",hints:["Deep thinking","About life questions","Wisdom seeking"],category:"Thinking"},{id:74,word:"psychological",definition:"Related to the mind and behavior",difficulty:"Difficult",hints:["About the mind","Mental processes","How we think"],category:"Psychology"},{id:75,word:"technological",definition:"Related to technology and innovation",difficulty:"Difficult",hints:["About technology","Modern devices","Innovation"],category:"Technology"},{id:76,word:"international",definition:"Between or among different countries",difficulty:"Difficult",hints:["Between countries","Global","Worldwide"],category:"Geography"},{id:77,word:"environmental",definition:"Related to the natural surroundings",difficulty:"Difficult",hints:["About nature","Surroundings","Ecology"],category:"Nature"},{id:78,word:"constitutional",definition:"Related to a constitution or basic laws",difficulty:"Difficult",hints:["About basic laws","Government rules","Legal foundation"],category:"Law"},{id:79,word:"revolutionary",definition:"Involving a complete change",difficulty:"Difficult",hints:["Complete change","Major transformation","Groundbreaking"],category:"Change"},{id:80,word:"incomprehensible",definition:"Impossible to understand",difficulty:"Difficult",hints:["Can't understand","Too complex","Beyond comprehension"],category:"Understanding"}],extreme:[{id:81,word:"antidisestablishmentarianism",definition:"Opposition to the withdrawal of state support from an established church",difficulty:"Extreme",hints:["Very long word","About church and state","Political opposition"],category:"Politics"},{id:82,word:"pneumonoultramicroscopicsilicovolcanoconosis",definition:"A lung disease caused by inhaling very fine silicate or quartz dust",difficulty:"Extreme",hints:["Lung disease","From dust","Very long medical term"],category:"Medicine"},{id:83,word:"floccinaucinihilipilification",definition:"The action of estimating something as worthless",difficulty:"Extreme",hints:["Considering worthless","Very long word","About value"],category:"Concepts"},{id:84,word:"hippopotomonstrosesquippedaliophobia",definition:"Fear of long words",difficulty:"Extreme",hints:["Fear of long words","Ironic name","Phobia"],category:"Psychology"},{id:85,word:"supercalifragilisticexpialidocious",definition:"Extraordinarily good or wonderful",difficulty:"Extreme",hints:["From Mary Poppins","Means wonderful","Made-up word"],category:"Entertainment"},{id:86,word:"pseudopseudohypoparathyroidism",definition:"A rare genetic disorder",difficulty:"Extreme",hints:["Genetic disorder","Medical condition","Very rare"],category:"Medicine"},{id:87,word:"thyroparathyroidectomized",definition:"Having had thyroid and parathyroid glands removed",difficulty:"Extreme",hints:["Medical procedure","Gland removal","Surgery term"],category:"Medicine"},{id:88,word:"spectrophotofluorometrically",definition:"In a manner relating to spectrophotofluorometry",difficulty:"Extreme",hints:["Scientific method","Laboratory technique","Measurement"],category:"Science"},{id:89,word:"electroencephalographically",definition:"In a manner relating to brain wave recording",difficulty:"Extreme",hints:["Brain waves","Medical recording","Neurological"],category:"Medicine"},{id:90,word:"immunoelectrophoretically",definition:"Using a technique to separate proteins",difficulty:"Extreme",hints:["Laboratory technique","Protein separation","Scientific method"],category:"Science"},{id:91,word:"psychopharmacologically",definition:"Relating to drugs that affect the mind",difficulty:"Extreme",hints:["Mind-affecting drugs","Psychiatric medicine","Brain chemistry"],category:"Medicine"},{id:92,word:"radioimmunoelectrophoresis",definition:"A laboratory technique using radioactive markers",difficulty:"Extreme",hints:["Lab technique","Uses radiation","Scientific analysis"],category:"Science"},{id:93,word:"pneumoencephalographically",definition:"Relating to X-ray imaging of the brain",difficulty:"Extreme",hints:["Brain imaging","X-ray technique","Medical procedure"],category:"Medicine"},{id:94,word:"tetraiodophenolphthalein",definition:"A chemical compound used in medicine",difficulty:"Extreme",hints:["Chemical compound","Medical use","Complex molecule"],category:"Chemistry"},{id:95,word:"hepaticocholangiogastrostomy",definition:"A surgical procedure connecting liver ducts",difficulty:"Extreme",hints:["Surgery procedure","Liver operation","Medical term"],category:"Medicine"},{id:96,word:"pneumonoultramicroscopicsilicovolcanoconiosis",definition:"Alternative spelling of the lung disease",difficulty:"Extreme",hints:["Lung disease","From silica dust","Longest word"],category:"Medicine"},{id:97,word:"otorhinolaryngological",definition:"Relating to ear, nose, and throat medicine",difficulty:"Extreme",hints:["ENT medicine","Ear, nose, throat","Medical specialty"],category:"Medicine"},{id:98,word:"esophagogastroduodenoscopy",definition:"A procedure to examine the upper digestive tract",difficulty:"Extreme",hints:["Digestive examination","Medical procedure","Upper GI tract"],category:"Medicine"},{id:99,word:"electrocardiographically",definition:"Relating to heart rhythm recording",difficulty:"Extreme",hints:["Heart rhythm","Medical recording","EKG related"],category:"Medicine"},{id:100,word:"magnetohydrodynamically",definition:"Relating to electrically conducting fluids in magnetic fields",difficulty:"Extreme",hints:["Physics concept","Magnetic fields","Conducting fluids"],category:"Physics"}]},B=U=>U<=5?"easy":U<=10?"medium":U<=15?"intermediate":U<=20?"difficult":"extreme";v.useEffect(()=>{if(e&&K.length===0){const U=B(e.level),ie=[...ue[U]];for(let C=ie.length-1;C>0;C--){const I=Math.floor(Math.random()*(C+1));[ie[C],ie[I]]=[ie[I],ie[C]]}oe(ie)}},[e]);const E=()=>{if(!e)return null;const U=B(e.level),ie=ue[U];if(k.size>=K.length){const I=[...ie];for(let ae=I.length-1;ae>0;ae--){const Me=Math.floor(Math.random()*(ae+1));[I[ae],I[Me]]=[I[Me],I[ae]]}oe(I),b(new Set)}return K.find(I=>!k.has(I.word))||K[0]},F=U=>{const ie=U.length,C=Math.max(2,Math.floor(ie*.4)),I=new Set;for(;I.size<C;){const ae=Math.floor(Math.random()*ie);ae!==0&&I.add(ae)}return U.split("").map((ae,Me)=>I.has(Me)?"_":ae).join(" ")},A=n(),z=r(),M=e?e.xp%150:0;v.useEffect(()=>{const U=()=>{se({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]),v.useEffect(()=>{if(!s&&K.length>0){const U=E();U&&(i(U),o==="fill"&&G(F(U.word)))}},[K,o]),v.useEffect(()=>{if(j==="playing"&&x>0&&!S){const U=setTimeout(()=>w(x-1),1e3);return()=>clearTimeout(U)}else x===0&&j==="playing"&&!S&&q()},[x,j,S]);const q=()=>{S||(_(!0),m("result"),h(!1),t(!1,0),setTimeout(()=>{_(!1)},3e3))},pe=()=>{j!=="playing"||!c.trim()||S||!s||(_(!0),setTimeout(()=>{const U=c.toLowerCase().trim()===s.word.toLowerCase();if(h(U),m("result"),U){g(!0);const ie=20,C=Math.floor(x/5)*3,I=e?Math.floor(e.level/3)*5:0,ae=o==="describe"?10:o==="fill"?5:0,Me=ie+C+I+ae;t(!0,Me),setTimeout(()=>g(!1),3e3)}else t(!1,0);setTimeout(()=>{N()},3e3)},500))},N=()=>{if(!s)return;b(ie=>new Set([...ie,s.word]));const U=E();U&&(i(U),u(""),h(null),m("playing"),w(45),y(ie=>ie+1),_(!1),$([]),o==="fill"&&G(F(U.word)))},O=U=>{l(U),$([]),s&&U==="fill"&&G(F(s.word))},D=()=>{if(!s||P.length>=s.hints.length)return;const U=P.length;$(ie=>[...ie,U])},Q=()=>{if(s&&"speechSynthesis"in window){const U=new SpeechSynthesisUtterance(s.word);U.rate=.7,U.pitch=1,speechSynthesis.speak(U)}},re=()=>A.totalSolved===0?0:Math.round(A.correctAnswers/A.totalSolved*100),ge=()=>{switch(o){case"listen":return"Listen to the word and type its spelling";case"fill":return"Fill in the missing letters of the word";case"describe":return"Read the description and type the word";default:return""}};return!s||!e?a.jsx("div",{children:"Loading game..."}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-50 to-pink-100 flex",children:[f&&a.jsx(Ns,{width:W.width,height:W.height,recycle:!1,numberOfPieces:300,colors:["#6366f1","#8b5cf6","#ec4899","#f59e0b","#10b981","#3b82f6"]}),a.jsxs("div",{className:"flex-1 p-6 flex flex-col",children:[a.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-indigo-600 mb-2",children:"🐝 Spelling Bee"}),a.jsxs("p",{className:"text-xl md:text-2xl text-indigo-500 font-semibold",children:["Level ",e.level," - ",s.difficulty," Mode"]})]}),a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"bg-white rounded-2xl p-2 shadow-lg flex gap-2",children:[{mode:"listen",icon:si,label:"Listen & Type"},{mode:"fill",icon:Zm,label:"Fill Blanks"},{mode:"describe",icon:yu,label:"From Description"}].map(({mode:U,icon:ie,label:C})=>a.jsxs("button",{onClick:()=>O(U),className:`flex items-center px-4 py-2 rounded-xl font-semibold transition-all ${o===U?"bg-indigo-500 text-white shadow-md":"text-indigo-600 hover:bg-indigo-50"}`,children:[a.jsx(ie,{className:"h-5 w-5 mr-2"}),C]},U))})}),a.jsxs("div",{className:"flex justify-between items-center mb-8 flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center bg-white rounded-full px-6 py-3 shadow-lg",children:[a.jsx(Cx,{className:`h-6 w-6 mr-2 ${x<=15?"text-red-500":"text-orange-500"}`}),a.jsxs("span",{className:`text-2xl font-bold ${x<=15?"text-red-500":"text-orange-500"}`,children:[x,"s"]})]}),a.jsxs("div",{className:"flex items-center bg-white rounded-full px-6 py-3 shadow-lg",children:[a.jsx(ms,{className:"h-6 w-6 text-blue-500 mr-2"}),a.jsxs("span",{className:"text-lg font-bold text-blue-500",children:[A.correctAnswers,"/",A.totalSolved]}),a.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",re(),"%)"]})]}),a.jsxs("div",{className:"flex items-center bg-white rounded-full px-6 py-3 shadow-lg",children:[a.jsx(Ii,{className:"h-6 w-6 text-yellow-500 mr-2"}),a.jsxs("span",{className:"text-lg font-bold text-yellow-500",children:["Streak: ",e.currentStreak]})]}),a.jsxs("div",{className:"flex items-center bg-white rounded-full px-6 py-3 shadow-lg",children:[a.jsx(fs,{className:"h-6 w-6 text-purple-500 mr-2"}),a.jsxs("span",{className:"text-lg font-bold text-purple-500",children:["Level ",e.level]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-8 shadow-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-bold text-indigo-600",children:"Level Progress"}),a.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:[M,"/",z," XP"]})]}),a.jsx("div",{className:"w-full bg-indigo-200 rounded-full h-4",children:a.jsx(R.div,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-4 rounded-full flex items-center justify-end pr-2",initial:{width:0},animate:{width:`${Math.min(M/z*100,100)}%`},transition:{duration:.5},children:M>20&&a.jsx($t,{className:"h-3 w-3 text-white"})})})]}),a.jsxs(R.div,{className:"bg-white rounded-3xl shadow-2xl p-8 mb-8 text-center flex-1 flex flex-col justify-center",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-lg text-gray-600 mb-4",children:ge()}),a.jsx("div",{className:"bg-indigo-50 rounded-2xl p-4 mb-6",children:a.jsxs("span",{className:"text-sm font-semibold text-indigo-600",children:["Category: ",s.category," | Difficulty: ",s.difficulty]})})]}),o==="listen"&&a.jsxs("div",{className:"mb-8",children:[a.jsx(X,{variant:"primary",size:"lg",onClick:Q,icon:a.jsx(si,{className:"h-6 w-6"}),className:"mb-4",children:"🔊 Play Word"}),a.jsx("p",{className:"text-gray-600",children:"Click to hear the word, then type its spelling below"})]}),o==="fill"&&a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"text-4xl md:text-6xl font-mono font-bold text-indigo-600 mb-4 tracking-wider",children:T}),a.jsx("p",{className:"text-gray-600",children:"Fill in the missing letters"}),P.length<s.hints.length&&a.jsxs(X,{variant:"accent",size:"sm",onClick:D,icon:a.jsx(xu,{className:"h-4 w-4"}),className:"mt-4",children:["Reveal Hint (",P.length+1,"/",s.hints.length,")"]})]}),o==="describe"&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-2xl p-6 mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-purple-600 mb-4",children:"Definition:"}),a.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:s.definition})]}),P.length<s.hints.length&&a.jsxs(X,{variant:"accent",size:"sm",onClick:D,icon:a.jsx(xu,{className:"h-4 w-4"}),className:"mb-4",children:["Get Hint (",P.length+1,"/",s.hints.length,")"]})]}),P.length>0&&a.jsxs("div",{className:"bg-yellow-50 rounded-2xl p-4 mb-6",children:[a.jsx("h4",{className:"font-bold text-yellow-700 mb-2",children:"💡 Hints:"}),P.map(U=>a.jsxs("p",{className:"text-yellow-600 mb-1",children:["• ",s.hints[U]]},U))]}),a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("input",{type:"text",value:c,onChange:U=>u(U.target.value),onKeyPress:U=>U.key==="Enter"&&pe(),placeholder:"Type your answer here...",className:"w-full text-2xl text-center p-4 border-4 border-indigo-200 rounded-2xl focus:border-indigo-500 focus:outline-none mb-4",disabled:j!=="playing"||S}),a.jsx(X,{variant:"primary",size:"lg",onClick:pe,disabled:!c.trim()||j!=="playing"||S,fullWidth:!0,children:"Submit Answer"})]}),a.jsxs("div",{className:"text-sm text-gray-500 mt-4",children:["Question #",p+1," | Words Used: ",k.size,"/",K.length]})]},`${s.id}-${o}`),a.jsx(Tt,{children:j==="result"&&d!==null&&a.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`rounded-3xl p-6 text-center mb-6 ${d?"bg-green-100 border-4 border-green-300":"bg-red-100 border-4 border-red-300"}`,children:[a.jsx("div",{className:"text-4xl mb-4",children:d?"🎉":x===0?"⏰":"📝"}),a.jsx("h3",{className:`text-2xl font-bold mb-2 ${d?"text-green-700":"text-red-700"}`,children:d?"Excellent Spelling!":x===0?"Time's Up!":"Not Quite Right!"}),a.jsx("p",{className:`text-lg mb-4 ${d?"text-green-600":"text-red-600"}`,children:d?`Perfect! You spelled "${s.word}" correctly!`:`The correct spelling was "${s.word}"`}),!d&&a.jsxs("div",{className:"bg-blue-50 rounded-2xl p-4 mb-4",children:[a.jsx("p",{className:"text-blue-700 font-semibold",children:"Definition:"}),a.jsx("p",{className:"text-blue-600",children:s.definition})]}),d&&a.jsxs(R.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center justify-center gap-2 text-xl font-bold text-green-600 mb-4",children:[a.jsx($t,{className:"h-6 w-6"}),a.jsxs("span",{children:["+",20+Math.floor(x/5)*3+(e?Math.floor(e.level/3)*5:0)+(o==="describe"?10:o==="fill"?5:0)," XP"]}),a.jsx(vr,{className:"h-6 w-6"})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Next word in ",Math.max(0,Math.ceil((3e3-Date.now()%3e3)/1e3))," seconds..."]})]})})]}),a.jsxs("div",{className:"w-80 bg-white shadow-2xl p-6 overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx(js,{className:"h-6 w-6 text-indigo-600 mr-2"}),a.jsx("h2",{className:"text-2xl font-bold text-indigo-600",children:"Your Progress"})]}),a.jsxs(R.div,{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-4 border-2 border-indigo-200 mb-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(gn,{color:e.avatarColor,accessory:e.avatarAccessory,size:"md",animated:!0}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"font-bold text-gray-800",children:e.nickname}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(kx,{className:"h-4 w-4 text-red-400 mr-1"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Level ",e.level]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"bg-white rounded-lg p-2 text-center",children:[a.jsx("div",{className:"font-bold text-indigo-600",children:e.xp}),a.jsx("div",{className:"text-gray-500",children:"Total XP"})]}),a.jsxs("div",{className:"bg-white rounded-lg p-2 text-center",children:[a.jsx("div",{className:"font-bold text-blue-600",children:e.currentStreak}),a.jsx("div",{className:"text-gray-500",children:"Streak"})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-4 border-2 border-blue-200 mb-6",children:[a.jsxs("h3",{className:"font-bold text-blue-600 mb-3 flex items-center",children:[a.jsx(ms,{className:"h-5 w-5 mr-2"}),"Today's Performance"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Words Attempted"}),a.jsx("span",{className:"font-bold text-blue-600",children:A.totalSolved})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Correct Spellings"}),a.jsx("span",{className:"font-bold text-green-600",children:A.correctAnswers})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Accuracy"}),a.jsxs("span",{className:"font-bold text-purple-600",children:[re(),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"XP Earned Today"}),a.jsx("span",{className:"font-bold text-yellow-600",children:A.xpEarned})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-4 border-2 border-green-200 mb-6",children:[a.jsx("h3",{className:"font-bold text-green-600 mb-3",children:"Session Progress"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Words Completed"}),a.jsx("span",{className:"font-bold text-green-600",children:k.size})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Words Remaining"}),a.jsx("span",{className:"font-bold text-blue-600",children:K.length-k.size})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${K.length>0?k.size/K.length*100:0}%`}})})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-4 border-2 border-purple-200 mb-6",children:[a.jsx("h3",{className:"font-bold text-purple-600 mb-3",children:"Game Modes"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:`flex justify-between p-2 rounded ${o==="listen"?"bg-purple-200":"bg-white"}`,children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(si,{className:"h-4 w-4 mr-2"}),"Listen & Type"]}),a.jsx("span",{className:"text-xs",children:"Base XP"})]}),a.jsxs("div",{className:`flex justify-between p-2 rounded ${o==="fill"?"bg-purple-200":"bg-white"}`,children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Zm,{className:"h-4 w-4 mr-2"}),"Fill Blanks"]}),a.jsx("span",{className:"text-xs",children:"+5 XP Bonus"})]}),a.jsxs("div",{className:`flex justify-between p-2 rounded ${o==="describe"?"bg-purple-200":"bg-white"}`,children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(yu,{className:"h-4 w-4 mr-2"}),"From Description"]}),a.jsx("span",{className:"text-xs",children:"+10 XP Bonus"})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl p-4 border-2 border-yellow-200 mb-6",children:[a.jsx("h3",{className:"font-bold text-orange-600 mb-3",children:"Difficulty Progression"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:`flex justify-between p-2 rounded ${e.level<=5?"bg-green-200":"bg-gray-100"}`,children:[a.jsx("span",{children:"Easy (Levels 1-5)"}),a.jsx("span",{children:e.level<=5?"✓ Current":e.level>5?"✓ Completed":""})]}),a.jsxs("div",{className:`flex justify-between p-2 rounded ${e.level>5&&e.level<=10?"bg-yellow-200":e.level>10?"bg-gray-100":"bg-gray-50"}`,children:[a.jsx("span",{children:"Medium (Levels 6-10)"}),a.jsx("span",{children:e.level>5&&e.level<=10?"✓ Current":e.level>10?"✓ Completed":""})]}),a.jsxs("div",{className:`flex justify-between p-2 rounded ${e.level>10&&e.level<=15?"bg-orange-200":e.level>15?"bg-gray-100":"bg-gray-50"}`,children:[a.jsx("span",{children:"Intermediate (Levels 11-15)"}),a.jsx("span",{children:e.level>10&&e.level<=15?"✓ Current":e.level>15?"✓ Completed":""})]}),a.jsxs("div",{className:`flex justify-between p-2 rounded ${e.level>15&&e.level<=20?"bg-red-200":e.level>20?"bg-gray-100":"bg-gray-50"}`,children:[a.jsx("span",{children:"Difficult (Levels 16-20)"}),a.jsx("span",{children:e.level>15&&e.level<=20?"✓ Current":e.level>20?"✓ Completed":""})]}),a.jsxs("div",{className:`flex justify-between p-2 rounded ${e.level>20?"bg-purple-200":"bg-gray-50"}`,children:[a.jsx("span",{children:"Extreme (Levels 21+)"}),a.jsx("span",{children:e.level>20?"✓ Current":""})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 rounded-2xl p-4 border-2 border-amber-200",children:[a.jsxs("h3",{className:"font-bold text-amber-600 mb-3 flex items-center",children:[a.jsx(vr,{className:"h-5 w-5 mr-2"}),"Achievements"]}),a.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[{emoji:"🏆",unlocked:e.level>=5,name:"Level 5"},{emoji:"⭐",unlocked:e.currentStreak>=5,name:"5 Streak"},{emoji:"🎯",unlocked:re()>=80,name:"80% Accuracy"},{emoji:"🧠",unlocked:e.level>=10,name:"Level 10"},{emoji:"🎉",unlocked:A.totalSolved>=10,name:"10 Today"},{emoji:"💎",unlocked:e.currentStreak>=10,name:"10 Streak"},{emoji:"🌟",unlocked:e.level>=15,name:"Level 15"},{emoji:"🏅",unlocked:e.bestStreak>=20,name:"Best Streak"}].map((U,ie)=>a.jsx(R.div,{className:`w-12 h-12 rounded-lg flex items-center justify-center text-2xl ${U.unlocked?"bg-yellow-200 border-2 border-yellow-400":"bg-gray-100 border-2 border-gray-300 opacity-50"}`,initial:{scale:0},animate:{scale:U.unlocked?1:.8},transition:{delay:ie*.1},title:U.name,children:U.emoji},ie))}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-sm font-medium text-amber-600",children:"Keep spelling to unlock more achievements!"})})]})]})]})},vC=()=>{const e=vt(),{user:t,isProfileComplete:n}=Ve();v.useEffect(()=>{n||e("/profile-setup")},[n,e]);const r=()=>{e("/lobby")};return t?a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx("header",{className:"py-4 px-4 md:px-8 bg-white shadow-sm relative z-10",children:a.jsx("div",{className:"container mx-auto",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(X,{variant:"secondary",size:"sm",onClick:r,icon:a.jsx(Qn,{className:"h-4 w-4"}),children:"Back to Lobby"}),a.jsxs("div",{className:"ml-4 flex items-center",children:[a.jsx(gt,{className:"h-6 w-6 text-primary-600 mr-2"}),a.jsx("span",{className:"text-xl font-bold text-primary-600",children:"SmartPlay"})]})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("div",{className:"mr-2 md:mr-4",children:a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Practice Mode"})})})]})})}),a.jsx("main",{className:"flex-grow",children:a.jsx(xC,{})})]}):null},wC=()=>{const{user:e,recordAnswer:t,addSticker:n}=Ve(),[r,s]=v.useState(0),[i,o]=v.useState(0),[l,c]=v.useState(new Set),[u,d]=v.useState(!1),[h,f]=v.useState(!1),[g,x]=v.useState(null),[w,j]=v.useState(null),[m,p]=v.useState(!1),[y,k]=v.useState(!0),[b,S]=v.useState(new Set),[_,P]=v.useState({width:window.innerWidth,height:window.innerHeight}),$=[{id:1,title:"The Tortoise and the Hare",content:["Once upon a time, in a peaceful meadow, there lived a speedy hare who was very proud of how fast he could run.","One day, the hare met a slow-moving tortoise and began to laugh at him. 'You are so slow!' said the hare mockingly.","The tortoise, feeling hurt but determined, challenged the hare to a race. 'Let's see who can reach the big oak tree first!'","The hare laughed and accepted, thinking it would be the easiest race of his life. All the forest animals gathered to watch.","When the race began, the hare zoomed ahead so quickly that the tortoise was just a tiny speck behind him.","Feeling confident about his huge lead, the hare decided to take a nap under a shady tree. 'I have plenty of time,' he thought.","Meanwhile, the tortoise kept moving forward, step by step, never stopping or giving up, even though he was tired.","When the hare woke up, he was shocked to see the tortoise near the finish line! He ran as fast as he could, but it was too late.","The tortoise had won the race! All the animals cheered for the determined tortoise who never gave up."],moral:"Slow and steady wins the race. Consistency and determination are more valuable than natural talent without effort.",scenes:[{background:"meadow",characters:[{characterId:"hare",position:{x:70,y:60},size:"medium",animation:"talking",emotion:"happy"}],props:[{type:"tree",position:{x:20,y:40}},{type:"flower",position:{x:80,y:70}}],atmosphere:"sunny"},{background:"meadow",characters:[{characterId:"hare",position:{x:60,y:50},size:"medium",animation:"talking",emotion:"angry"},{characterId:"tortoise",position:{x:40,y:60},size:"medium",animation:"idle",emotion:"sad"}],props:[{type:"tree",position:{x:20,y:40}},{type:"flower",position:{x:80,y:70}}],atmosphere:"sunny"},{background:"meadow",characters:[{characterId:"hare",position:{x:50,y:50},size:"medium",animation:"idle",emotion:"surprised"},{characterId:"tortoise",position:{x:50,y:60},size:"medium",animation:"talking",emotion:"neutral"}],props:[{type:"tree",position:{x:85,y:30}},{type:"path",position:{x:50,y:80}}],atmosphere:"sunny"},{background:"forest",characters:[{characterId:"hare",position:{x:30,y:50},size:"medium",animation:"idle",emotion:"happy"},{characterId:"tortoise",position:{x:70,y:60},size:"medium",animation:"idle",emotion:"neutral"}],props:[{type:"tree",position:{x:85,y:30}},{type:"path",position:{x:50,y:80}},{type:"finish-line",position:{x:85,y:50}}],atmosphere:"sunny"},{background:"forest",characters:[{characterId:"hare",position:{x:80,y:50},size:"medium",animation:"running",emotion:"happy"},{characterId:"tortoise",position:{x:20,y:60},size:"small",animation:"walking",emotion:"neutral"}],props:[{type:"tree",position:{x:85,y:30}},{type:"path",position:{x:50,y:80}},{type:"finish-line",position:{x:85,y:50}}],atmosphere:"sunny"},{background:"forest",characters:[{characterId:"hare",position:{x:60,y:40},size:"medium",animation:"sleeping",emotion:"neutral"},{characterId:"tortoise",position:{x:40,y:60},size:"medium",animation:"walking",emotion:"neutral"}],props:[{type:"tree",position:{x:65,y:30}},{type:"path",position:{x:50,y:80}},{type:"finish-line",position:{x:85,y:50}}],atmosphere:"sunny"},{background:"forest",characters:[{characterId:"hare",position:{x:60,y:40},size:"medium",animation:"sleeping",emotion:"neutral"},{characterId:"tortoise",position:{x:60,y:60},size:"medium",animation:"walking",emotion:"neutral"}],props:[{type:"tree",position:{x:65,y:30}},{type:"path",position:{x:50,y:80}},{type:"finish-line",position:{x:85,y:50}}],atmosphere:"sunny"},{background:"forest",characters:[{characterId:"hare",position:{x:70,y:50},size:"medium",animation:"running",emotion:"surprised"},{characterId:"tortoise",position:{x:80,y:60},size:"medium",animation:"walking",emotion:"happy"}],props:[{type:"tree",position:{x:65,y:30}},{type:"path",position:{x:50,y:80}},{type:"finish-line",position:{x:85,y:50}}],atmosphere:"sunny"},{background:"forest",characters:[{characterId:"hare",position:{x:70,y:50},size:"medium",animation:"idle",emotion:"sad"},{characterId:"tortoise",position:{x:85,y:50},size:"medium",animation:"idle",emotion:"happy"}],props:[{type:"tree",position:{x:65,y:30}},{type:"path",position:{x:50,y:80}},{type:"finish-line",position:{x:85,y:50}}],atmosphere:"sunny"}],characters:[{id:"hare",name:"Hare",emoji:"🐰",color:"#8B4513"},{id:"tortoise",name:"Tortoise",emoji:"🐢",color:"#228B22"}],interactiveElements:{type:"choice",data:{question:"What lesson did the hare learn?",options:["Speed is everything","Never give up and stay consistent","Always take naps during races","Tortoises are faster than hares"],correct:1,explanation:"The hare learned that being consistent and never giving up (like the tortoise) is more important than just being fast. The tortoise won because he kept going steadily while the hare got overconfident and took a nap."}}},{id:2,title:"The Boy Who Cried Wolf",content:["In a small village, there lived a young shepherd boy whose job was to watch over the sheep in the hills.","The boy often felt lonely and bored while watching the sheep graze all day long in the quiet meadow.","One day, feeling mischievous, he decided to play a trick on the villagers. 'Wolf! Wolf!' he cried loudly.","The kind villagers immediately dropped what they were doing and rushed up the hill to help save the sheep.","When they arrived, they found the boy laughing. 'There's no wolf!' he giggled. 'I was just having fun!'","The villagers were not amused and warned him never to lie again. But the boy didn't listen to their advice.","A few days later, the boy cried 'Wolf!' again. Once more, the villagers came running to help him.","Again, there was no wolf, and the boy laughed at his trick. The villagers were very angry this time.","Then one day, a real wolf appeared and began chasing the sheep! 'Wolf! Wolf!' cried the boy desperately.","But this time, no one came to help. The villagers thought he was lying again, and the wolf scattered the sheep."],moral:"Honesty is the best policy. When you lie repeatedly, people stop believing you, even when you tell the truth.",scenes:[{background:"meadow",characters:[{characterId:"boy",position:{x:50,y:50},size:"medium",animation:"idle",emotion:"neutral"},{characterId:"sheep",position:{x:30,y:70},size:"small",animation:"idle",emotion:"neutral"}],props:[{type:"tree",position:{x:20,y:40}},{type:"flower",position:{x:80,y:70}}],atmosphere:"sunny"}],characters:[{id:"boy",name:"Shepherd Boy",emoji:"👦",color:"#4169E1"},{id:"wolf",name:"Wolf",emoji:"🐺",color:"#696969"},{id:"sheep",name:"Sheep",emoji:"🐑",color:"#F5F5DC"},{id:"villagers",name:"Villagers",emoji:"👥",color:"#8B4513"}],interactiveElements:{type:"choice",data:{question:"Why didn't the villagers come when there was a real wolf?",options:["They were too busy with their work","They didn't hear the boy calling","They thought he was lying again","They were afraid of the wolf"],correct:2,explanation:"The villagers didn't come because the boy had lied to them twice before. When someone lies repeatedly, people stop trusting them, even when they're finally telling the truth. This is why honesty is so important."}}},{id:3,title:"The Ant and the Grasshopper",content:["In a sunny meadow, there lived a hardworking ant and a carefree grasshopper who were neighbors.","All summer long, the ant worked tirelessly, collecting grains and storing food for the winter ahead.","The grasshopper, however, spent his days singing, dancing, and playing in the warm sunshine.","'Why do you work so hard?' asked the grasshopper. 'Come and play with me! Summer is for fun!'","The wise ant replied, 'I must prepare for winter when food will be scarce. You should do the same.'","But the grasshopper just laughed and continued to play, thinking the ant was being silly and boring.","As the days grew shorter and colder, the ant's storehouse was full of food for the winter.","When winter arrived with snow and ice, the grasshopper had no food and was very hungry and cold.","The grasshopper went to the ant's house and begged for food. 'Please help me, I'm starving!'","The kind ant shared his food and taught the grasshopper the importance of hard work and planning ahead."],moral:"Hard work and preparation today will help you succeed tomorrow. It's important to plan for the future.",scenes:[{background:"meadow",characters:[{characterId:"ant",position:{x:40,y:60},size:"small",animation:"working",emotion:"neutral"},{characterId:"grasshopper",position:{x:70,y:50},size:"medium",animation:"idle",emotion:"happy"}],props:[{type:"anthill",position:{x:30,y:70}},{type:"flower",position:{x:80,y:30}}],atmosphere:"sunny"}],characters:[{id:"ant",name:"Ant",emoji:"🐜",color:"#8B4513"},{id:"grasshopper",name:"Grasshopper",emoji:"🦗",color:"#228B22"}],interactiveElements:{type:"choice",data:{question:"What did the ant do that the grasshopper didn't?",options:["Played music all day","Prepared for winter by working hard","Slept through the summer","Ignored the grasshopper completely"],correct:1,explanation:"The ant worked hard all summer to collect and store food for winter, while the grasshopper only played. This preparation helped the ant survive the cold winter when food was scarce."}}},{id:4,title:"The Lion and the Mouse",content:["Deep in the African savanna, a mighty lion was taking a peaceful nap under the shade of an acacia tree.","A tiny mouse was scurrying around looking for food when he accidentally ran across the lion's paw.","The lion woke up with a roar and caught the little mouse in his powerful claws. 'How dare you wake me!'","'Please don't eat me!' squeaked the mouse. 'I'm sorry! If you let me go, I promise to help you someday.'","The lion laughed loudly. 'You? Help me? You're so tiny! But you amuse me, so I'll let you go.'","The grateful mouse scampered away, promising to remember the lion's kindness forever.","A few weeks later, hunters came and trapped the lion in a strong net while he was hunting.","The lion roared and struggled, but the ropes were too strong. He was trapped and couldn't escape.","The little mouse heard the lion's roars and remembered his promise. He quickly ran to help.","With his sharp teeth, the mouse gnawed through the ropes until the lion was free. 'Thank you, little friend!'"],moral:"No act of kindness is ever wasted. Even the smallest person can help the mightiest when they need it most.",scenes:[{background:"desert",characters:[{characterId:"lion",position:{x:60,y:50},size:"large",animation:"sleeping",emotion:"neutral"},{characterId:"mouse",position:{x:65,y:60},size:"small",animation:"walking",emotion:"neutral"}],props:[{type:"tree",position:{x:70,y:30}},{type:"rock",position:{x:30,y:70}}],atmosphere:"sunny"}],characters:[{id:"lion",name:"Lion",emoji:"🦁",color:"#DAA520"},{id:"mouse",name:"Mouse",emoji:"🐭",color:"#696969"}],interactiveElements:{type:"choice",data:{question:"How did the mouse help the lion?",options:["By bringing him food","By gnawing through the ropes that trapped him","By calling other animals for help","By scaring away the hunters"],correct:1,explanation:"The mouse used his sharp teeth to gnaw through the ropes that trapped the lion in the hunters' net. This shows that even small acts of kindness can make a big difference."}}},{id:5,title:"The Ugly Duckling",content:["On a peaceful farm by a pond, a mother duck was sitting on her nest, waiting for her eggs to hatch.","One by one, the eggs cracked open and out came beautiful yellow ducklings, chirping happily.","But the last egg was much larger, and when it finally hatched, out came a gray, awkward-looking duckling.","The other ducklings laughed and called him ugly. 'You don't look like us at all!' they said meanly.","The poor duckling felt very sad and lonely. Even his mother seemed disappointed in how he looked.","Feeling unwanted, the ugly duckling decided to leave the farm and find somewhere he belonged.","He wandered through forests and fields, always being rejected by other animals who thought he was strange.","Through the long, cold winter, the duckling survived alone, growing bigger and stronger each day.","When spring arrived, the duckling saw his reflection in the pond and gasped in amazement.","He had grown into a beautiful, graceful swan! The other swans welcomed him with joy, and he finally found his true family."],moral:"Don't judge others by their appearance. Everyone has their own unique beauty and will find where they belong.",scenes:[{background:"farm",characters:[{characterId:"mother-duck",position:{x:50,y:50},size:"medium",animation:"idle",emotion:"happy"},{characterId:"ugly-duckling",position:{x:60,y:60},size:"small",animation:"idle",emotion:"sad"},{characterId:"duckling",position:{x:40,y:60},size:"small",animation:"idle",emotion:"happy"}],props:[{type:"pond",position:{x:30,y:70}},{type:"barn",position:{x:80,y:40}}],atmosphere:"sunny"}],characters:[{id:"mother-duck",name:"Mother Duck",emoji:"🦆",color:"#DAA520"},{id:"ugly-duckling",name:"Ugly Duckling",emoji:"🐣",color:"#696969"},{id:"duckling",name:"Duckling",emoji:"🐥",color:"#FFD700"},{id:"swan",name:"Swan",emoji:"🦢",color:"#FFFFFF"}],interactiveElements:{type:"choice",data:{question:"What did the ugly duckling discover about himself?",options:["He was actually a beautiful swan","He could fly faster than other ducks","He was the smartest duckling","He could swim underwater"],correct:0,explanation:"The ugly duckling discovered that he was actually a beautiful swan, not a duck at all. This teaches us that everyone has their own unique beauty and will find where they truly belong."}}},{id:6,title:"The Golden Goose",content:["In a small village, there lived a kind woodcutter with three sons. The youngest son was often called 'Simpleton' by others.","One day, the youngest son went into the forest to cut wood and shared his simple meal with a hungry old man.","The grateful old man gave him a magical gift: a goose with feathers of pure gold that sparkled in the sunlight.","As the boy walked through the village with his golden goose, people were amazed by its beauty.","A greedy innkeeper's daughter tried to pluck a golden feather, but her hand got stuck to the goose!","Her sister tried to pull her free, but she got stuck too! Soon, a whole line of people were stuck together.","The silly parade of stuck people made everyone in the village laugh, including the sad princess in the castle.","The king had promised that whoever could make his daughter laugh would marry her and inherit the kingdom.","The kind young man had succeeded where many others had failed, all because of his generous heart.","The princess and the woodcutter's son were married, and they ruled the kingdom with kindness and wisdom."],moral:"Kindness and generosity are rewarded. When you help others, good things come back to you.",scenes:[{background:"forest",characters:[{characterId:"woodcutter-son",position:{x:50,y:50},size:"medium",animation:"talking",emotion:"happy"},{characterId:"old-man",position:{x:30,y:60},size:"medium",animation:"idle",emotion:"happy"}],props:[{type:"tree",position:{x:70,y:30}},{type:"tree",position:{x:20,y:40}}],atmosphere:"sunny"}],characters:[{id:"woodcutter-son",name:"Kind Son",emoji:"👦",color:"#8B4513"},{id:"old-man",name:"Old Man",emoji:"👴",color:"#696969"},{id:"golden-goose",name:"Golden Goose",emoji:"🪿",color:"#FFD700"},{id:"princess",name:"Princess",emoji:"👸",color:"#FF69B4"}],interactiveElements:{type:"choice",data:{question:"Why did the young man receive the golden goose?",options:["He was the strongest woodcutter","He shared his food with a hungry old man","He found it in the forest","He bought it from a merchant"],correct:1,explanation:"The young man received the golden goose because he was kind and generous, sharing his simple meal with a hungry old man. His kindness was rewarded with a magical gift."}}},{id:7,title:"The Little Red Hen",content:["On a busy farm, there lived a hardworking little red hen with her friends: a lazy cat, dog, and pig.","One day, the hen found some grains of wheat scattered on the ground near the barn.","'Who will help me plant this wheat?' asked the little red hen, holding up the golden grains.","'Not I,' said the cat, who was busy grooming himself. 'Not I,' said the dog, who was napping.","'Not I,' said the pig, who was rolling in the mud. So the little red hen planted the wheat all by herself.","When the wheat grew tall and golden, the hen asked, 'Who will help me harvest this wheat?'","Again, all her friends said 'Not I,' and made excuses. The hen harvested the wheat alone.","'Who will help me grind this wheat into flour?' she asked. Once more, everyone refused to help.","Finally, when the delicious bread was baked and smelled wonderful, everyone wanted to share it.","'Who will help me eat this bread?' asked the hen. 'I will!' said everyone. But the hen said, 'No, I'll eat it myself. Those who don't work, don't eat.'"],moral:"If you want to enjoy the rewards, you must be willing to do the work. Hard work deserves fair rewards.",scenes:[{background:"farm",characters:[{characterId:"red-hen",position:{x:50,y:50},size:"medium",animation:"working",emotion:"neutral"},{characterId:"cat",position:{x:70,y:40},size:"small",animation:"idle",emotion:"neutral"},{characterId:"dog",position:{x:30,y:60},size:"small",animation:"sleeping",emotion:"neutral"}],props:[{type:"barn",position:{x:80,y:30}},{type:"field",position:{x:40,y:70}}],atmosphere:"sunny"}],characters:[{id:"red-hen",name:"Little Red Hen",emoji:"🐓",color:"#DC143C"},{id:"cat",name:"Cat",emoji:"🐱",color:"#FFA500"},{id:"dog",name:"Dog",emoji:"🐶",color:"#8B4513"},{id:"pig",name:"Pig",emoji:"🐷",color:"#FFB6C1"}],interactiveElements:{type:"choice",data:{question:"Why didn't the hen share her bread?",options:["She was too hungry to share","The bread was too small","Her friends didn't help with the work","She forgot to ask them"],correct:2,explanation:"The hen didn't share because her friends refused to help with any of the work - planting, harvesting, grinding, or baking. She taught them that those who don't contribute to the work shouldn't expect to share in the rewards."}}},{id:8,title:"The City Mouse and the Country Mouse",content:["In a peaceful countryside, there lived a simple country mouse who was content with his quiet life.","One day, his cousin from the big city came to visit, dressed in fine clothes and looking very important.","The country mouse offered his guest simple food: grains, nuts, and fresh water from the stream.","The city mouse wrinkled his nose. 'This food is so plain! Come with me to the city and see how I live!'","Curious about city life, the country mouse agreed to visit his cousin's home in the bustling city.","In the city, they snuck into a grand mansion where the city mouse lived, full of rich foods and luxuries.","Just as they began to feast on cheese and cake, a huge cat appeared and chased them around the house!","They barely escaped, but then a dog started barking and chasing them through the halls.","The frightened country mouse said, 'Thank you for showing me your life, but I prefer my peaceful home.'","He returned to his simple burrow, realizing that a safe, peaceful life is better than a dangerous, luxurious one."],moral:"A simple, peaceful life is better than a luxurious but dangerous one. Happiness comes from contentment, not riches.",scenes:[{background:"meadow",characters:[{characterId:"country-mouse",position:{x:40,y:60},size:"small",animation:"idle",emotion:"happy"},{characterId:"city-mouse",position:{x:60,y:50},size:"small",animation:"talking",emotion:"proud"}],props:[{type:"tree",position:{x:20,y:40}},{type:"flower",position:{x:80,y:70}}],atmosphere:"sunny"}],characters:[{id:"country-mouse",name:"Country Mouse",emoji:"🐭",color:"#8B4513"},{id:"city-mouse",name:"City Mouse",emoji:"🐭",color:"#696969"},{id:"cat",name:"Cat",emoji:"🐱",color:"#000000"},{id:"dog",name:"Dog",emoji:"🐶",color:"#8B4513"}],interactiveElements:{type:"choice",data:{question:"Why did the country mouse return home?",options:["He missed his family","The city food was too rich","He preferred his safe, peaceful life","He got lost in the city"],correct:2,explanation:"The country mouse returned home because he realized that his simple, safe, and peaceful life was better than the city's luxury that came with constant danger from cats and dogs."}}},{id:9,title:"The Fox and the Grapes",content:["On a hot summer day, a hungry fox was walking through a vineyard looking for something to eat.","High above his head, he spotted a bunch of beautiful, juicy grapes hanging from a vine.","The grapes looked perfectly ripe and delicious, glistening in the warm sunlight like purple jewels.","The fox's mouth watered as he imagined how sweet and refreshing those grapes would taste.","He jumped as high as he could, stretching his paws toward the grapes, but they were too high.","Again and again he leaped, each time falling short of the tempting bunch of grapes.","After many attempts, the fox was tired and frustrated. His paws hurt and he was out of breath.","Unable to reach the grapes no matter how hard he tried, the fox gave up and walked away.","As he left, he muttered to himself, 'Those grapes were probably sour anyway. I didn't want them!'","But deep down, the fox knew the grapes were sweet - he just couldn't admit that he had failed to get them."],moral:"It's easy to despise what you cannot have. Don't make excuses when you fail - learn from your mistakes instead.",scenes:[{background:"farm",characters:[{characterId:"fox",position:{x:50,y:70},size:"medium",animation:"idle",emotion:"neutral"}],props:[{type:"tree",position:{x:50,y:30}},{type:"rock",position:{x:30,y:80}}],atmosphere:"sunny"}],characters:[{id:"fox",name:"Fox",emoji:"🦊",color:"#FF4500"}],interactiveElements:{type:"choice",data:{question:"What did the fox say about the grapes when he couldn't reach them?",options:["They were too high to reach","They were probably sour anyway","He would try again tomorrow","He needed a ladder to get them"],correct:1,explanation:"The fox said the grapes were probably sour anyway, even though he knew they looked delicious. This teaches us not to make excuses when we fail, but to be honest about our limitations and keep trying to improve."}}},{id:10,title:"The Goose That Laid Golden Eggs",content:["A poor farmer and his wife lived in a small cottage and worked hard just to have enough food each day.","One morning, the farmer went to check on his goose and found something amazing - a golden egg in the nest!","He couldn't believe his eyes. The egg was made of pure gold and was worth more money than he'd ever seen.","Every day after that, the magical goose laid one beautiful golden egg, making the farmer's family rich.","The farmer and his wife were able to buy a bigger house, fine clothes, and all the food they wanted.","But as time passed, the farmer became greedy. 'Why wait for one egg a day?' he thought.","'If I cut open the goose, I can get all the golden eggs at once and become even richer!'","Despite his wife's warnings, the greedy farmer killed the goose, expecting to find many golden eggs inside.","But when he opened the goose, there were no golden eggs inside - it was just like any ordinary goose.","The farmer had lost his magical goose forever. His greed had destroyed the source of his good fortune."],moral:"Greed can destroy good fortune. Be grateful for what you have and don't try to get everything at once.",scenes:[{background:"farm",characters:[{characterId:"farmer",position:{x:50,y:50},size:"medium",animation:"idle",emotion:"happy"},{characterId:"goose",position:{x:70,y:60},size:"medium",animation:"idle",emotion:"neutral"}],props:[{type:"house",position:{x:20,y:40}},{type:"nest",position:{x:75,y:70}}],atmosphere:"sunny"}],characters:[{id:"farmer",name:"Farmer",emoji:"👨‍🌾",color:"#8B4513"},{id:"goose",name:"Golden Goose",emoji:"🪿",color:"#FFD700"},{id:"wife",name:"Farmer's Wife",emoji:"👩‍🌾",color:"#DDA0DD"}],interactiveElements:{type:"choice",data:{question:"What happened when the farmer killed the goose?",options:["He found many golden eggs inside","The goose came back to life","There were no golden eggs inside","Another goose appeared"],correct:2,explanation:"When the farmer killed the goose, there were no golden eggs inside - it was just like any ordinary goose. His greed destroyed the magical source of his wealth, teaching us to be grateful for what we have."}}},{id:11,title:"The Wind and the Sun",content:["High in the sky, the Wind and the Sun were having an argument about who was stronger.","'I am the strongest!' boasted the Wind. 'I can blow down trees and move the clouds across the sky!'","'No, I am stronger,' said the Sun gently. 'My warmth gives life to all plants and animals on Earth.'","Just then, they saw a traveler walking down the road below, wearing a thick, warm coat.","'Let's have a contest,' suggested the Sun. 'Whoever can make that man take off his coat is the strongest.'","The Wind went first, blowing as hard as he could, creating a fierce and howling storm.","But the harder the Wind blew, the tighter the man pulled his coat around himself to stay warm.","The Wind blew and blew until he was exhausted, but the man kept his coat on tightly.","Then it was the Sun's turn. He shone down gently and warmly on the traveler below.","As the Sun's gentle warmth spread, the man became comfortable and happily took off his coat himself."],moral:"Gentleness and kindness are often more powerful than force and aggression. You can achieve more with warmth than with harshness.",scenes:[{background:"mountain",characters:[{characterId:"traveler",position:{x:50,y:70},size:"medium",animation:"walking",emotion:"neutral"}],props:[{type:"mountain",position:{x:20,y:40}},{type:"path",position:{x:50,y:80}},{type:"tree",position:{x:80,y:50}}],atmosphere:"sunny"}],characters:[{id:"wind",name:"Wind",emoji:"💨",color:"#87CEEB"},{id:"sun",name:"Sun",emoji:"☀️",color:"#FFD700"},{id:"traveler",name:"Traveler",emoji:"🚶‍♂️",color:"#8B4513"}],interactiveElements:{type:"choice",data:{question:"How did the Sun succeed where the Wind failed?",options:["By blowing harder than the Wind","By using gentle warmth instead of force","By asking the man politely","By creating a rainstorm"],correct:1,explanation:"The Sun succeeded by using gentle warmth instead of force. While the Wind's harsh blowing made the man hold his coat tighter, the Sun's gentle warmth made him comfortable enough to remove it willingly."}}},{id:12,title:"The Honest Woodcutter",content:["Near a deep, clear river lived a poor but honest woodcutter who worked hard every day to feed his family.","One morning, while cutting wood by the riverbank, his old iron axe slipped from his hands and fell into the water.","The woodcutter was very upset because the axe was his only tool, and without it, he couldn't work or earn money.","As he sat by the river feeling sad, a magical water spirit appeared from the sparkling water.","'Why are you crying?' asked the kind spirit. The woodcutter explained about his lost axe.","The spirit dove into the river and came back with a beautiful golden axe. 'Is this yours?' she asked.","'No,' said the honest woodcutter. 'My axe was made of iron, not gold. That's not mine.'","The spirit dove again and returned with a silver axe. 'Is this the one?' she asked hopefully.","'No,' he replied truthfully. 'Mine was just a simple iron axe. I cannot lie to you.'","Impressed by his honesty, the spirit gave him all three axes - the golden, silver, and his original iron axe as a reward for his truthfulness."],moral:"Honesty is always rewarded. Being truthful, even when it's difficult, brings the greatest rewards.",scenes:[{background:"forest",characters:[{characterId:"woodcutter",position:{x:40,y:60},size:"medium",animation:"idle",emotion:"sad"},{characterId:"water-spirit",position:{x:70,y:50},size:"medium",animation:"flying",emotion:"happy"}],props:[{type:"river",position:{x:70,y:70}},{type:"tree",position:{x:20,y:40}},{type:"tree",position:{x:90,y:30}}],atmosphere:"sunny"}],characters:[{id:"woodcutter",name:"Woodcutter",emoji:"👨‍🌾",color:"#8B4513"},{id:"water-spirit",name:"Water Spirit",emoji:"🧚‍♀️",color:"#87CEEB"}],interactiveElements:{type:"choice",data:{question:"Why did the water spirit give the woodcutter all three axes?",options:["Because he was poor and needed money","Because he was honest and told the truth","Because he worked very hard","Because he was polite to the spirit"],correct:1,explanation:"The water spirit rewarded the woodcutter with all three axes because he was completely honest. Even when offered valuable golden and silver axes, he truthfully said they weren't his, showing that honesty brings the greatest rewards."}}}];v.useEffect(()=>{const M=()=>{P({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]);const T=$[r],G=T.content.length,K=T.scenes[Math.min(i,T.scenes.length-1)],oe=()=>{i<G-1?o(i+1):u?se():d(!0)},W=()=>{u?d(!1):i>0&&o(i-1)},se=()=>{l.has(T.id)||(c(M=>new Set([...M,T.id])),f(!0),t(!0,20),n(`story-${T.id}`),setTimeout(()=>f(!1),3e3)),o(0),d(!1),x(null),j(null),S(new Set)},ue=M=>{s(M),o(0),d(!1),x(null),j(null),S(new Set)},B=M=>{if(g!==null)return;const q=M===T.interactiveElements.data.correct,pe=T.interactiveElements.data.options[M],N=T.interactiveElements.data.options[T.interactiveElements.data.correct];x(M),j({isCorrect:q,selectedOption:pe,correctOption:N,explanation:T.interactiveElements.data.explanation}),t(q,q?10:0),q&&(f(!0),setTimeout(()=>f(!1),2e3)),setTimeout(()=>{x(null),j(null),oe()},4e3)},E=M=>{S(q=>new Set([...q,M]))},F=M=>{if(g===null)return"bg-gradient-to-r from-yellow-400 to-orange-400 text-white hover:from-yellow-500 hover:to-orange-500";const q=M===T.interactiveElements.data.correct,pe=g===M;return q?"bg-green-400 text-white border-4 border-green-600":pe&&!q?"bg-red-400 text-white border-4 border-red-600":"bg-gray-300 text-gray-500"},A=M=>{switch(M){case"sunny":return"from-blue-300 via-blue-200 to-green-200";case"cloudy":return"from-gray-300 via-gray-200 to-blue-200";case"night":return"from-purple-900 via-blue-900 to-black";case"forest":return"from-green-400 via-green-300 to-yellow-200";case"meadow":return"from-green-200 via-yellow-100 to-blue-200";case"desert":return"from-yellow-300 via-orange-200 to-red-200";case"ocean":return"from-blue-400 via-cyan-300 to-teal-200";case"mountain":return"from-gray-400 via-blue-300 to-white";case"city":return"from-gray-300 via-blue-200 to-purple-200";case"farm":return"from-green-300 via-yellow-200 to-brown-200";default:return"from-blue-300 via-blue-200 to-green-200"}},z=M=>{switch(M){case"walking":return{x:[0,5,0,-5,0],y:[0,-2,0,-2,0]};case"running":return{x:[0,10,0,-10,0],y:[0,-5,0,-5,0]};case"sleeping":return{rotate:[0,-5,5,-5,0],scale:[1,.95,1.05,.95,1]};case"talking":return{scale:[1,1.1,1,1.1,1],rotate:[0,2,-2,2,0]};case"working":return{rotate:[0,15,-15,15,0],y:[0,-3,0,-3,0]};case"flying":return{y:[0,-10,0,-10,0],x:[0,3,-3,3,0]};case"swimming":return{x:[0,8,0,-8,0],rotate:[0,5,-5,5,0]};default:return{y:[0,-5,0]}}},Y=M=>{switch(M){case"happy":return"brightness(1.2) saturate(1.3)";case"sad":return"brightness(0.8) saturate(0.7)";case"angry":return"brightness(1.1) saturate(1.5) hue-rotate(10deg)";case"surprised":return"brightness(1.3) saturate(1.2)";case"proud":return"brightness(1.2) saturate(1.4)";case"worried":return"brightness(0.9) saturate(0.8)";default:return"brightness(1)"}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-50 to-blue-100 p-6",children:[h&&a.jsx(Ns,{width:_.width,height:_.height,recycle:!1,numberOfPieces:200,colors:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3"]}),a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-purple-600 mb-2",children:"📚 Interactive Tales — Immersive Story Adventures"}),a.jsx("p",{className:"text-xl md:text-2xl text-purple-500 font-semibold",children:"Step into magical worlds and learn valuable life lessons"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-purple-600 mb-4 flex items-center",children:[a.jsx(gt,{className:"h-6 w-6 mr-2"}),"Story Collection"]}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:$.map((M,q)=>a.jsx(R.button,{className:`w-full p-4 rounded-2xl text-left transition-all ${r===q?"bg-purple-100 border-2 border-purple-400":"bg-gray-50 hover:bg-purple-50 border-2 border-transparent"}`,onClick:()=>ue(q),whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex space-x-1 mb-1",children:M.characters.slice(0,2).map((pe,N)=>a.jsx("span",{className:"text-lg",children:pe.emoji},N))}),a.jsx("div",{className:"font-bold text-gray-800 text-sm",children:M.title})]}),l.has(M.id)&&a.jsx($t,{className:"h-5 w-5 text-yellow-500 fill-current"})]})},M.id))}),a.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl",children:[a.jsx("h3",{className:"font-bold text-purple-600 mb-3",children:"Story Controls"}),a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx(X,{variant:m?"error":"success",size:"sm",onClick:()=>p(!m),icon:m?a.jsx(fN,{className:"h-4 w-4"}):a.jsx(ch,{className:"h-4 w-4"}),children:m?"Pause":"Play"}),a.jsx(X,{variant:"secondary",size:"sm",onClick:()=>k(!y),icon:y?a.jsx(si,{className:"h-4 w-4"}):a.jsx(wN,{className:"h-4 w-4"}),children:"Sound"})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[l.size,"/",$.length]})]}),a.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2",children:a.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${l.size/$.length*100}%`}})})]})]})]})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:T.title}),a.jsxs("div",{className:"flex items-center text-purple-100",children:[a.jsx("div",{className:"flex space-x-2 mr-4",children:T.characters.map((M,q)=>a.jsx(R.span,{className:"text-3xl",animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{repeat:1/0,duration:2+q*.3,ease:"easeInOut"},children:M.emoji},q))}),a.jsx("div",{children:u?a.jsx("span",{children:"Moral of the Story"}):a.jsxs("span",{children:["Page ",i+1," of ",G]})})]})]}),l.has(T.id)&&a.jsxs("div",{className:"flex items-center bg-white/20 rounded-full px-4 py-2",children:[a.jsx(fs,{className:"h-5 w-5 mr-2"}),a.jsx("span",{children:"Completed!"})]})]})}),a.jsxs("div",{className:"p-4 bg-yellow-50",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[a.jsx("span",{className:"font-medium",children:"Story Progress"}),a.jsx("span",{className:"font-bold",children:u?"Complete!":`${i+1}/${G} pages`})]}),a.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-3",children:a.jsx(R.div,{className:"bg-gradient-to-r from-yellow-400 to-orange-400 h-3 rounded-full flex items-center justify-end pr-2",initial:{width:0},animate:{width:u?"100%":`${(i+1)/G*100}%`},transition:{duration:.5},children:i>0&&a.jsx(wu,{className:"h-3 w-3 text-white"})})})]}),a.jsxs("div",{className:"p-8",children:[a.jsx(Tt,{mode:"wait",children:u?a.jsxs(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"min-h-[400px] flex flex-col justify-center items-center text-center",children:[a.jsx("div",{className:"text-8xl mb-8",children:"🌟"}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-3xl p-8 border-4 border-yellow-300",children:[a.jsx("h3",{className:"text-2xl font-bold text-orange-700 mb-4",children:"Moral of the Story"}),a.jsx("p",{className:"text-xl md:text-2xl leading-relaxed text-orange-600 font-medium",children:T.moral})]}),!l.has(T.id)&&a.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mt-8",children:a.jsx(X,{variant:"success",size:"lg",onClick:se,icon:a.jsx($t,{className:"h-5 w-5"}),children:"Complete Story (+20 XP)"})})]}):a.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"min-h-[500px] flex flex-col",children:[a.jsxs("div",{className:`relative h-80 rounded-3xl overflow-hidden mb-8 bg-gradient-to-br ${A((K==null?void 0:K.atmosphere)||"sunny")}`,children:[a.jsxs("div",{className:"absolute inset-0",children:[a.jsxs("div",{className:"absolute top-0 left-0 w-full h-1/3 opacity-30",children:[(K==null?void 0:K.atmosphere)==="sunny"&&a.jsx(R.div,{className:"absolute top-4 right-8 w-16 h-16 bg-yellow-300 rounded-full",animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"}}),(K==null?void 0:K.atmosphere)==="night"&&a.jsx(R.div,{className:"absolute top-4 right-8 w-12 h-12 bg-yellow-100 rounded-full",animate:{opacity:[.5,1,.5]},transition:{duration:3,repeat:1/0}})]}),a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1/4 bg-green-300 opacity-60 rounded-t-full"}),K==null?void 0:K.props.map((M,q)=>a.jsxs(R.div,{className:"absolute cursor-pointer",style:{left:`${M.position.x}%`,top:`${M.position.y}%`,transform:"translate(-50%, -50%)"},onClick:()=>M.interactive&&E(`prop-${q}`),whileHover:M.interactive?{scale:1.1}:{},animate:b.has(`prop-${q}`)?{scale:[1,1.2,1]}:{},children:[M.type==="tree"&&a.jsx("div",{className:"text-6xl",children:"🌳"}),M.type==="rock"&&a.jsx("div",{className:"text-4xl",children:"🪨"}),M.type==="flower"&&a.jsx("div",{className:"text-3xl",children:"🌸"}),M.type==="house"&&a.jsx("div",{className:"text-5xl",children:"🏠"}),M.type==="path"&&a.jsx("div",{className:"w-32 h-4 bg-yellow-600 rounded-full opacity-70"}),M.type==="finish-line"&&a.jsx("div",{className:"text-4xl",children:"🏁"}),M.type==="mountain"&&a.jsx("div",{className:"text-6xl",children:"⛰️"}),M.type==="river"&&a.jsx("div",{className:"w-40 h-6 bg-blue-400 rounded-full opacity-80"}),M.type==="bridge"&&a.jsx("div",{className:"text-4xl",children:"🌉"}),M.type==="nest"&&a.jsx("div",{className:"text-3xl",children:"🪺"}),M.type==="anthill"&&a.jsx("div",{className:"text-3xl",children:"🏔️"}),M.type==="pond"&&a.jsx("div",{className:"w-20 h-12 bg-blue-300 rounded-full opacity-80"}),M.type==="barn"&&a.jsx("div",{className:"text-5xl",children:"🏚️"}),M.type==="field"&&a.jsx("div",{className:"w-24 h-8 bg-yellow-400 rounded opacity-70"}),M.type==="city"&&a.jsx("div",{className:"text-5xl",children:"🏙️"}),M.type==="desert-cactus"&&a.jsx("div",{className:"text-5xl",children:"🌵"}),M.type==="oasis"&&a.jsx("div",{className:"text-4xl",children:"🏝️"})]},`prop-${q}`)),K==null?void 0:K.characters.map((M,q)=>{const pe=T.characters.find(N=>N.id===M.characterId);return pe?a.jsxs(R.div,{className:"absolute cursor-pointer",style:{left:`${M.position.x}%`,top:`${M.position.y}%`,transform:"translate(-50%, -50%)",filter:Y(M.emotion)},animate:z(M.animation),transition:{duration:2,repeat:1/0,ease:"easeInOut"},onClick:()=>E(`char-${M.characterId}`),whileHover:{scale:1.1},children:[a.jsx("div",{className:`${M.size==="small"?"text-4xl":M.size==="large"?"text-8xl":"text-6xl"}`,children:pe.emoji}),a.jsx("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded opacity-0 hover:opacity-100 transition-opacity whitespace-nowrap",children:pe.name}),a.jsxs("div",{className:"absolute -top-2 -right-2 text-lg",children:[M.emotion==="happy"&&"😊",M.emotion==="sad"&&"😢",M.emotion==="angry"&&"😠",M.emotion==="surprised"&&"😲",M.emotion==="proud"&&"😌",M.emotion==="worried"&&"😟"]})]},`char-${M.characterId}-${q}`):null})]}),a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from(b).map((M,q)=>a.jsx(R.div,{className:"absolute text-2xl pointer-events-none",style:{left:`${Math.random()*80+10}%`,top:`${Math.random()*60+20}%`},initial:{opacity:1,scale:0},animate:{opacity:0,scale:1,y:-50},transition:{duration:1},children:"✨"},M))})]}),a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-3xl p-8 mb-8",children:a.jsx(R.p,{className:"text-xl md:text-2xl leading-relaxed text-gray-800 font-medium text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:T.content[i]})}),i===G-1&&a.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6",children:T.interactiveElements.type==="choice"&&a.jsxs("div",{className:"bg-yellow-50 rounded-2xl p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-yellow-700 mb-4",children:T.interactiveElements.data.question}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",children:T.interactiveElements.data.options.map((M,q)=>a.jsx(R.button,{className:`text-left justify-start p-4 rounded-xl font-semibold transition-all ${F(q)}`,onClick:()=>B(q),disabled:g!==null,whileHover:g===null?{scale:1.02}:{},whileTap:g===null?{scale:.98}:{},children:M},q))}),a.jsx(Tt,{children:w&&a.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`rounded-2xl p-6 ${w.isCorrect?"bg-green-100 border-4 border-green-300":"bg-red-100 border-4 border-red-300"}`,children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:w.isCorrect?a.jsx(bx,{className:"h-12 w-12 text-green-600"}):a.jsx(ri,{className:"h-12 w-12 text-red-600"})}),a.jsx("h4",{className:`text-2xl font-bold mb-4 text-center ${w.isCorrect?"text-green-700":"text-red-700"}`,children:w.isCorrect?"Excellent! 🎉":"Not quite right! 🤔"}),!w.isCorrect&&a.jsxs("div",{className:"mb-4 p-4 bg-white rounded-2xl",children:[a.jsxs("p",{className:"text-lg font-semibold text-gray-800 mb-2",children:["You chose: ",a.jsxs("span",{className:"text-red-600",children:['"',w.selectedOption,'"']})]}),a.jsxs("p",{className:"text-lg font-semibold text-gray-800 mb-3",children:["Correct answer: ",a.jsxs("span",{className:"text-green-600",children:['"',w.correctOption,'"']})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4",children:[a.jsx("h5",{className:"font-bold text-gray-800 mb-2",children:"Explanation:"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:w.explanation})]}),w.isCorrect&&a.jsxs(R.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center justify-center gap-2 text-xl font-bold text-green-600 mt-4",children:[a.jsx($t,{className:"h-6 w-6"}),a.jsx("span",{children:"+10 XP"}),a.jsx(vr,{className:"h-6 w-6"})]})]})})]})})]},i)}),a.jsxs("div",{className:"flex justify-between items-center mt-8",children:[a.jsx(X,{variant:"secondary",onClick:W,disabled:i===0&&!u,icon:a.jsx(Qn,{className:"h-5 w-5"}),children:"Previous"}),a.jsx("div",{className:"flex space-x-2",children:Array.from({length:G+1}).map((M,q)=>a.jsx("div",{className:`w-3 h-3 rounded-full ${q===i&&!u||q===G&&u?"bg-purple-500":"bg-gray-300"}`},q))}),a.jsx(X,{variant:"primary",onClick:oe,disabled:g!==null&&w===null,icon:a.jsx(nN,{className:"h-5 w-5"}),children:i<G-1?"Next":u?"Complete":"Moral"})]})]})]})})]})]})]})},bC=()=>{const e=vt(),{user:t,isProfileComplete:n}=Ve();v.useEffect(()=>{n||e("/profile-setup")},[n,e]);const r=()=>{e("/lobby")};return t?a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx("header",{className:"py-4 px-4 md:px-8 bg-white shadow-sm relative z-10",children:a.jsx("div",{className:"container mx-auto",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(X,{variant:"secondary",size:"sm",onClick:r,icon:a.jsx(Qn,{className:"h-4 w-4"}),children:"Back to Lobby"}),a.jsxs("div",{className:"ml-4 flex items-center",children:[a.jsx(gt,{className:"h-6 w-6 text-primary-600 mr-2"}),a.jsx("span",{className:"text-xl font-bold text-primary-600",children:"SmartPlay"})]})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("div",{className:"mr-2 md:mr-4",children:a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Moral Stories Mode"})})})]})})}),a.jsx("main",{className:"flex-grow",children:a.jsx(wC,{})})]}):null},jC=()=>{const{user:e,recordAnswer:t,addSticker:n}=Ve(),[r,s]=v.useState(0),[i,o]=v.useState(0),[l,c]=v.useState([]),[u,d]=v.useState([]),[h,f]=v.useState(!1),[g,x]=v.useState(new Set);v.useState(!1),v.useState({}),v.useState([]);const[w,j]=v.useState(!1),[m,p]=v.useState(!1),[y,k]=v.useState(null),[b,S]=v.useState(null),[_,P]=v.useState({width:window.innerWidth,height:window.innerHeight}),$=[{id:1,title:"Twinkle, Twinkle, Little Star",lines:["Twinkle, twinkle, little ____,","How I wonder what you ____.","Up above the world so ____,","Like a diamond in the ____."],blanks:[{word:"star",options:["star","car","jar","bar"],correct:0,explanation:"'Star' rhymes with 'are' and fits the theme of the song about a twinkling star in the sky."},{word:"are",options:["see","are","bee","tree"],correct:1,explanation:"'Are' rhymes with 'star' and makes sense in the question 'what you are'."},{word:"high",options:["low","high","slow","grow"],correct:1,explanation:"'High' rhymes with 'sky' and describes where stars are located - up high in the sky."},{word:"sky",options:["fly","sky","try","cry"],correct:1,explanation:"'Sky' rhymes with 'high' and is where diamonds (stars) appear to be - in the night sky."}],animation:["⭐","✨","🌟","💫"],difficulty:"Easy"},{id:2,title:"Mary, Mary, Quite Contrary",lines:["Mary, Mary, quite ____,","How does your garden ____?","With silver bells and cockleshells,","And pretty maids all in a ____."],blanks:[{word:"contrary",options:["contrary","ordinary","necessary","temporary"],correct:0,explanation:"'Contrary' means opposite or different, and it rhymes with 'Mary' in this traditional nursery rhyme."},{word:"grow",options:["show","grow","flow","glow"],correct:1,explanation:"'Grow' rhymes with 'row' and makes sense when asking about a garden - gardens grow!"},{word:"row",options:["bow","row","cow","how"],correct:1,explanation:"'Row' rhymes with 'grow' and refers to how flowers are arranged in lines or rows in a garden."}],animation:["🌸","🌺","🌻","🌷"],difficulty:"Medium"},{id:3,title:"Humpty Dumpty",lines:["Humpty Dumpty sat on a ____,","Humpty Dumpty had a great ____.","All the king's horses and all the king's ____,","Couldn't put Humpty together ____."],blanks:[{word:"wall",options:["wall","ball","hall","call"],correct:0,explanation:"'Wall' rhymes with 'fall' and tells us where Humpty Dumpty was sitting before he fell."},{word:"fall",options:["tall","fall","small","all"],correct:1,explanation:"'Fall' rhymes with 'wall' and describes what happened to Humpty Dumpty - he fell down!"},{word:"men",options:["ten","men","pen","hen"],correct:1,explanation:"'Men' rhymes with 'again' and refers to the king's soldiers who tried to help Humpty."},{word:"again",options:["again","remain","explain","obtain"],correct:0,explanation:"'Again' rhymes with 'men' and means they couldn't fix Humpty Dumpty back to how he was before."}],animation:["🥚","🧱","👑","🐎"],difficulty:"Medium"},{id:4,title:"Baa, Baa, Black Sheep",lines:["Baa, baa, black ____,","Have you any ____?","Yes sir, yes sir, three bags ____,","One for my master, one for my ____."],blanks:[{word:"sheep",options:["sheep","deep","sleep","keep"],correct:0,explanation:"'Sheep' rhymes with 'wool' and is the animal that says 'baa' and gives us wool."},{word:"wool",options:["cool","wool","pool","tool"],correct:1,explanation:"'Wool' rhymes with 'full' and is what we get from sheep to make warm clothes."},{word:"full",options:["pull","full","bull","dull"],correct:1,explanation:"'Full' rhymes with 'wool' and means the bags are completely filled with wool."},{word:"dame",options:["game","dame","name","same"],correct:1,explanation:"'Dame' rhymes with 'name' and is an old word for a lady or woman."}],animation:["🐑","🧶","👨‍🌾","👩"],difficulty:"Easy"},{id:5,title:"Jack and Jill",lines:["Jack and Jill went up the ____,","To fetch a pail of ____.","Jack fell down and broke his ____,","And Jill came tumbling ____."],blanks:[{word:"hill",options:["hill","mill","will","still"],correct:0,explanation:"'Hill' rhymes with 'water' and is a high place where Jack and Jill went to get water."},{word:"water",options:["water","matter","better","letter"],correct:0,explanation:"'Water' rhymes with 'after' and is what they went to fetch in their pail (bucket)."},{word:"crown",options:["brown","crown","down","town"],correct:1,explanation:"'Crown' rhymes with 'down' and refers to the top of Jack's head that got hurt when he fell."},{word:"after",options:["after","laughter","chapter","master"],correct:0,explanation:"'After' rhymes with 'water' and means Jill fell down following Jack's fall."}],animation:["👦","👧","🏔️","💧"],difficulty:"Easy"},{id:6,title:"Row, Row, Row Your Boat",lines:["Row, row, row your ____,","Gently down the ____.","Merrily, merrily, merrily, merrily,","Life is but a ____."],blanks:[{word:"boat",options:["boat","coat","goat","note"],correct:0,explanation:"'Boat' rhymes with 'stream' and is what you use to travel on water by rowing."},{word:"stream",options:["dream","stream","cream","team"],correct:1,explanation:"'Stream' rhymes with 'dream' and is a small river where you can row a boat."},{word:"dream",options:["dream","stream","cream","beam"],correct:0,explanation:"'Dream' rhymes with 'stream' and suggests that life is like a wonderful dream."}],animation:["🚣","🌊","😊","💭"],difficulty:"Easy"}];v.useEffect(()=>{const A=()=>{P({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const T=$[r],G=T.blanks[i],K=A=>{if(y!==null)return;const z=G.options[A],Y=A===G.correct,M=G.options[G.correct];k(z),S({isCorrect:Y,selectedOption:z,correctOption:M,explanation:G.explanation||"This is the correct answer for this rhyme."});const q=[...l];q[i]=z,c(q);const pe=[...u];pe[i]=z,d(pe),t(Y,Y?8:0),Y&&(j(!0),setTimeout(()=>j(!1),1500)),setTimeout(()=>{i<T.blanks.length-1?(o(i+1),k(null),S(null)):(f(!0),g.has(T.id)||(x(N=>new Set([...N,T.id])),n(`rhyme-${T.id}`),t(!0,15)))},3e3)},oe=()=>{s(A=>(A+1)%$.length),W()},W=()=>{o(0),c([]),d([]),f(!1),k(null),S(null)},se=()=>{p(!0),setTimeout(()=>p(!1),3e3)},ue=()=>l.filter(A=>A).length,B=()=>{if(l.length===0)return 0;const A=l.filter((z,Y)=>{var M;return z===((M=T.blanks[Y])==null?void 0:M.word)}).length;return Math.round(A/l.length*100)},E=(A,z)=>{if(y===null)return"bg-gradient-to-br from-pink-400 to-purple-500 text-white hover:from-pink-500 hover:to-purple-600";const Y=z===G.correct,M=y===A;return Y?"bg-green-400 text-white border-4 border-green-600":M&&!Y?"bg-red-400 text-white border-4 border-red-600":"bg-gray-300 text-gray-500"},F=()=>u.filter((A,z)=>{var Y;return A===((Y=T.blanks[z])==null?void 0:Y.word)}).length;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-pink-50 to-purple-100 p-6",children:[w&&a.jsx(Ns,{width:_.width,height:_.height,recycle:!1,numberOfPieces:150,colors:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3"]}),a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-purple-600 mb-2",children:"🎵 Fill in the Blanks — Rhymes Time!"}),a.jsx("p",{className:"text-xl md:text-2xl text-purple-500 font-semibold",children:"Complete the nursery rhymes and learn through music"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-purple-600 mb-4 flex items-center",children:[a.jsx(_a,{className:"h-6 w-6 mr-2"}),"Nursery Rhymes"]}),a.jsx("div",{className:"space-y-3",children:$.map((A,z)=>a.jsx(R.button,{className:`w-full p-4 rounded-2xl text-left transition-all ${r===z?"bg-purple-100 border-2 border-purple-400":"bg-gray-50 hover:bg-purple-50 border-2 border-transparent"}`,onClick:()=>{s(z),W()},whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex space-x-1 mb-1",children:A.animation.slice(0,2).map((Y,M)=>a.jsx("span",{className:"text-lg",children:Y},M))}),a.jsx("div",{className:"font-bold text-gray-800 text-sm",children:A.title}),a.jsx("div",{className:`text-xs px-2 py-1 rounded-full inline-block mt-1 ${A.difficulty==="Easy"?"bg-green-100 text-green-600":A.difficulty==="Medium"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:A.difficulty})]}),g.has(A.id)&&a.jsx($t,{className:"h-5 w-5 text-yellow-500 fill-current"})]})},A.id))}),a.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl",children:[a.jsx("h3",{className:"font-bold text-purple-600 mb-2",children:"Your Progress"}),a.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[a.jsx("span",{children:"Rhymes Completed"}),a.jsxs("span",{className:"font-bold",children:[g.size,"/",$.length]})]}),a.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2",children:a.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${g.size/$.length*100}%`}})})]})]})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-pink-400 p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:T.title}),a.jsxs("div",{className:"flex items-center text-yellow-100",children:[a.jsx("div",{className:"flex space-x-2 mr-4",children:T.animation.map((A,z)=>a.jsx(R.span,{className:"text-3xl",animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{repeat:1/0,duration:2+z*.3,ease:"easeInOut"},children:A},z))}),a.jsxs("span",{children:["Difficulty: ",T.difficulty]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(X,{variant:"secondary",size:"sm",onClick:se,disabled:m,icon:a.jsx(si,{className:"h-4 w-4"}),className:"bg-white/20 hover:bg-white/30",children:m?"Playing...":"Play"}),g.has(T.id)&&a.jsxs("div",{className:"flex items-center bg-white/20 rounded-full px-4 py-2",children:[a.jsx(fs,{className:"h-5 w-5 mr-2"}),a.jsx("span",{children:"Completed!"})]})]})]})}),a.jsxs("div",{className:"p-4 bg-yellow-50",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[a.jsx("span",{className:"font-medium",children:"Progress"}),a.jsx("span",{className:"font-bold",children:h?"Complete!":`${ue()}/${T.blanks.length} blanks filled`})]}),a.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-3",children:a.jsx(R.div,{className:"bg-gradient-to-r from-yellow-400 to-orange-400 h-3 rounded-full flex items-center justify-end pr-2",initial:{width:0},animate:{width:h?"100%":`${(i+(l[i]?1:0))/T.blanks.length*100}%`},transition:{duration:.5},children:ue()>0&&a.jsx(wu,{className:"h-3 w-3 text-white"})})})]}),a.jsx("div",{className:"p-8",children:a.jsx(Tt,{mode:"wait",children:h?a.jsxs(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-6",children:"🎉"}),a.jsx("h3",{className:"text-3xl font-bold text-purple-600 mb-6",children:"Rhyme Completed!"}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-3xl p-8 mb-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-purple-600 mb-6 flex items-center justify-center",children:[a.jsx(vr,{className:"h-8 w-8 mr-3"}),"Your Performance Summary"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-md",children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:F()}),a.jsx("div",{className:"text-gray-600",children:"Correct Answers"})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-md",children:[a.jsx("div",{className:"text-3xl font-bold text-red-600",children:T.blanks.length-F()}),a.jsx("div",{className:"text-gray-600",children:"Wrong Answers"})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-md",children:[a.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[B(),"%"]}),a.jsx("div",{className:"text-gray-600",children:"Accuracy"})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6",children:[a.jsx("h5",{className:"text-xl font-bold text-gray-800 mb-4",children:"Answer Review:"}),a.jsx("div",{className:"space-y-4",children:T.blanks.map((A,z)=>{const Y=u[z],M=A.word,q=Y===M;return a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-50",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("span",{className:"text-lg font-medium text-gray-700 mr-4",children:["Blank #",z+1,":"]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("span",{className:`px-3 py-1 rounded-full font-bold ${q?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:["Your answer: ",Y]}),!q&&a.jsxs("span",{className:"px-3 py-1 rounded-full font-bold bg-green-100 text-green-700",children:["Correct: ",M]})]})]}),a.jsx("div",{className:"text-2xl",children:q?"✅":"❌"})]},z)})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-2xl p-6",children:[a.jsx("h5",{className:"text-xl font-bold text-gray-800 mb-4",children:"Complete Rhyme:"}),T.lines.map((A,z)=>{var Y;return a.jsx("div",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-3 leading-relaxed",children:A.replace("____",((Y=T.blanks[T.lines.findIndex(M=>M===A)])==null?void 0:Y.word)||"____")},z)})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-2xl p-6 mb-8 text-white",children:[a.jsx("h4",{className:"text-2xl font-bold mb-2",children:"XP Earned!"}),a.jsxs("div",{className:"text-4xl font-bold",children:["+",15+F()*8," XP"]}),a.jsxs("p",{className:"text-yellow-100 mt-2",children:[F()*8," XP for correct answers + 15 XP completion bonus"]})]}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx(X,{variant:"secondary",onClick:W,icon:a.jsx(_x,{className:"h-5 w-5"}),children:"Play Again"}),a.jsx(X,{variant:"primary",onClick:oe,icon:a.jsx(_a,{className:"h-5 w-5"}),children:"Next Rhyme"})]})]}):a.jsxs(R.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsx("div",{className:"flex space-x-4",children:T.animation.map((A,z)=>a.jsx(R.div,{className:"text-6xl",animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2+z*.5,ease:"easeInOut"},children:A},z))})}),a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-3xl p-8 mb-8",children:T.lines.map((A,z)=>a.jsx(R.div,{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4 leading-relaxed",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:z*.2},children:A.includes("____")?a.jsxs("span",{children:[A.split("____")[0],a.jsx("span",{className:"inline-block min-w-[120px] mx-2 px-4 py-2 bg-yellow-200 border-2 border-dashed border-yellow-400 rounded-lg",children:l[T.lines.findIndex(Y=>Y===A)]||"____"}),A.split("____")[1]]}):A},z))}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h3",{className:"text-xl font-bold text-purple-600 mb-4",children:["Fill in the blank #",i+1,":"]}),a.jsx("div",{className:"text-3xl font-bold text-gray-800 mb-6",children:"What rhymes and fits? Choose the word that completes the line!"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-2xl mx-auto mb-8",children:G.options.map((A,z)=>a.jsx(R.button,{className:`font-bold text-xl py-6 px-4 rounded-2xl shadow-lg transition-all ${E(A,z)}`,onClick:()=>K(z),disabled:y!==null,whileHover:y===null?{scale:1.05,y:-5}:{},whileTap:y===null?{scale:.95}:{},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:z*.1},children:A},z))}),a.jsx(Tt,{children:b&&a.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`rounded-3xl p-6 ${b.isCorrect?"bg-green-100 border-4 border-green-300":"bg-red-100 border-4 border-red-300"}`,children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:b.isCorrect?a.jsx(bx,{className:"h-12 w-12 text-green-600"}):a.jsx(ri,{className:"h-12 w-12 text-red-600"})}),a.jsx("h3",{className:`text-2xl font-bold mb-4 ${b.isCorrect?"text-green-700":"text-red-700"}`,children:b.isCorrect?"Excellent! 🎉":"Not quite right! 🤔"}),!b.isCorrect&&a.jsxs("div",{className:"mb-4 p-4 bg-white rounded-2xl",children:[a.jsxs("p",{className:"text-lg font-semibold text-gray-800 mb-2",children:["You chose: ",a.jsxs("span",{className:"text-red-600",children:['"',b.selectedOption,'"']})]}),a.jsxs("p",{className:"text-lg font-semibold text-gray-800 mb-3",children:["Correct answer: ",a.jsxs("span",{className:"text-green-600",children:['"',b.correctOption,'"']})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4",children:[a.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Why this answer?"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:b.explanation})]}),b.isCorrect&&a.jsxs(R.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center justify-center gap-2 text-xl font-bold text-green-600 mt-4",children:[a.jsx($t,{className:"h-6 w-6"}),a.jsx("span",{children:"+8 XP"}),a.jsx(wu,{className:"h-6 w-6"})]})]})})]},i)})})]})})]})]})]})},kC=()=>{const e=vt(),{user:t,isProfileComplete:n}=Ve();v.useEffect(()=>{n||e("/profile-setup")},[n,e]);const r=()=>{e("/lobby")};return t?a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx("header",{className:"py-4 px-4 md:px-8 bg-white shadow-sm relative z-10",children:a.jsx("div",{className:"container mx-auto",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(X,{variant:"secondary",size:"sm",onClick:r,icon:a.jsx(Qn,{className:"h-4 w-4"}),children:"Back to Lobby"}),a.jsxs("div",{className:"ml-4 flex items-center",children:[a.jsx(gt,{className:"h-6 w-6 text-primary-600 mr-2"}),a.jsx("span",{className:"text-xl font-bold text-primary-600",children:"SmartPlay"})]})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("div",{className:"mr-2 md:mr-4",children:a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Nursery Rhymes Mode"})})})]})})}),a.jsx("main",{className:"flex-grow",children:a.jsx(jC,{})})]}):null},SC=()=>{const{user:e,recordAnswer:t}=Ve(),[n,r]=v.useState(2),[s,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(null),[d,h]=v.useState(null),[f,g]=v.useState(0),[x,w]=v.useState(0),[j,m]=v.useState(!1),[p,y]=v.useState(0),[k,b]=v.useState(0),[S,_]=v.useState({width:window.innerWidth,height:window.innerHeight});v.useEffect(()=>{const W=()=>{_({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]);const P=W=>{const se=Math.floor(Math.random()*10)+1,ue=W*se,B=[];for(;B.length<3;){let F;Math.random()>.5?F=ue+(Math.floor(Math.random()*10)-5):F=Math.floor(Math.random()*200)+1,F!==ue&&F>0&&!B.includes(F)&&B.push(F)}const E=[...B,ue].sort(()=>Math.random()-.5);return{multiplicand:W,multiplier:se,answer:ue,options:E}},$=()=>{i(!0),l(P(n)),g(0),w(0),y(0),u(null),h(null)},T=W=>{if(c!==null)return;u(W);const se=W===(o==null?void 0:o.answer);h(se),t(se,se?12:0),se?(g(f+1),y(p+1),p+1>k&&b(p+1),m(!0),setTimeout(()=>m(!1),2e3)):y(0),w(x+1),setTimeout(()=>{l(P(n)),u(null),h(null)},2e3)},G=()=>{i(!1),l(null),u(null),h(null),g(0),w(0),y(0)},K=()=>x===0?0:Math.round(f/x*100),oe=W=>c===null?"bg-gradient-to-br from-blue-400 to-purple-500 text-white hover:from-blue-500 hover:to-purple-600":W===(o==null?void 0:o.answer)?"bg-green-400 text-white border-4 border-green-600":c===W&&W!==(o==null?void 0:o.answer)?"bg-red-400 text-white border-4 border-red-600":"bg-gray-300 text-gray-500";return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100 p-6",children:[j&&a.jsx(Ns,{width:S.width,height:S.height,recycle:!1,numberOfPieces:200,colors:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3"]}),a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-purple-600 mb-2",children:"🔢 Numbers & Times — Learn Your Multiplication!"}),a.jsx("p",{className:"text-xl md:text-2xl text-purple-500 font-semibold",children:"Master multiplication tables with interactive learning"})]}),s?a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden mb-8",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Quiz: ",n," Times Table"]}),a.jsxs("div",{className:"flex items-center space-x-6 text-green-100",children:[a.jsxs("span",{children:["Question #",x+1]}),a.jsxs("span",{children:["Score: ",f,"/",x]}),a.jsxs("span",{children:["Accuracy: ",K(),"%"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Ii,{className:"h-5 w-5 mr-2"}),a.jsxs("span",{children:["Streak: ",p]})]}),a.jsx(X,{variant:"secondary",size:"sm",onClick:G,icon:a.jsx(_x,{className:"h-4 w-4"}),className:"bg-white/20 hover:bg-white/30",children:"Reset"})]})]})}),a.jsxs("div",{className:"p-4 bg-green-50",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[a.jsx("span",{className:"font-medium",children:"Current Streak"}),a.jsxs("span",{className:"font-bold",children:[p," correct in a row"]})]}),a.jsx("div",{className:"w-full bg-green-200 rounded-full h-3",children:a.jsx(R.div,{className:"bg-gradient-to-r from-green-400 to-blue-400 h-3 rounded-full flex items-center justify-end pr-2",initial:{width:0},animate:{width:`${Math.min(p/10*100,100)}%`},transition:{duration:.5},children:p>=5&&a.jsx($t,{className:"h-3 w-3 text-white"})})})]})]}),o&&a.jsxs(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-xl p-8 mb-8",children:[a.jsx("div",{className:"text-center mb-8",children:a.jsxs("div",{className:"text-6xl md:text-8xl font-bold text-gray-800 mb-4 flex items-center justify-center gap-4 flex-wrap",children:[a.jsx("span",{className:"text-blue-500",children:o.multiplicand}),a.jsx("span",{className:"text-purple-500",children:"×"}),a.jsx("span",{className:"text-green-500",children:o.multiplier}),a.jsx("span",{className:"text-orange-500",children:"="}),a.jsx("div",{className:"w-32 h-24 bg-gradient-to-br from-yellow-200 to-orange-200 rounded-2xl border-4 border-dashed border-orange-400 flex items-center justify-center",children:c!==null?a.jsx(R.span,{initial:{scale:0},animate:{scale:1},className:`font-bold text-3xl ${d===null?"text-orange-600":d?"text-green-600":"text-red-600"}`,children:c}):a.jsx("span",{className:"text-orange-400 text-4xl",children:"?"})})]})}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-2xl mx-auto",children:o.options.map((W,se)=>a.jsx(R.button,{className:`text-2xl font-bold py-8 px-4 rounded-2xl shadow-lg transition-all ${oe(W)}`,onClick:()=>T(W),disabled:c!==null,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:se*.1},whileHover:c===null?{scale:1.05,y:-5}:{},whileTap:c===null?{scale:.95}:{},children:W},`${o.multiplicand}-${o.multiplier}-${W}`))}),a.jsx(Tt,{children:d!==null&&a.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`mt-8 rounded-2xl p-6 text-center ${d?"bg-green-100 border-4 border-green-300":"bg-red-100 border-4 border-red-300"}`,children:[a.jsx("div",{className:"text-4xl mb-4",children:d?"🎉":"🤔"}),a.jsx("h3",{className:`text-2xl font-bold mb-2 ${d?"text-green-700":"text-red-700"}`,children:d?"Excellent!":"Not quite right!"}),a.jsx("p",{className:`text-lg ${d?"text-green-600":"text-red-600"}`,children:d?`Perfect! ${o.multiplicand} × ${o.multiplier} = ${o.answer}`:`The correct answer is ${o.answer}. Keep practicing!`}),d&&a.jsxs(R.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center justify-center gap-2 text-xl font-bold text-green-600 mt-4",children:[a.jsx($t,{className:"h-6 w-6"}),a.jsx("span",{children:"+12 XP"}),a.jsx(vr,{className:"h-6 w-6"})]})]})})]},`${o.multiplicand}-${o.multiplier}`),p>=5&&a.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-3xl p-6 text-white text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:"🏆"}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Amazing Streak!"}),a.jsxs("p",{className:"text-yellow-100",children:["You've got ",p," correct answers in a row! Keep it up!"]})]})]}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-purple-600 mb-4 flex items-center",children:[a.jsx(Xa,{className:"h-6 w-6 mr-2"}),"Select Table"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:Array.from({length:20},(W,se)=>se+1).map(W=>a.jsx(R.button,{className:`p-4 rounded-2xl font-bold text-lg transition-all ${n===W?"bg-purple-500 text-white shadow-lg":"bg-purple-100 text-purple-600 hover:bg-purple-200"}`,onClick:()=>r(W),whileHover:{scale:1.05},whileTap:{scale:.95},children:W},W))}),a.jsx(X,{variant:"primary",size:"lg",fullWidth:!0,onClick:$,icon:a.jsx(ms,{className:"h-5 w-5"}),children:"Start Quiz"}),e&&a.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl",children:[a.jsx("h3",{className:"font-bold text-purple-600 mb-2",children:"Your Stats"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Best Streak"}),a.jsx("span",{className:"font-bold",children:k})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Level"}),a.jsx("span",{className:"font-bold",children:e.level})]})]})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 p-6 text-white",children:[a.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Multiplication Table of ",n]}),a.jsx("p",{className:"text-blue-100",children:"Study the table below, then test your knowledge!"})]}),a.jsxs("div",{className:"p-8",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:10},(W,se)=>se+1).map(W=>a.jsx(R.div,{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 border-2 border-blue-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:W*.1},whileHover:{scale:1.02,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-2",children:[a.jsx("span",{className:"text-blue-500",children:n}),a.jsx("span",{className:"text-purple-500 mx-2",children:"×"}),a.jsx("span",{className:"text-green-500",children:W}),a.jsx("span",{className:"text-orange-500 mx-2",children:"="}),a.jsx("span",{className:"text-red-500",children:n*W})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[n," times ",W," equals ",n*W]})]})},W))}),a.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl border-2 border-yellow-200",children:[a.jsx("h3",{className:"text-xl font-bold text-orange-600 mb-4",children:"Pattern Recognition"}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-lg text-gray-700 mb-4",children:["Notice the pattern in the ",n," times table:"]}),a.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:Array.from({length:10},(W,se)=>n*(se+1)).map((W,se)=>a.jsx(R.div,{className:"bg-orange-200 text-orange-800 px-4 py-2 rounded-lg font-bold",initial:{scale:0},animate:{scale:1},transition:{delay:se*.1},children:W},se))})]})]})]})]})})]})]})]})},NC=()=>{const e=vt(),{user:t,isProfileComplete:n}=Ve();v.useEffect(()=>{n||e("/profile-setup")},[n,e]);const r=()=>{e("/lobby")};return t?a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx("header",{className:"py-4 px-4 md:px-8 bg-white shadow-sm relative z-10",children:a.jsx("div",{className:"container mx-auto",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(X,{variant:"secondary",size:"sm",onClick:r,icon:a.jsx(Qn,{className:"h-4 w-4"}),children:"Back to Lobby"}),a.jsxs("div",{className:"ml-4 flex items-center",children:[a.jsx(gt,{className:"h-6 w-6 text-primary-600 mr-2"}),a.jsx("span",{className:"text-xl font-bold text-primary-600",children:"SmartPlay"})]})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("div",{className:"mr-2 md:mr-4",children:a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Multiplication Tables Mode"})})})]})})}),a.jsx("main",{className:"flex-grow",children:a.jsx(SC,{})})]}):null},_C=()=>{const{user:e,recordAnswer:t}=Ve(),n=v.useRef(null),[r,s]=v.useState(!1),[i,o]=v.useState("brush"),[l,c]=v.useState("#FF6B6B"),[u,d]=v.useState(5),[h,f]=v.useState([]),[g,x]=v.useState([]),[w,j]=v.useState("free"),[m,p]=v.useState(null),[y,k]=v.useState(!1),[b,S]=v.useState("all"),[_,P]=v.useState(!1),[$,T]=v.useState([]),[G,K]=v.useState([]),[oe,W]=v.useState({width:window.innerWidth,height:window.innerHeight}),se=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FECA57","#FF9FF3","#54A0FF","#5F27CD","#00D2D3","#FF9F43","#EE5A24","#0ABDE3","#10AC84","#F79F1F","#A3CB38","#C44569","#F8B500","#6C5CE7","#A29BFE","#FD79A8","#E17055","#00B894","#FDCB6E","#6C5CE7","#000000","#FFFFFF","#95A5A6","#34495E","#2C3E50","#BDC3C7"],ue=[2,5,10,15,20,30],B=[{id:"sun",name:"Sun",category:"nature",difficulty:"Easy",description:"A bright, happy sun with rays",svg:`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <circle cx="100" cy="100" r="40" fill="none" stroke="#000" stroke-width="3"/>
        <line x1="100" y1="20" x2="100" y2="40" stroke="#000" stroke-width="3"/>
        <line x1="100" y1="160" x2="100" y2="180" stroke="#000" stroke-width="3"/>
        <line x1="20" y1="100" x2="40" y2="100" stroke="#000" stroke-width="3"/>
        <line x1="160" y1="100" x2="180" y2="100" stroke="#000" stroke-width="3"/>
        <line x1="35.86" y1="35.86" x2="50.71" y2="50.71" stroke="#000" stroke-width="3"/>
        <line x1="149.29" y1="149.29" x2="164.14" y2="164.14" stroke="#000" stroke-width="3"/>
        <line x1="164.14" y1="35.86" x2="149.29" y2="50.71" stroke="#000" stroke-width="3"/>
        <line x1="50.71" y1="149.29" x2="35.86" y2="164.14" stroke="#000" stroke-width="3"/>
        <circle cx="85" cy="85" r="3" fill="#000"/>
        <circle cx="115" cy="85" r="3" fill="#000"/>
        <path d="M 80 115 Q 100 130 120 115" stroke="#000" stroke-width="3" fill="none"/>
      </svg>`},{id:"tree",name:"Tree",category:"nature",difficulty:"Medium",description:"A beautiful tree with leaves",svg:`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <rect x="90" y="120" width="20" height="60" fill="none" stroke="#000" stroke-width="3"/>
        <circle cx="100" cy="80" r="35" fill="none" stroke="#000" stroke-width="3"/>
        <circle cx="75" cy="95" r="25" fill="none" stroke="#000" stroke-width="3"/>
        <circle cx="125" cy="95" r="25" fill="none" stroke="#000" stroke-width="3"/>
        <circle cx="100" cy="110" r="20" fill="none" stroke="#000" stroke-width="3"/>
        <line x1="20" y1="180" x2="180" y2="180" stroke="#000" stroke-width="3"/>
      </svg>`},{id:"flower",name:"Flower",category:"nature",difficulty:"Easy",description:"A simple flower with petals",svg:`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <circle cx="100" cy="80" r="15" fill="none" stroke="#000" stroke-width="3"/>
        <ellipse cx="100" cy="50" rx="12" ry="20" fill="none" stroke="#000" stroke-width="3"/>
        <ellipse cx="130" cy="80" rx="20" ry="12" fill="none" stroke="#000" stroke-width="3"/>
        <ellipse cx="100" cy="110" rx="12" ry="20" fill="none" stroke="#000" stroke-width="3"/>
        <ellipse cx="70" cy="80" rx="20" ry="12" fill="none" stroke="#000" stroke-width="3"/>
        <ellipse cx="121" cy="59" rx="15" ry="10" fill="none" stroke="#000" stroke-width="3" transform="rotate(45 121 59)"/>
        <ellipse cx="121" cy="101" rx="15" ry="10" fill="none" stroke="#000" stroke-width="3" transform="rotate(-45 121 101)"/>
        <ellipse cx="79" cy="59" rx="15" ry="10" fill="none" stroke="#000" stroke-width="3" transform="rotate(-45 79 59)"/>
        <ellipse cx="79" cy="101" rx="15" ry="10" fill="none" stroke="#000" stroke-width="3" transform="rotate(45 79 101)"/>
        <line x1="100" y1="95" x2="100" y2="160" stroke="#000" stroke-width="3"/>
        <path d="M 90 130 Q 85 125 80 130" stroke="#000" stroke-width="2" fill="none"/>
        <path d="M 110 140 Q 115 135 120 140" stroke="#000" stroke-width="2" fill="none"/>
      </svg>`},{id:"butterfly",name:"Butterfly",category:"nature",difficulty:"Medium",description:"A colorful butterfly",svg:`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <line x1="100" y1="40" x2="100" y2="160" stroke="#000" stroke-width="3"/>
        <circle cx="100" cy="50" r="4" fill="#000"/>
        <line x1="95" y1="45" x2="90" y2="35" stroke="#000" stroke-width="2"/>
        <line x1="105" y1="45" x2="110" y2="35" stroke="#000" stroke-width="2"/>
        <ellipse cx="75" cy="70" rx="20" ry="30" fill="none" stroke="#000" stroke-width="3"/>
        <ellipse cx="125" cy="70" rx="20" ry="30" fill="none" stroke="#000" stroke-width="3"/>
        <ellipse cx="80" cy="120" rx="15" ry="25" fill="none" stroke="#000" stroke-width="3"/>
        <ellipse cx="120" cy="120" rx="15" ry="25" fill="none" stroke="#000" stroke-width="3"/>
        <circle cx="70" cy="65" r="5" fill="none" stroke="#000" stroke-width="2"/>
        <circle cx="130" cy="65" r="5" fill="none" stroke="#000" stroke-width="2"/>
      </svg>`},{id:"car",name:"Car",category:"vehicles",difficulty:"Medium",description:"A fun car to color",svg:`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <rect x="40" y="120" width="120" height="40" rx="5" fill="none" stroke="#000" stroke-width="3"/>
        <path d="M 60 120 L 70 90 L 130 90 L 140 120" fill="none" stroke="#000" stroke-width="3"/>
        <circle cx="70" cy="150" r="15" fill="none" stroke="#000" stroke-width="3"/>
        <circle cx="130" cy="150" r="15" fill="none" stroke="#000" stroke-width="3"/>
        <circle cx="70" cy="150" r="8" fill="none" stroke="#000" stroke-width="2"/>
        <circle cx="130" cy="150" r="8" fill="none" stroke="#000" stroke-width="2"/>
        <rect x="75" y="95" width="15" height="20" fill="none" stroke="#000" stroke-width="2"/>
        <rect x="110" y="95" width="15" height="20" fill="none" stroke="#000" stroke-width="2"/>
        <rect x="45" y="125" width="12" height="8" fill="none" stroke="#000" stroke-width="2"/>
        <rect x="143" y="125" width="12" height="8" fill="none" stroke="#000" stroke-width="2"/>
      </svg>`},{id:"house",name:"House",category:"buildings",difficulty:"Easy",description:"A cozy house",svg:`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <polygon points="100,40 60,80 140,80" fill="none" stroke="#000" stroke-width="3"/>
        <rect x="70" y="80" width="60" height="80" fill="none" stroke="#000" stroke-width="3"/>
        <rect x="85" y="110" width="15" height="25" fill="none" stroke="#000" stroke-width="3"/>
        <rect x="110" y="100" width="15" height="15" fill="none" stroke="#000" stroke-width="3"/>
        <line x1="117.5" y1="100" x2="117.5" y2="115" stroke="#000" stroke-width="2"/>
        <line x1="110" y1="107.5" x2="125" y2="107.5" stroke="#000" stroke-width="2"/>
        <circle cx="88" cy="122" r="2" fill="#000"/>
        <rect x="85" y="140" width="30" height="20" fill="none" stroke="#000" stroke-width="2"/>
      </svg>`},{id:"apple",name:"Apple",category:"food",difficulty:"Easy",description:"A delicious apple",svg:`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <path d="M 100 60 C 120 60 140 80 140 110 C 140 140 120 160 100 160 C 80 160 60 140 60 110 C 60 80 80 60 100 60" fill="none" stroke="#000" stroke-width="3"/>
        <path d="M 100 60 C 90 50 85 45 90 40 C 95 35 105 40 100 50" fill="none" stroke="#000" stroke-width="3"/>
        <ellipse cx="105" cy="50" rx="8" ry="15" fill="none" stroke="#000" stroke-width="2"/>
      </svg>`},{id:"cupcake",name:"Cupcake",category:"food",difficulty:"Medium",description:"A sweet cupcake",svg:`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <path d="M 70 120 L 80 160 L 120 160 L 130 120 Z" fill="none" stroke="#000" stroke-width="3"/>
        <path d="M 65 120 C 70 100 80 90 100 90 C 120 90 130 100 135 120" fill="none" stroke="#000" stroke-width="3"/>
        <circle cx="90" cy="105" r="4" fill="#000"/>
        <circle cx="110" cy="105" r="4" fill="#000"/>
        <circle cx="100" cy="85" r="3" fill="#000"/>
        <line x1="75" y1="130" x2="125" y2="130" stroke="#000" stroke-width="2"/>
        <line x1="78" y1="140" x2="122" y2="140" stroke="#000" stroke-width="2"/>
        <line x1="81" y1="150" x2="119" y2="150" stroke="#000" stroke-width="2"/>
      </svg>`},{id:"unicorn",name:"Unicorn",category:"fantasy",difficulty:"Hard",description:"A magical unicorn",svg:`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <ellipse cx="100" cy="120" rx="40" ry="25" fill="none" stroke="#000" stroke-width="3"/>
        <circle cx="80" cy="90" r="25" fill="none" stroke="#000" stroke-width="3"/>
        <polygon points="75,65 85,45 95,65" fill="none" stroke="#000" stroke-width="3"/>
        <path d="M 60 85 C 50 80 45 85 50 95 C 55 90 60 90 65 95" fill="none" stroke="#000" stroke-width="2"/>
        <circle cx="75" cy="85" r="3" fill="#000"/>
        <path d="M 70 95 Q 75 100 80 95" stroke="#000" stroke-width="2" fill="none"/>
        <line x1="60" y1="130" x2="50" y2="160" stroke="#000" stroke-width="3"/>
        <line x1="80" y1="140" x2="75" y2="165" stroke="#000" stroke-width="3"/>
        <line x1="120" y1="140" x2="125" y2="165" stroke="#000" stroke-width="3"/>
        <line x1="140" y1="130" x2="150" y2="160" stroke="#000" stroke-width="3"/>
        <path d="M 85 70 C 90 60 100 55 110 60 C 105 65 95 70 90 75" fill="none" stroke="#000" stroke-width="2"/>
      </svg>`},{id:"castle",name:"Castle",category:"fantasy",difficulty:"Hard",description:"A fairy tale castle",svg:`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <rect x="60" y="100" width="80" height="80" fill="none" stroke="#000" stroke-width="3"/>
        <rect x="50" y="80" width="20" height="100" fill="none" stroke="#000" stroke-width="3"/>
        <rect x="130" y="80" width="20" height="100" fill="none" stroke="#000" stroke-width="3"/>
        <rect x="90" y="60" width="20" height="120" fill="none" stroke="#000" stroke-width="3"/>
        <polygon points="50,80 55,70 65,70 70,80" fill="none" stroke="#000" stroke-width="3"/>
        <polygon points="130,80 135,70 145,70 150,80" fill="none" stroke="#000" stroke-width="3"/>
        <polygon points="90,60 95,50 105,50 110,60" fill="none" stroke="#000" stroke-width="3"/>
        <rect x="85" y="140" width="12" height="20" fill="none" stroke="#000" stroke-width="2"/>
        <rect x="103" y="140" width="12" height="20" fill="none" stroke="#000" stroke-width="2"/>
        <rect x="75" y="120" width="10" height="10" fill="none" stroke="#000" stroke-width="2"/>
        <rect x="115" y="120" width="10" height="10" fill="none" stroke="#000" stroke-width="2"/>
        <circle cx="100" cy="150" r="2" fill="#000"/>
      </svg>`},{id:"rocket",name:"Rocket",category:"space",difficulty:"Medium",description:"A space rocket",svg:`<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <ellipse cx="100" cy="60" rx="15" ry="25" fill="none" stroke="#000" stroke-width="3"/>
        <rect x="85" y="85" width="30" height="60" fill="none" stroke="#000" stroke-width="3"/>
        <polygon points="85,145 100,160 115,145" fill="none" stroke="#000" stroke-width="3"/>
        <polygon points="70,100 85,110 85,130 70,120" fill="none" stroke="#000" stroke-width="3"/>
        <polygon points="130,100 115,110 115,130 130,120" fill="none" stroke="#000" stroke-width="3"/>
        <circle cx="100" cy="100" r="8" fill="none" stroke="#000" stroke-width="2"/>
        <rect x="95" y="115" width="10" height="15" fill="none" stroke="#000" stroke-width="2"/>
        <path d="M 90 170 Q 100 175 110 170" stroke="#000" stroke-width="2" fill="none"/>
        <path d="M 85 175 Q 100 180 115 175" stroke="#000" stroke-width="2" fill="none"/>
      </svg>`}],E=[{id:"all",name:"All",icon:"🎨"},{id:"nature",name:"Nature",icon:"🌿"},{id:"vehicles",name:"Vehicles",icon:"🚗"},{id:"buildings",name:"Buildings",icon:"🏠"},{id:"food",name:"Food",icon:"🍎"},{id:"fantasy",name:"Fantasy",icon:"🦄"},{id:"space",name:"Space",icon:"🚀"}];v.useEffect(()=>{const C=()=>{W({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),v.useEffect(()=>{const C=n.current;if(!C)return;const I=C.getContext("2d");I&&(I.clearRect(0,0,C.width,C.height),I.fillStyle="#FFFFFF",I.fillRect(0,0,C.width,C.height),w==="coloring"&&m&&F(I,m.svg),A(I))},[h,m,w]);const F=(C,I)=>{try{const ae=document.createElement("div");ae.innerHTML=I;const Me=ae.querySelector("svg");if(!Me)return;const Ne=Me.querySelectorAll("*");C.strokeStyle="#000000",C.fillStyle="none",C.lineWidth=2,C.lineCap="round",C.lineJoin="round",Ne.forEach(ee=>{switch(ee.tagName.toLowerCase()){case"circle":const ol=parseFloat(ee.getAttribute("cx")||"0"),Xt=parseFloat(ee.getAttribute("cy")||"0"),Sr=parseFloat(ee.getAttribute("r")||"0");C.beginPath(),C.arc(ol*4,Xt*3,Sr*3,0,2*Math.PI),ee.getAttribute("fill")==="#000"?(C.fillStyle="#000",C.fill(),C.fillStyle="none"):C.stroke();break;case"rect":const Ji=parseFloat(ee.getAttribute("x")||"0"),Xi=parseFloat(ee.getAttribute("y")||"0"),Zi=parseFloat(ee.getAttribute("width")||"0"),al=parseFloat(ee.getAttribute("height")||"0");C.beginPath(),C.rect(Ji*4,Xi*3,Zi*4,al*3),C.stroke();break;case"line":const xn=parseFloat(ee.getAttribute("x1")||"0"),eo=parseFloat(ee.getAttribute("y1")||"0"),Ut=parseFloat(ee.getAttribute("x2")||"0"),zt=parseFloat(ee.getAttribute("y2")||"0");C.beginPath(),C.moveTo(xn*4,eo*3),C.lineTo(Ut*4,zt*3),C.stroke();break;case"ellipse":const to=parseFloat(ee.getAttribute("cx")||"0"),Vt=parseFloat(ee.getAttribute("cy")||"0"),ll=parseFloat(ee.getAttribute("rx")||"0"),cl=parseFloat(ee.getAttribute("ry")||"0");C.beginPath(),C.ellipse(to*4,Vt*3,ll*4,cl*3,0,0,2*Math.PI),C.stroke();break;case"polygon":const no=ee.getAttribute("points");if(no){const Jn=no.split(" ").map(Zt=>{const[ul,Wt]=Zt.split(",").map(Number);return[ul*4,Wt*3]});C.beginPath(),C.moveTo(Jn[0][0],Jn[0][1]);for(let Zt=1;Zt<Jn.length;Zt++)C.lineTo(Jn[Zt][0],Jn[Zt][1]);C.closePath(),C.stroke()}break;case"path":const ro=ee.getAttribute("d");if(ro){const Jn=ro.split(/(?=[MLQC])/);C.beginPath(),Jn.forEach(Zt=>{const ul=Zt[0],Wt=Zt.slice(1).trim().split(/[\s,]+/).map(Number);switch(ul){case"M":C.moveTo(Wt[0]*4,Wt[1]*3);break;case"L":C.lineTo(Wt[0]*4,Wt[1]*3);break;case"Q":C.quadraticCurveTo(Wt[0]*4,Wt[1]*3,Wt[2]*4,Wt[3]*3);break}}),C.stroke()}break}})}catch(ae){console.error("Error drawing template:",ae)}},A=C=>{h.forEach(I=>{if(!(I.points.length<2)){C.globalCompositeOperation=I.tool==="eraser"?"destination-out":"source-over",C.strokeStyle=I.color,C.lineWidth=I.size,C.lineCap="round",C.lineJoin="round",C.beginPath(),C.moveTo(I.points[0].x,I.points[0].y);for(let ae=1;ae<I.points.length;ae++)C.lineTo(I.points[ae].x,I.points[ae].y);C.stroke()}})},z=C=>{const I=n.current;if(!I)return{x:0,y:0};const ae=I.getBoundingClientRect(),Me=I.width/ae.width,Ne=I.height/ae.height;return{x:(C.clientX-ae.left)*Me,y:(C.clientY-ae.top)*Ne}},Y=(C,I,ae,Me)=>{const Ne=C.getImageData(0,0,C.canvas.width,C.canvas.height),ee=Ne.data,Yi=Ne.width,ol=Ne.height,Xt=M(Me);if(!Xt)return;const Sr=(ae*Yi+I)*4,Ji=ee[Sr],Xi=ee[Sr+1],Zi=ee[Sr+2],al=ee[Sr+3];if(Ji===Xt.r&&Xi===Xt.g&&Zi===Xt.b)return;const xn=[[I,ae]],eo=new Set;for(;xn.length>0;){const[Ut,zt]=xn.pop(),to=`${Ut},${zt}`;if(eo.has(to)||Ut<0||Ut>=Yi||zt<0||zt>=ol)continue;const Vt=(zt*Yi+Ut)*4,ll=ee[Vt],cl=ee[Vt+1],no=ee[Vt+2],ro=ee[Vt+3];ll!==Ji||cl!==Xi||no!==Zi||ro!==al||(eo.add(to),ee[Vt]=Xt.r,ee[Vt+1]=Xt.g,ee[Vt+2]=Xt.b,ee[Vt+3]=255,xn.push([Ut+1,zt]),xn.push([Ut-1,zt]),xn.push([Ut,zt+1]),xn.push([Ut,zt-1]))}C.putImageData(Ne,0,0)},M=C=>{const I=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(C);return I?{r:parseInt(I[1],16),g:parseInt(I[2],16),b:parseInt(I[3],16)}:null},q=C=>{const I=z(C);if(i==="fill"){const Me=n.current;if(!Me)return;const Ne=Me.getContext("2d");if(!Ne)return;T(ee=>[...ee,h]),K([]),Y(Ne,Math.floor(I.x),Math.floor(I.y),l),e&&t(!0,3);return}s(!0);const ae={x:I.x,y:I.y,color:l,size:u,tool:i};x([ae])},pe=C=>{if(!r||i==="fill")return;const I=z(C),ae={x:I.x,y:I.y,color:l,size:u,tool:i};x(ee=>[...ee,ae]);const Me=n.current;if(!Me)return;const Ne=Me.getContext("2d");if(Ne&&(Ne.globalCompositeOperation=i==="eraser"?"destination-out":"source-over",Ne.strokeStyle=l,Ne.lineWidth=u,Ne.lineCap="round",Ne.lineJoin="round",g.length>0)){const ee=g[g.length-1];Ne.beginPath(),Ne.moveTo(ee.x,ee.y),Ne.lineTo(I.x,I.y),Ne.stroke()}},N=()=>{if(r&&(s(!1),g.length>0)){const C={points:g,color:l,size:u,tool:i};T(I=>[...I,h]),K([]),f(I=>[...I,C]),x([]),e&&t(!0,5)}},O=()=>{T(C=>[...C,h]),K([]),f([])},D=()=>{if($.length===0)return;const C=$[$.length-1];K(I=>[h,...I]),f(C),T(I=>I.slice(0,-1))},Q=()=>{if(G.length===0)return;const C=G[0];T(I=>[...I,h]),f(C),K(I=>I.slice(1))},re=()=>{const C=n.current;if(!C)return;const I=document.createElement("a");I.download=`smartplay-drawing-${Date.now()}.png`,I.href=C.toDataURL(),I.click(),P(!0),setTimeout(()=>P(!1),3e3),e&&t(!0,10)},ge=C=>{p(C),j("coloring"),k(!1),O()},U=()=>b==="all"?B:B.filter(C=>C.category===b),ie=C=>{switch(C){case"Easy":return"text-green-600 bg-green-100";case"Medium":return"text-yellow-600 bg-yellow-100";case"Hard":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return e?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-50 to-blue-100 p-4",children:[_&&a.jsx(Ns,{width:oe.width,height:oe.height,recycle:!1,numberOfPieces:200,colors:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3"]}),a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-purple-600 mb-2",children:"🎨 Team Drawing & Coloring"}),a.jsx("p",{className:"text-xl md:text-2xl text-purple-500 font-semibold",children:"Create beautiful art together or color amazing templates!"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Mode"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(X,{variant:w==="free"?"primary":"secondary",size:"sm",onClick:()=>{j("free"),p(null)},icon:a.jsx(Xm,{className:"h-4 w-4"}),fullWidth:!0,children:"Free Draw"}),a.jsx(X,{variant:w==="coloring"?"primary":"secondary",size:"sm",onClick:()=>k(!0),icon:a.jsx(lN,{className:"h-4 w-4"}),fullWidth:!0,children:"Coloring"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Tools"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsx(X,{variant:i==="brush"?"primary":"secondary",size:"sm",onClick:()=>o("brush"),icon:a.jsx(Xm,{className:"h-4 w-4"}),fullWidth:!0,children:"Brush"}),a.jsx(X,{variant:i==="eraser"?"primary":"secondary",size:"sm",onClick:()=>o("eraser"),icon:a.jsx(iN,{className:"h-4 w-4"}),fullWidth:!0,children:"Eraser"}),a.jsx(X,{variant:i==="fill"?"primary":"secondary",size:"sm",onClick:()=>o("fill"),icon:a.jsx(hN,{className:"h-4 w-4"}),fullWidth:!0,children:"Fill"})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:["Brush Size: ",u,"px"]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:ue.map(C=>a.jsx("button",{className:`p-3 rounded-xl border-2 transition-all flex items-center justify-center ${u===C?"border-purple-400 bg-purple-100":"border-gray-200 hover:border-purple-300"}`,onClick:()=>d(C),children:a.jsx("div",{className:"bg-gray-800 rounded-full",style:{width:Math.min(C,20),height:Math.min(C,20)}})},C))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Colors"}),a.jsx("div",{className:"grid grid-cols-6 gap-2",children:se.map(C=>a.jsx("button",{className:`w-8 h-8 rounded-full border-4 transition-all ${l===C?"border-gray-800 scale-110":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:C},onClick:()=>c(C)},C))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Actions"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(X,{variant:"secondary",size:"sm",onClick:D,disabled:$.length===0,icon:a.jsx(vN,{className:"h-4 w-4"}),fullWidth:!0,children:"Undo"}),a.jsx(X,{variant:"secondary",size:"sm",onClick:Q,disabled:G.length===0,icon:a.jsx(pN,{className:"h-4 w-4"}),fullWidth:!0,children:"Redo"})]}),a.jsx(X,{variant:"warning",size:"sm",onClick:O,icon:a.jsx(xN,{className:"h-4 w-4"}),fullWidth:!0,children:"Clear Canvas"}),a.jsx(X,{variant:"success",size:"sm",onClick:re,icon:a.jsx(sN,{className:"h-4 w-4"}),fullWidth:!0,children:"Save Drawing"})]})]}),w==="coloring"&&m&&a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-4",children:[a.jsx("h3",{className:"font-bold text-purple-600 mb-2",children:"Current Template"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium text-gray-800",children:m.name}),a.jsx("div",{className:"text-gray-600",children:m.description}),a.jsx("div",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium mt-2 ${ie(m.difficulty)}`,children:m.difficulty})]})]})]})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-4 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(lh,{className:"h-6 w-6 mr-2"}),a.jsx("span",{className:"font-bold text-lg",children:w==="free"?"Free Drawing Canvas":`Coloring: ${(m==null?void 0:m.name)||"Select Template"}`})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(js,{className:"h-5 w-5"}),a.jsx("span",{className:"text-sm",children:"Team Mode"})]})]})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"relative bg-gray-100 rounded-2xl overflow-hidden shadow-inner",children:a.jsx("canvas",{ref:n,width:800,height:600,className:"w-full h-auto cursor-crosshair",onMouseDown:q,onMouseMove:pe,onMouseUp:N,onMouseLeave:N})})})]})})]}),a.jsx(Tt,{children:y&&a.jsx(R.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsxs(R.div,{className:"bg-white rounded-3xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",stiffness:300,damping:30},children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Choose a Coloring Template"}),a.jsx("p",{className:"text-purple-100",children:"Pick your favorite design to color!"})]}),a.jsx("button",{onClick:()=>k(!1),className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:a.jsx(bN,{className:"h-6 w-6"})})]})}),a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(C=>a.jsxs("button",{className:`flex items-center space-x-2 px-4 py-2 rounded-full font-medium transition-all ${b===C.id?"bg-purple-500 text-white":"bg-purple-100 text-purple-700 hover:bg-purple-200"}`,onClick:()=>S(C.id),children:[a.jsx("span",{className:"text-lg",children:C.icon}),a.jsx("span",{children:C.name})]},C.id))})}),a.jsx("div",{className:"p-6 overflow-y-auto max-h-96",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:U().map((C,I)=>a.jsxs(R.div,{className:"bg-white rounded-2xl shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-all border-2 border-gray-100 hover:border-purple-300",onClick:()=>ge(C),whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:I*.1},children:[a.jsx("div",{className:"aspect-square bg-gray-50 flex items-center justify-center p-4",children:a.jsx("div",{className:"w-full h-full",dangerouslySetInnerHTML:{__html:C.svg}})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:C.name}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:C.description}),a.jsx("div",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${ie(C.difficulty)}`,children:C.difficulty})]})]},C.id))})})]})})})]})]}):null},CC=()=>{const e=vt(),{user:t,isProfileComplete:n}=Ve();v.useEffect(()=>{n||e("/profile-setup")},[n,e]);const r=()=>{e("/lobby")};return t?a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx("header",{className:"py-4 px-4 md:px-8 bg-white shadow-sm relative z-10",children:a.jsx("div",{className:"container mx-auto",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(X,{variant:"secondary",size:"sm",onClick:r,icon:a.jsx(Qn,{className:"h-4 w-4"}),children:"Back to Lobby"}),a.jsxs("div",{className:"ml-4 flex items-center",children:[a.jsx(gt,{className:"h-6 w-6 text-primary-600 mr-2"}),a.jsx("span",{className:"text-xl font-bold text-primary-600",children:"SmartPlay"})]})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("div",{className:"mr-2 md:mr-4",children:a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Drawing & Coloring Mode"})})})]})})}),a.jsx("main",{className:"flex-grow",children:a.jsx(_C,{})})]}):null},PC=()=>{const e=vt();return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx("header",{className:"py-6 px-4 md:px-8",children:a.jsx("div",{className:"container mx-auto",children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(gt,{className:"h-8 w-8 text-primary-600 mr-2"}),a.jsx("span",{className:"text-2xl font-bold text-primary-600",children:"SmartPlay"})]})})})}),a.jsx("main",{className:"flex-grow flex items-center justify-center px-4 py-10",children:a.jsx("div",{className:"text-center",children:a.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("div",{className:"text-9xl font-bold text-primary-300 mb-6",children:"404"}),a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Oops! It looks like you're lost in learning space."}),a.jsx(X,{variant:"primary",size:"lg",icon:a.jsx(aN,{className:"h-5 w-5"}),onClick:()=>e("/"),children:"Go Home"})]})})}),a.jsx("footer",{className:"py-6 bg-primary-50",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("p",{className:"text-center text-gray-600",children:["© ",new Date().getFullYear()," SmartPlay - Learning is better together"]})})})]})},vp=({children:e})=>{const{user:t,isProfileComplete:n}=Ve();return!n||!t?a.jsx(Cd,{to:"/auth",replace:!0}):a.jsx(a.Fragment,{children:e})},wp=({children:e})=>{const{user:t}=Ve();return t?a.jsx(Cd,{to:"/lobby",replace:!0}):a.jsx(a.Fragment,{children:e})};function TC(){return a.jsx(Tt,{mode:"wait",children:a.jsxs(jb,{children:[a.jsx(lt,{path:"/",element:a.jsx(wp,{children:a.jsx(jN,{})})}),a.jsx(lt,{path:"/auth",element:a.jsx(wp,{children:a.jsx(q5,{})})}),a.jsx(lt,{path:"/lobby",element:a.jsx(vp,{children:a.jsx(tC,{})})}),a.jsx(lt,{path:"/chat-room/:roomId",element:a.jsx(vp,{children:a.jsx(aC,{})})}),a.jsx(lt,{path:"/math-mania",element:a.jsx(yC,{})}),a.jsx(lt,{path:"/spelling-bee",element:a.jsx(vC,{})}),a.jsx(lt,{path:"/tales",element:a.jsx(bC,{})}),a.jsx(lt,{path:"/rhymes",element:a.jsx(kC,{})}),a.jsx(lt,{path:"/tables",element:a.jsx(NC,{})}),a.jsx(lt,{path:"/team-drawing",element:a.jsx(CC,{})}),a.jsx(lt,{path:"/404",element:a.jsx(PC,{})}),a.jsx(lt,{path:"*",element:a.jsx(Cd,{to:"/404",replace:!0})})]})})}function EC(){return a.jsx(H5,{children:a.jsx(G5,{children:a.jsx(eC,{children:a.jsx(TC,{})})})})}Rg(document.getElementById("root")).render(a.jsx(v.StrictMode,{children:a.jsx(Nb,{children:a.jsx(EC,{})})}));
